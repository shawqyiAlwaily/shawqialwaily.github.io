const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSection-DVICUbL1-CLcOvqsj.js","assets/three-D7HrI6pR.js"])))=>i.map(i=>d[i]);
import{_ as S5}from"./three-D7HrI6pR.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function M5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Kw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E3={exports:{}},Ut={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Fp=Symbol.for("react.element"),E5=Symbol.for("react.portal"),T5=Symbol.for("react.fragment"),A5=Symbol.for("react.strict_mode"),C5=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),R5=Symbol.for("react.context"),L5=Symbol.for("react.forward_ref"),N5=Symbol.for("react.suspense"),k5=Symbol.for("react.memo"),I5=Symbol.for("react.lazy"),bT=Symbol.iterator;function O5(t){return t===null||typeof t!="object"?null:(t=bT&&t[bT]||t["@@iterator"],typeof t=="function"?t:null)}var T3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A3=Object.assign,C3={};function id(t,e,n){this.props=t,this.context=e,this.refs=C3,this.updater=n||T3}id.prototype.isReactComponent={};id.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};id.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P3(){}P3.prototype=id.prototype;function e_(t,e,n){this.props=t,this.context=e,this.refs=C3,this.updater=n||T3}var t_=e_.prototype=new P3;t_.constructor=e_;A3(t_,id.prototype);t_.isPureReactComponent=!0;var wT=Array.isArray,R3=Object.prototype.hasOwnProperty,n_={current:null},L3={key:!0,ref:!0,__self:!0,__source:!0};function N3(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)R3.call(e,r)&&!L3.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Fp,type:t,key:a,ref:s,props:i,_owner:n_.current}}function D5(t,e){return{$$typeof:Fp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fp}function U5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _T=/\/+/g;function Xy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?U5(""+t.key):e.toString(36)}function Cg(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Fp:case E5:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Xy(s,0):r,wT(i)?(n="",t!=null&&(n=t.replace(_T,"$&/")+"/"),Cg(i,e,n,"",function(c){return c})):i!=null&&(r_(i)&&(i=D5(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(_T,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",wT(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+Xy(a,o);s+=Cg(a,e,n,l,i)}else if(l=O5(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+Xy(a,o++),s+=Cg(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function im(t,e,n){if(t==null)return t;var r=[],i=0;return Cg(t,r,"","",function(a){return e.call(n,a,i++)}),r}function z5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},Pg={transition:null},F5={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:Pg,ReactCurrentOwner:n_};function k3(){throw Error("act(...) is not supported in production builds of React.")}Ut.Children={map:im,forEach:function(t,e,n){im(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return im(t,function(){e++}),e},toArray:function(t){return im(t,function(e){return e})||[]},only:function(t){if(!r_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ut.Component=id;Ut.Fragment=T5;Ut.Profiler=C5;Ut.PureComponent=e_;Ut.StrictMode=A5;Ut.Suspense=N5;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F5;Ut.act=k3;Ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=A3({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=n_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)R3.call(e,l)&&!L3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Fp,type:t.type,key:i,ref:a,props:r,_owner:s}};Ut.createContext=function(t){return t={$$typeof:R5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P5,_context:t},t.Consumer=t};Ut.createElement=N3;Ut.createFactory=function(t){var e=N3.bind(null,t);return e.type=t,e};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(t){return{$$typeof:L5,render:t}};Ut.isValidElement=r_;Ut.lazy=function(t){return{$$typeof:I5,_payload:{_status:-1,_result:t},_init:z5}};Ut.memo=function(t,e){return{$$typeof:k5,type:t,compare:e===void 0?null:e}};Ut.startTransition=function(t){var e=Pg.transition;Pg.transition={};try{t()}finally{Pg.transition=e}};Ut.unstable_act=k3;Ut.useCallback=function(t,e){return qr.current.useCallback(t,e)};Ut.useContext=function(t){return qr.current.useContext(t)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};Ut.useEffect=function(t,e){return qr.current.useEffect(t,e)};Ut.useId=function(){return qr.current.useId()};Ut.useImperativeHandle=function(t,e,n){return qr.current.useImperativeHandle(t,e,n)};Ut.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};Ut.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};Ut.useMemo=function(t,e){return qr.current.useMemo(t,e)};Ut.useReducer=function(t,e,n){return qr.current.useReducer(t,e,n)};Ut.useRef=function(t){return qr.current.useRef(t)};Ut.useState=function(t){return qr.current.useState(t)};Ut.useSyncExternalStore=function(t,e,n){return qr.current.useSyncExternalStore(t,e,n)};Ut.useTransition=function(){return qr.current.useTransition()};Ut.version="18.3.1";E3.exports=Ut;var L=E3.exports;const We=Kw(L),I3=M5({__proto__:null,default:We},[L]);var O3={exports:{}},Ci={},D3={exports:{}},U3={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(D,F){var W=D.length;D.push(F);e:for(;0<W;){var K=W-1>>>1,re=D[K];if(0<i(re,F))D[K]=F,D[W]=re,W=K;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],W=D.pop();if(W!==F){D[0]=W;e:for(var K=0,re=D.length,ee=re>>>1;K<ee;){var le=2*(K+1)-1,Le=D[le],Ce=le+1,Re=D[Ce];if(0>i(Le,W))Ce<re&&0>i(Re,Le)?(D[K]=Re,D[Ce]=W,K=Ce):(D[K]=Le,D[le]=W,K=le);else if(Ce<re&&0>i(Re,W))D[K]=Re,D[Ce]=W,K=Ce;else break e}}return F}function i(D,F){var W=D.sortIndex-F.sortIndex;return W!==0?W:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,p=null,m=3,f=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=D)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function M(D){if(b=!1,w(D),!v)if(n(l)!==null)v=!0,ne(C);else{var F=n(c);F!==null&&ie(M,F.startTime-D)}}function C(D,F){v=!1,b&&(b=!1,g(O),O=-1),f=!0;var W=m;try{for(w(F),p=n(l);p!==null&&(!(p.expirationTime>F)||D&&!H());){var K=p.callback;if(typeof K=="function"){p.callback=null,m=p.priorityLevel;var re=K(p.expirationTime<=F);F=t.unstable_now(),typeof re=="function"?p.callback=re:p===n(l)&&r(l),w(F)}else r(l);p=n(l)}if(p!==null)var ee=!0;else{var le=n(c);le!==null&&ie(M,le.startTime-F),ee=!1}return ee}finally{p=null,m=W,f=!1}}var A=!1,N=null,O=-1,P=5,I=-1;function H(){return!(t.unstable_now()-I<P)}function q(){if(N!==null){var D=t.unstable_now();I=D;var F=!0;try{F=N(!0,D)}finally{F?se():(A=!1,N=null)}}else A=!1}var se;if(typeof _=="function")se=function(){_(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=q,se=function(){Z.postMessage(null)}}else se=function(){x(q,0)};function ne(D){N=D,A||(A=!0,se())}function ie(D,F){O=x(function(){D(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,ne(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var W=m;m=F;try{return D()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=m;m=D;try{return F()}finally{m=W}},t.unstable_scheduleCallback=function(D,F,W){var K=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,D){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=W+re,D={id:h++,callback:F,priorityLevel:D,startTime:W,expirationTime:re,sortIndex:-1},W>K?(D.sortIndex=W,e(c,D),n(l)===null&&D===n(c)&&(b?(g(O),O=-1):b=!0,ie(M,W-K))):(D.sortIndex=re,e(l,D),v||f||(v=!0,ne(C))),D},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(D){var F=m;return function(){var W=m;m=F;try{return D.apply(this,arguments)}finally{m=W}}}})(U3);D3.exports=U3;var B5=D3.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var $5=L,Ti=B5;function Ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z3=new Set,Hh={};function oc(t,e){Fu(t,e),Fu(t+"Capture",e)}function Fu(t,e){for(Hh[t]=e,t=0;t<e.length;t++)z3.add(e[t])}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ox=Object.prototype.hasOwnProperty,j5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ST={},MT={};function V5(t){return Ox.call(MT,t)?!0:Ox.call(ST,t)?!1:j5.test(t)?MT[t]=!0:(ST[t]=!0,!1)}function H5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W5(t,e,n,r){if(e===null||typeof e>"u"||H5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hr[t]=new Xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hr[e]=new Xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hr[t]=new Xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hr[t]=new Xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hr[t]=new Xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hr[t]=new Xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hr[t]=new Xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hr[t]=new Xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hr[t]=new Xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var i_=/[\-:]([a-z])/g;function a_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i_,a_);hr[e]=new Xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i_,a_);hr[e]=new Xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i_,a_);hr[e]=new Xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hr[t]=new Xr(t,1,!1,t.toLowerCase(),null,!1,!1)});hr.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hr[t]=new Xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function s_(t,e,n,r){var i=hr.hasOwnProperty(e)?hr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W5(e,n,i,r)&&(n=null),r||i===null?V5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ns=$5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,am=Symbol.for("react.element"),lu=Symbol.for("react.portal"),cu=Symbol.for("react.fragment"),o_=Symbol.for("react.strict_mode"),Dx=Symbol.for("react.profiler"),F3=Symbol.for("react.provider"),B3=Symbol.for("react.context"),l_=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),zx=Symbol.for("react.suspense_list"),c_=Symbol.for("react.memo"),so=Symbol.for("react.lazy"),$3=Symbol.for("react.offscreen"),ET=Symbol.iterator;function Dd(t){return t===null||typeof t!="object"?null:(t=ET&&t[ET]||t["@@iterator"],typeof t=="function"?t:null)}var wn=Object.assign,Yy;function vh(t){if(Yy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yy=e&&e[1]||""}return`
`+Yy+t}var Zy=!1;function Qy(t,e){if(!t||Zy)return"";Zy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Zy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vh(t):""}function G5(t){switch(t.tag){case 5:return vh(t.type);case 16:return vh("Lazy");case 13:return vh("Suspense");case 19:return vh("SuspenseList");case 0:case 2:case 15:return t=Qy(t.type,!1),t;case 11:return t=Qy(t.type.render,!1),t;case 1:return t=Qy(t.type,!0),t;default:return""}}function Fx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cu:return"Fragment";case lu:return"Portal";case Dx:return"Profiler";case o_:return"StrictMode";case Ux:return"Suspense";case zx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case B3:return(t.displayName||"Context")+".Consumer";case F3:return(t._context.displayName||"Context")+".Provider";case l_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case c_:return e=t.displayName||null,e!==null?e:Fx(t.type)||"Memo";case so:e=t._payload,t=t._init;try{return Fx(t(e))}catch{}}return null}function q5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fx(e);case 8:return e===o_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function j3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X5(t){var e=j3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sm(t){t._valueTracker||(t._valueTracker=X5(t))}function V3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=j3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function e0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bx(t,e){var n=e.checked;return wn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function TT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H3(t,e){e=e.checked,e!=null&&s_(t,"checked",e,!1)}function $x(t,e){H3(t,e);var n=Lo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jx(t,e.type,n):e.hasOwnProperty("defaultValue")&&jx(t,e.type,Lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jx(t,e,n){(e!=="number"||e0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yh=Array.isArray;function Ru(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return wn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function CT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ve(92));if(yh(n)){if(1<n.length)throw Error(Ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lo(n)}}function W3(t,e){var n=Lo(e.value),r=Lo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function PT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function G3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?G3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var om,q3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(om=om||document.createElement("div"),om.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=om.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y5=["Webkit","ms","Moz","O"];Object.keys(Sh).forEach(function(t){Y5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sh[e]=Sh[t]})});function X3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sh.hasOwnProperty(t)&&Sh[t]?(""+e).trim():e+"px"}function Y3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=X3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Z5=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wx(t,e){if(e){if(Z5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ve(62))}}function Gx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qx=null;function u_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xx=null,Lu=null,Nu=null;function RT(t){if(t=jp(t)){if(typeof Xx!="function")throw Error(Ve(280));var e=t.stateNode;e&&(e=J0(e),Xx(t.stateNode,t.type,e))}}function Z3(t){Lu?Nu?Nu.push(t):Nu=[t]:Lu=t}function Q3(){if(Lu){var t=Lu,e=Nu;if(Nu=Lu=null,RT(t),e)for(t=0;t<e.length;t++)RT(e[t])}}function J3(t,e){return t(e)}function K3(){}var Jy=!1;function eR(t,e,n){if(Jy)return t(e,n);Jy=!0;try{return J3(t,e,n)}finally{Jy=!1,(Lu!==null||Nu!==null)&&(K3(),Q3())}}function Gh(t,e){var n=t.stateNode;if(n===null)return null;var r=J0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ve(231,e,typeof n));return n}var Yx=!1;if(Ss)try{var Ud={};Object.defineProperty(Ud,"passive",{get:function(){Yx=!0}}),window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{Yx=!1}function Q5(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Mh=!1,t0=null,n0=!1,Zx=null,J5={onError:function(t){Mh=!0,t0=t}};function K5(t,e,n,r,i,a,s,o,l){Mh=!1,t0=null,Q5.apply(J5,arguments)}function ez(t,e,n,r,i,a,s,o,l){if(K5.apply(this,arguments),Mh){if(Mh){var c=t0;Mh=!1,t0=null}else throw Error(Ve(198));n0||(n0=!0,Zx=c)}}function lc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function LT(t){if(lc(t)!==t)throw Error(Ve(188))}function tz(t){var e=t.alternate;if(!e){if(e=lc(t),e===null)throw Error(Ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return LT(i),t;if(a===r)return LT(i),e;a=a.sibling}throw Error(Ve(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ve(189))}}if(n.alternate!==r)throw Error(Ve(190))}if(n.tag!==3)throw Error(Ve(188));return n.stateNode.current===n?t:e}function nR(t){return t=tz(t),t!==null?rR(t):null}function rR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rR(t);if(e!==null)return e;t=t.sibling}return null}var iR=Ti.unstable_scheduleCallback,NT=Ti.unstable_cancelCallback,nz=Ti.unstable_shouldYield,rz=Ti.unstable_requestPaint,Nn=Ti.unstable_now,iz=Ti.unstable_getCurrentPriorityLevel,d_=Ti.unstable_ImmediatePriority,aR=Ti.unstable_UserBlockingPriority,r0=Ti.unstable_NormalPriority,az=Ti.unstable_LowPriority,sR=Ti.unstable_IdlePriority,X0=null,Da=null;function sz(t){if(Da&&typeof Da.onCommitFiberRoot=="function")try{Da.onCommitFiberRoot(X0,t,void 0,(t.current.flags&128)===128)}catch{}}var ha=Math.clz32?Math.clz32:cz,oz=Math.log,lz=Math.LN2;function cz(t){return t>>>=0,t===0?32:31-(oz(t)/lz|0)|0}var lm=64,cm=4194304;function xh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function i0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=xh(o):(a&=s,a!==0&&(r=xh(a)))}else s=n&~i,s!==0?r=xh(s):a!==0&&(r=xh(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ha(e),i=1<<n,r|=t[n],e&=~i;return r}function uz(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dz(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-ha(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=uz(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function Qx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oR(){var t=lm;return lm<<=1,!(lm&4194240)&&(lm=64),t}function Ky(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ha(e),t[e]=n}function hz(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ha(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function h_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ha(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Zt=0;function lR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cR,p_,uR,dR,hR,Jx=!1,um=[],vo=null,yo=null,xo=null,qh=new Map,Xh=new Map,uo=[],pz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kT(t,e){switch(t){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":qh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xh.delete(e.pointerId)}}function zd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=jp(e),e!==null&&p_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fz(t,e,n,r,i){switch(e){case"focusin":return vo=zd(vo,t,e,n,r,i),!0;case"dragenter":return yo=zd(yo,t,e,n,r,i),!0;case"mouseover":return xo=zd(xo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return qh.set(a,zd(qh.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Xh.set(a,zd(Xh.get(a)||null,t,e,n,r,i)),!0}return!1}function pR(t){var e=Ll(t.target);if(e!==null){var n=lc(e);if(n!==null){if(e=n.tag,e===13){if(e=tR(n),e!==null){t.blockedOn=e,hR(t.priority,function(){uR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qx=r,n.target.dispatchEvent(r),qx=null}else return e=jp(n),e!==null&&p_(e),t.blockedOn=n,!1;e.shift()}return!0}function IT(t,e,n){Rg(t)&&n.delete(e)}function mz(){Jx=!1,vo!==null&&Rg(vo)&&(vo=null),yo!==null&&Rg(yo)&&(yo=null),xo!==null&&Rg(xo)&&(xo=null),qh.forEach(IT),Xh.forEach(IT)}function Fd(t,e){t.blockedOn===e&&(t.blockedOn=null,Jx||(Jx=!0,Ti.unstable_scheduleCallback(Ti.unstable_NormalPriority,mz)))}function Yh(t){function e(i){return Fd(i,t)}if(0<um.length){Fd(um[0],t);for(var n=1;n<um.length;n++){var r=um[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vo!==null&&Fd(vo,t),yo!==null&&Fd(yo,t),xo!==null&&Fd(xo,t),qh.forEach(e),Xh.forEach(e),n=0;n<uo.length;n++)r=uo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<uo.length&&(n=uo[0],n.blockedOn===null);)pR(n),n.blockedOn===null&&uo.shift()}var ku=Ns.ReactCurrentBatchConfig,a0=!0;function gz(t,e,n,r){var i=Zt,a=ku.transition;ku.transition=null;try{Zt=1,f_(t,e,n,r)}finally{Zt=i,ku.transition=a}}function vz(t,e,n,r){var i=Zt,a=ku.transition;ku.transition=null;try{Zt=4,f_(t,e,n,r)}finally{Zt=i,ku.transition=a}}function f_(t,e,n,r){if(a0){var i=Kx(t,e,n,r);if(i===null)c1(t,e,r,s0,n),kT(t,r);else if(fz(i,t,e,n,r))r.stopPropagation();else if(kT(t,r),e&4&&-1<pz.indexOf(t)){for(;i!==null;){var a=jp(i);if(a!==null&&cR(a),a=Kx(t,e,n,r),a===null&&c1(t,e,r,s0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else c1(t,e,r,null,n)}}var s0=null;function Kx(t,e,n,r){if(s0=null,t=u_(r),t=Ll(t),t!==null)if(e=lc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return s0=t,null}function fR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iz()){case d_:return 1;case aR:return 4;case r0:case az:return 16;case sR:return 536870912;default:return 16}default:return 16}}var fo=null,m_=null,Lg=null;function mR(){if(Lg)return Lg;var t,e=m_,n=e.length,r,i="value"in fo?fo.value:fo.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Lg=i.slice(t,1<r?1-r:void 0)}function Ng(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dm(){return!0}function OT(){return!1}function Pi(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?dm:OT,this.isPropagationStopped=OT,this}return wn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dm)},persist:function(){},isPersistent:dm}),e}var ad={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g_=Pi(ad),$p=wn({},ad,{view:0,detail:0}),yz=Pi($p),e1,t1,Bd,Y0=wn({},$p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bd&&(Bd&&t.type==="mousemove"?(e1=t.screenX-Bd.screenX,t1=t.screenY-Bd.screenY):t1=e1=0,Bd=t),e1)},movementY:function(t){return"movementY"in t?t.movementY:t1}}),DT=Pi(Y0),xz=wn({},Y0,{dataTransfer:0}),bz=Pi(xz),wz=wn({},$p,{relatedTarget:0}),n1=Pi(wz),_z=wn({},ad,{animationName:0,elapsedTime:0,pseudoElement:0}),Sz=Pi(_z),Mz=wn({},ad,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ez=Pi(Mz),Tz=wn({},ad,{data:0}),UT=Pi(Tz),Az={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pz[t])?!!e[t]:!1}function v_(){return Rz}var Lz=wn({},$p,{key:function(t){if(t.key){var e=Az[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ng(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v_,charCode:function(t){return t.type==="keypress"?Ng(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ng(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nz=Pi(Lz),kz=wn({},Y0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zT=Pi(kz),Iz=wn({},$p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v_}),Oz=Pi(Iz),Dz=wn({},ad,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uz=Pi(Dz),zz=wn({},Y0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fz=Pi(zz),Bz=[9,13,27,32],y_=Ss&&"CompositionEvent"in window,Eh=null;Ss&&"documentMode"in document&&(Eh=document.documentMode);var $z=Ss&&"TextEvent"in window&&!Eh,gR=Ss&&(!y_||Eh&&8<Eh&&11>=Eh),FT=" ",BT=!1;function vR(t,e){switch(t){case"keyup":return Bz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uu=!1;function jz(t,e){switch(t){case"compositionend":return yR(e);case"keypress":return e.which!==32?null:(BT=!0,FT);case"textInput":return t=e.data,t===FT&&BT?null:t;default:return null}}function Vz(t,e){if(uu)return t==="compositionend"||!y_&&vR(t,e)?(t=mR(),Lg=m_=fo=null,uu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gR&&e.locale!=="ko"?null:e.data;default:return null}}var Hz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $T(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hz[t.type]:e==="textarea"}function xR(t,e,n,r){Z3(r),e=o0(e,"onChange"),0<e.length&&(n=new g_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Th=null,Zh=null;function Wz(t){RR(t,0)}function Z0(t){var e=pu(t);if(V3(e))return t}function Gz(t,e){if(t==="change")return e}var bR=!1;if(Ss){var r1;if(Ss){var i1="oninput"in document;if(!i1){var jT=document.createElement("div");jT.setAttribute("oninput","return;"),i1=typeof jT.oninput=="function"}r1=i1}else r1=!1;bR=r1&&(!document.documentMode||9<document.documentMode)}function VT(){Th&&(Th.detachEvent("onpropertychange",wR),Zh=Th=null)}function wR(t){if(t.propertyName==="value"&&Z0(Zh)){var e=[];xR(e,Zh,t,u_(t)),eR(Wz,e)}}function qz(t,e,n){t==="focusin"?(VT(),Th=e,Zh=n,Th.attachEvent("onpropertychange",wR)):t==="focusout"&&VT()}function Xz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Z0(Zh)}function Yz(t,e){if(t==="click")return Z0(e)}function Zz(t,e){if(t==="input"||t==="change")return Z0(e)}function Qz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fa=typeof Object.is=="function"?Object.is:Qz;function Qh(t,e){if(fa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ox.call(e,i)||!fa(t[i],e[i]))return!1}return!0}function HT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function WT(t,e){var n=HT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HT(n)}}function _R(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_R(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SR(){for(var t=window,e=e0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=e0(t.document)}return e}function x_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Jz(t){var e=SR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_R(n.ownerDocument.documentElement,n)){if(r!==null&&x_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=WT(n,a);var s=WT(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kz=Ss&&"documentMode"in document&&11>=document.documentMode,du=null,eb=null,Ah=null,tb=!1;function GT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tb||du==null||du!==e0(r)||(r=du,"selectionStart"in r&&x_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ah&&Qh(Ah,r)||(Ah=r,r=o0(eb,"onSelect"),0<r.length&&(e=new g_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=du)))}function hm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hu={animationend:hm("Animation","AnimationEnd"),animationiteration:hm("Animation","AnimationIteration"),animationstart:hm("Animation","AnimationStart"),transitionend:hm("Transition","TransitionEnd")},a1={},MR={};Ss&&(MR=document.createElement("div").style,"AnimationEvent"in window||(delete hu.animationend.animation,delete hu.animationiteration.animation,delete hu.animationstart.animation),"TransitionEvent"in window||delete hu.transitionend.transition);function Q0(t){if(a1[t])return a1[t];if(!hu[t])return t;var e=hu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MR)return a1[t]=e[n];return t}var ER=Q0("animationend"),TR=Q0("animationiteration"),AR=Q0("animationstart"),CR=Q0("transitionend"),PR=new Map,qT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(t,e){PR.set(t,e),oc(e,[t])}for(var s1=0;s1<qT.length;s1++){var o1=qT[s1],eF=o1.toLowerCase(),tF=o1[0].toUpperCase()+o1.slice(1);jo(eF,"on"+tF)}jo(ER,"onAnimationEnd");jo(TR,"onAnimationIteration");jo(AR,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(CR,"onTransitionEnd");Fu("onMouseEnter",["mouseout","mouseover"]);Fu("onMouseLeave",["mouseout","mouseover"]);Fu("onPointerEnter",["pointerout","pointerover"]);Fu("onPointerLeave",["pointerout","pointerover"]);oc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oc("onBeforeInput",["compositionend","keypress","textInput","paste"]);oc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nF=new Set("cancel close invalid load scroll toggle".split(" ").concat(bh));function XT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ez(r,e,void 0,t),t.currentTarget=null}function RR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;XT(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;XT(i,o,c),a=l}}}if(n0)throw t=Zx,n0=!1,Zx=null,t}function ln(t,e){var n=e[sb];n===void 0&&(n=e[sb]=new Set);var r=t+"__bubble";n.has(r)||(LR(e,t,2,!1),n.add(r))}function l1(t,e,n){var r=0;e&&(r|=4),LR(n,t,r,e)}var pm="_reactListening"+Math.random().toString(36).slice(2);function Jh(t){if(!t[pm]){t[pm]=!0,z3.forEach(function(n){n!=="selectionchange"&&(nF.has(n)||l1(n,!1,t),l1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pm]||(e[pm]=!0,l1("selectionchange",!1,e))}}function LR(t,e,n,r){switch(fR(e)){case 1:var i=gz;break;case 4:i=vz;break;default:i=f_}n=i.bind(null,e,n,t),i=void 0,!Yx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function c1(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ll(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}eR(function(){var c=a,h=u_(n),p=[];e:{var m=PR.get(t);if(m!==void 0){var f=g_,v=t;switch(t){case"keypress":if(Ng(n)===0)break e;case"keydown":case"keyup":f=Nz;break;case"focusin":v="focus",f=n1;break;case"focusout":v="blur",f=n1;break;case"beforeblur":case"afterblur":f=n1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=DT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=bz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Oz;break;case ER:case TR:case AR:f=Sz;break;case CR:f=Uz;break;case"scroll":f=yz;break;case"wheel":f=Fz;break;case"copy":case"cut":case"paste":f=Ez;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=zT}var b=(e&4)!==0,x=!b&&t==="scroll",g=b?m!==null?m+"Capture":null:m;b=[];for(var _=c,w;_!==null;){w=_;var M=w.stateNode;if(w.tag===5&&M!==null&&(w=M,g!==null&&(M=Gh(_,g),M!=null&&b.push(Kh(_,M,w)))),x)break;_=_.return}0<b.length&&(m=new f(m,v,null,n,h),p.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&n!==qx&&(v=n.relatedTarget||n.fromElement)&&(Ll(v)||v[Ms]))break e;if((f||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=c,v=v?Ll(v):null,v!==null&&(x=lc(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=c),f!==v)){if(b=DT,M="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=zT,M="onPointerLeave",g="onPointerEnter",_="pointer"),x=f==null?m:pu(f),w=v==null?m:pu(v),m=new b(M,_+"leave",f,n,h),m.target=x,m.relatedTarget=w,M=null,Ll(h)===c&&(b=new b(g,_+"enter",v,n,h),b.target=w,b.relatedTarget=x,M=b),x=M,f&&v)t:{for(b=f,g=v,_=0,w=b;w;w=Pc(w))_++;for(w=0,M=g;M;M=Pc(M))w++;for(;0<_-w;)b=Pc(b),_--;for(;0<w-_;)g=Pc(g),w--;for(;_--;){if(b===g||g!==null&&b===g.alternate)break t;b=Pc(b),g=Pc(g)}b=null}else b=null;f!==null&&YT(p,m,f,b,!1),v!==null&&x!==null&&YT(p,x,v,b,!0)}}e:{if(m=c?pu(c):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var C=Gz;else if($T(m))if(bR)C=Zz;else{C=Xz;var A=qz}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=Yz);if(C&&(C=C(t,c))){xR(p,C,n,h);break e}A&&A(t,m,c),t==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&jx(m,"number",m.value)}switch(A=c?pu(c):window,t){case"focusin":($T(A)||A.contentEditable==="true")&&(du=A,eb=c,Ah=null);break;case"focusout":Ah=eb=du=null;break;case"mousedown":tb=!0;break;case"contextmenu":case"mouseup":case"dragend":tb=!1,GT(p,n,h);break;case"selectionchange":if(Kz)break;case"keydown":case"keyup":GT(p,n,h)}var N;if(y_)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else uu?vR(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(gR&&n.locale!=="ko"&&(uu||O!=="onCompositionStart"?O==="onCompositionEnd"&&uu&&(N=mR()):(fo=h,m_="value"in fo?fo.value:fo.textContent,uu=!0)),A=o0(c,O),0<A.length&&(O=new UT(O,t,null,n,h),p.push({event:O,listeners:A}),N?O.data=N:(N=yR(n),N!==null&&(O.data=N)))),(N=$z?jz(t,n):Vz(t,n))&&(c=o0(c,"onBeforeInput"),0<c.length&&(h=new UT("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=N))}RR(p,e)})}function Kh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function o0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Gh(t,n),a!=null&&r.unshift(Kh(t,a,i)),a=Gh(t,e),a!=null&&r.push(Kh(t,a,i))),t=t.return}return r}function Pc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YT(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Gh(n,a),l!=null&&s.unshift(Kh(n,l,o))):i||(l=Gh(n,a),l!=null&&s.push(Kh(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var rF=/\r\n?/g,iF=/\u0000|\uFFFD/g;function ZT(t){return(typeof t=="string"?t:""+t).replace(rF,`
`).replace(iF,"")}function fm(t,e,n){if(e=ZT(e),ZT(t)!==e&&n)throw Error(Ve(425))}function l0(){}var nb=null,rb=null;function ib(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ab=typeof setTimeout=="function"?setTimeout:void 0,aF=typeof clearTimeout=="function"?clearTimeout:void 0,QT=typeof Promise=="function"?Promise:void 0,sF=typeof queueMicrotask=="function"?queueMicrotask:typeof QT<"u"?function(t){return QT.resolve(null).then(t).catch(oF)}:ab;function oF(t){setTimeout(function(){throw t})}function u1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Yh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yh(e)}function bo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function JT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sd=Math.random().toString(36).slice(2),Ia="__reactFiber$"+sd,ep="__reactProps$"+sd,Ms="__reactContainer$"+sd,sb="__reactEvents$"+sd,lF="__reactListeners$"+sd,cF="__reactHandles$"+sd;function Ll(t){var e=t[Ia];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ms]||n[Ia]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=JT(t);t!==null;){if(n=t[Ia])return n;t=JT(t)}return e}t=n,n=t.parentNode}return null}function jp(t){return t=t[Ia]||t[Ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ve(33))}function J0(t){return t[ep]||null}var ob=[],fu=-1;function Vo(t){return{current:t}}function hn(t){0>fu||(t.current=ob[fu],ob[fu]=null,fu--)}function an(t,e){fu++,ob[fu]=t.current,t.current=e}var No={},Pr=Vo(No),ai=Vo(!1),Ql=No;function Bu(t,e){var n=t.type.contextTypes;if(!n)return No;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function si(t){return t=t.childContextTypes,t!=null}function c0(){hn(ai),hn(Pr)}function KT(t,e,n){if(Pr.current!==No)throw Error(Ve(168));an(Pr,e),an(ai,n)}function NR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ve(108,q5(t)||"Unknown",i));return wn({},n,r)}function u0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||No,Ql=Pr.current,an(Pr,t),an(ai,ai.current),!0}function e2(t,e,n){var r=t.stateNode;if(!r)throw Error(Ve(169));n?(t=NR(t,e,Ql),r.__reactInternalMemoizedMergedChildContext=t,hn(ai),hn(Pr),an(Pr,t)):hn(ai),an(ai,n)}var hs=null,K0=!1,d1=!1;function kR(t){hs===null?hs=[t]:hs.push(t)}function uF(t){K0=!0,kR(t)}function Ho(){if(!d1&&hs!==null){d1=!0;var t=0,e=Zt;try{var n=hs;for(Zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hs=null,K0=!1}catch(i){throw hs!==null&&(hs=hs.slice(t+1)),iR(d_,Ho),i}finally{Zt=e,d1=!1}}return null}var mu=[],gu=0,d0=null,h0=0,$i=[],ji=0,Jl=null,fs=1,ms="";function _l(t,e){mu[gu++]=h0,mu[gu++]=d0,d0=t,h0=e}function IR(t,e,n){$i[ji++]=fs,$i[ji++]=ms,$i[ji++]=Jl,Jl=t;var r=fs;t=ms;var i=32-ha(r)-1;r&=~(1<<i),n+=1;var a=32-ha(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fs=1<<32-ha(e)+i|n<<i|r,ms=a+t}else fs=1<<a|n<<i|r,ms=t}function b_(t){t.return!==null&&(_l(t,1),IR(t,1,0))}function w_(t){for(;t===d0;)d0=mu[--gu],mu[gu]=null,h0=mu[--gu],mu[gu]=null;for(;t===Jl;)Jl=$i[--ji],$i[ji]=null,ms=$i[--ji],$i[ji]=null,fs=$i[--ji],$i[ji]=null}var Si=null,_i=null,fn=!1,ca=null;function OR(t,e){var n=Wi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function t2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Si=t,_i=bo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Si=t,_i=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jl!==null?{id:fs,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Si=t,_i=null,!0):!1;default:return!1}}function lb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cb(t){if(fn){var e=_i;if(e){var n=e;if(!t2(t,e)){if(lb(t))throw Error(Ve(418));e=bo(n.nextSibling);var r=Si;e&&t2(t,e)?OR(r,n):(t.flags=t.flags&-4097|2,fn=!1,Si=t)}}else{if(lb(t))throw Error(Ve(418));t.flags=t.flags&-4097|2,fn=!1,Si=t}}}function n2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Si=t}function mm(t){if(t!==Si)return!1;if(!fn)return n2(t),fn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ib(t.type,t.memoizedProps)),e&&(e=_i)){if(lb(t))throw DR(),Error(Ve(418));for(;e;)OR(t,e),e=bo(e.nextSibling)}if(n2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_i=bo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_i=null}}else _i=Si?bo(t.stateNode.nextSibling):null;return!0}function DR(){for(var t=_i;t;)t=bo(t.nextSibling)}function $u(){_i=Si=null,fn=!1}function __(t){ca===null?ca=[t]:ca.push(t)}var dF=Ns.ReactCurrentBatchConfig;function $d(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ve(309));var r=n.stateNode}if(!r)throw Error(Ve(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ve(284));if(!n._owner)throw Error(Ve(290,t))}return t}function gm(t,e){throw t=Object.prototype.toString.call(e),Error(Ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function r2(t){var e=t._init;return e(t._payload)}function UR(t){function e(g,_){if(t){var w=g.deletions;w===null?(g.deletions=[_],g.flags|=16):w.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Mo(g,_),g.index=0,g.sibling=null,g}function a(g,_,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<_?(g.flags|=2,_):w):(g.flags|=2,_)):(g.flags|=1048576,_)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,_,w,M){return _===null||_.tag!==6?(_=y1(w,g.mode,M),_.return=g,_):(_=i(_,w),_.return=g,_)}function l(g,_,w,M){var C=w.type;return C===cu?h(g,_,w.props.children,M,w.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===so&&r2(C)===_.type)?(M=i(_,w.props),M.ref=$d(g,_,w),M.return=g,M):(M=Fg(w.type,w.key,w.props,null,g.mode,M),M.ref=$d(g,_,w),M.return=g,M)}function c(g,_,w,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=x1(w,g.mode,M),_.return=g,_):(_=i(_,w.children||[]),_.return=g,_)}function h(g,_,w,M,C){return _===null||_.tag!==7?(_=Vl(w,g.mode,M,C),_.return=g,_):(_=i(_,w),_.return=g,_)}function p(g,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=y1(""+_,g.mode,w),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case am:return w=Fg(_.type,_.key,_.props,null,g.mode,w),w.ref=$d(g,null,_),w.return=g,w;case lu:return _=x1(_,g.mode,w),_.return=g,_;case so:var M=_._init;return p(g,M(_._payload),w)}if(yh(_)||Dd(_))return _=Vl(_,g.mode,w,null),_.return=g,_;gm(g,_)}return null}function m(g,_,w,M){var C=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(g,_,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case am:return w.key===C?l(g,_,w,M):null;case lu:return w.key===C?c(g,_,w,M):null;case so:return C=w._init,m(g,_,C(w._payload),M)}if(yh(w)||Dd(w))return C!==null?null:h(g,_,w,M,null);gm(g,w)}return null}function f(g,_,w,M,C){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(w)||null,o(_,g,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case am:return g=g.get(M.key===null?w:M.key)||null,l(_,g,M,C);case lu:return g=g.get(M.key===null?w:M.key)||null,c(_,g,M,C);case so:var A=M._init;return f(g,_,w,A(M._payload),C)}if(yh(M)||Dd(M))return g=g.get(w)||null,h(_,g,M,C,null);gm(_,M)}return null}function v(g,_,w,M){for(var C=null,A=null,N=_,O=_=0,P=null;N!==null&&O<w.length;O++){N.index>O?(P=N,N=null):P=N.sibling;var I=m(g,N,w[O],M);if(I===null){N===null&&(N=P);break}t&&N&&I.alternate===null&&e(g,N),_=a(I,_,O),A===null?C=I:A.sibling=I,A=I,N=P}if(O===w.length)return n(g,N),fn&&_l(g,O),C;if(N===null){for(;O<w.length;O++)N=p(g,w[O],M),N!==null&&(_=a(N,_,O),A===null?C=N:A.sibling=N,A=N);return fn&&_l(g,O),C}for(N=r(g,N);O<w.length;O++)P=f(N,g,O,w[O],M),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?O:P.key),_=a(P,_,O),A===null?C=P:A.sibling=P,A=P);return t&&N.forEach(function(H){return e(g,H)}),fn&&_l(g,O),C}function b(g,_,w,M){var C=Dd(w);if(typeof C!="function")throw Error(Ve(150));if(w=C.call(w),w==null)throw Error(Ve(151));for(var A=C=null,N=_,O=_=0,P=null,I=w.next();N!==null&&!I.done;O++,I=w.next()){N.index>O?(P=N,N=null):P=N.sibling;var H=m(g,N,I.value,M);if(H===null){N===null&&(N=P);break}t&&N&&H.alternate===null&&e(g,N),_=a(H,_,O),A===null?C=H:A.sibling=H,A=H,N=P}if(I.done)return n(g,N),fn&&_l(g,O),C;if(N===null){for(;!I.done;O++,I=w.next())I=p(g,I.value,M),I!==null&&(_=a(I,_,O),A===null?C=I:A.sibling=I,A=I);return fn&&_l(g,O),C}for(N=r(g,N);!I.done;O++,I=w.next())I=f(N,g,O,I.value,M),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?O:I.key),_=a(I,_,O),A===null?C=I:A.sibling=I,A=I);return t&&N.forEach(function(q){return e(g,q)}),fn&&_l(g,O),C}function x(g,_,w,M){if(typeof w=="object"&&w!==null&&w.type===cu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case am:e:{for(var C=w.key,A=_;A!==null;){if(A.key===C){if(C=w.type,C===cu){if(A.tag===7){n(g,A.sibling),_=i(A,w.props.children),_.return=g,g=_;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===so&&r2(C)===A.type){n(g,A.sibling),_=i(A,w.props),_.ref=$d(g,A,w),_.return=g,g=_;break e}n(g,A);break}else e(g,A);A=A.sibling}w.type===cu?(_=Vl(w.props.children,g.mode,M,w.key),_.return=g,g=_):(M=Fg(w.type,w.key,w.props,null,g.mode,M),M.ref=$d(g,_,w),M.return=g,g=M)}return s(g);case lu:e:{for(A=w.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(g,_.sibling),_=i(_,w.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=x1(w,g.mode,M),_.return=g,g=_}return s(g);case so:return A=w._init,x(g,_,A(w._payload),M)}if(yh(w))return v(g,_,w,M);if(Dd(w))return b(g,_,w,M);gm(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,w),_.return=g,g=_):(n(g,_),_=y1(w,g.mode,M),_.return=g,g=_),s(g)):n(g,_)}return x}var ju=UR(!0),zR=UR(!1),p0=Vo(null),f0=null,vu=null,S_=null;function M_(){S_=vu=f0=null}function E_(t){var e=p0.current;hn(p0),t._currentValue=e}function ub(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Iu(t,e){f0=t,S_=vu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ii=!0),t.firstContext=null)}function Xi(t){var e=t._currentValue;if(S_!==t)if(t={context:t,memoizedValue:e,next:null},vu===null){if(f0===null)throw Error(Ve(308));vu=t,f0.dependencies={lanes:0,firstContext:t}}else vu=vu.next=t;return e}var Nl=null;function T_(t){Nl===null?Nl=[t]:Nl.push(t)}function FR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,T_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Es(t,r)}function Es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oo=!1;function A_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Bt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Es(t,n)}return i=r.interleaved,i===null?(e.next=e,T_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Es(t,n)}function kg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,h_(t,n)}}function i2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function m0(t,e,n,r){var i=t.updateQueue;oo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(a!==null){var p=i.baseState;s=0,h=c=l=null,o=a;do{var m=o.lane,f=o.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,b=o;switch(m=e,f=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){p=v.call(f,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,m=typeof v=="function"?v.call(f,p,m):v,m==null)break e;p=wn({},p,m);break e;case 2:oo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else f={eventTime:f,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=f,l=p):h=h.next=f,s|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ec|=s,t.lanes=s,t.memoizedState=p}}function a2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ve(191,i));i.call(r)}}}var Vp={},Ua=Vo(Vp),tp=Vo(Vp),np=Vo(Vp);function kl(t){if(t===Vp)throw Error(Ve(174));return t}function C_(t,e){switch(an(np,e),an(tp,t),an(Ua,Vp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hx(e,t)}hn(Ua),an(Ua,e)}function Vu(){hn(Ua),hn(tp),hn(np)}function $R(t){kl(np.current);var e=kl(Ua.current),n=Hx(e,t.type);e!==n&&(an(tp,t),an(Ua,n))}function P_(t){tp.current===t&&(hn(Ua),hn(tp))}var vn=Vo(0);function g0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var h1=[];function R_(){for(var t=0;t<h1.length;t++)h1[t]._workInProgressVersionPrimary=null;h1.length=0}var Ig=Ns.ReactCurrentDispatcher,p1=Ns.ReactCurrentBatchConfig,Kl=0,bn=null,Xn=null,ar=null,v0=!1,Ch=!1,rp=0,hF=0;function yr(){throw Error(Ve(321))}function L_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fa(t[n],e[n]))return!1;return!0}function N_(t,e,n,r,i,a){if(Kl=a,bn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ig.current=t===null||t.memoizedState===null?gF:vF,t=n(r,i),Ch){a=0;do{if(Ch=!1,rp=0,25<=a)throw Error(Ve(301));a+=1,ar=Xn=null,e.updateQueue=null,Ig.current=yF,t=n(r,i)}while(Ch)}if(Ig.current=y0,e=Xn!==null&&Xn.next!==null,Kl=0,ar=Xn=bn=null,v0=!1,e)throw Error(Ve(300));return t}function k_(){var t=rp!==0;return rp=0,t}function ka(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?bn.memoizedState=ar=t:ar=ar.next=t,ar}function Yi(){if(Xn===null){var t=bn.alternate;t=t!==null?t.memoizedState:null}else t=Xn.next;var e=ar===null?bn.memoizedState:ar.next;if(e!==null)ar=e,Xn=t;else{if(t===null)throw Error(Ve(310));Xn=t,t={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},ar===null?bn.memoizedState=ar=t:ar=ar.next=t}return ar}function ip(t,e){return typeof e=="function"?e(t):e}function f1(t){var e=Yi(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var r=Xn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var h=c.lane;if((Kl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=p,s=r):l=l.next=p,bn.lanes|=h,ec|=h}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,fa(r,e.memoizedState)||(ii=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,bn.lanes|=a,ec|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function m1(t){var e=Yi(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);fa(a,e.memoizedState)||(ii=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function jR(){}function VR(t,e){var n=bn,r=Yi(),i=e(),a=!fa(r.memoizedState,i);if(a&&(r.memoizedState=i,ii=!0),r=r.queue,I_(GR.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||ar!==null&&ar.memoizedState.tag&1){if(n.flags|=2048,ap(9,WR.bind(null,n,r,i,e),void 0,null),sr===null)throw Error(Ve(349));Kl&30||HR(n,e,i)}return i}function HR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WR(t,e,n,r){e.value=n,e.getSnapshot=r,qR(e)&&XR(t)}function GR(t,e,n){return n(function(){qR(e)&&XR(t)})}function qR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fa(t,n)}catch{return!0}}function XR(t){var e=Es(t,1);e!==null&&pa(e,t,1,-1)}function s2(t){var e=ka();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:t},e.queue=t,t=t.dispatch=mF.bind(null,bn,t),[e.memoizedState,t]}function ap(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YR(){return Yi().memoizedState}function Og(t,e,n,r){var i=ka();bn.flags|=t,i.memoizedState=ap(1|e,n,void 0,r===void 0?null:r)}function ev(t,e,n,r){var i=Yi();r=r===void 0?null:r;var a=void 0;if(Xn!==null){var s=Xn.memoizedState;if(a=s.destroy,r!==null&&L_(r,s.deps)){i.memoizedState=ap(e,n,a,r);return}}bn.flags|=t,i.memoizedState=ap(1|e,n,a,r)}function o2(t,e){return Og(8390656,8,t,e)}function I_(t,e){return ev(2048,8,t,e)}function ZR(t,e){return ev(4,2,t,e)}function QR(t,e){return ev(4,4,t,e)}function JR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KR(t,e,n){return n=n!=null?n.concat([t]):null,ev(4,4,JR.bind(null,e,t),n)}function O_(){}function eL(t,e){var n=Yi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&L_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tL(t,e){var n=Yi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&L_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nL(t,e,n){return Kl&21?(fa(n,e)||(n=oR(),bn.lanes|=n,ec|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ii=!0),t.memoizedState=n)}function pF(t,e){var n=Zt;Zt=n!==0&&4>n?n:4,t(!0);var r=p1.transition;p1.transition={};try{t(!1),e()}finally{Zt=n,p1.transition=r}}function rL(){return Yi().memoizedState}function fF(t,e,n){var r=So(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iL(t))aL(e,n);else if(n=FR(t,e,n,r),n!==null){var i=Hr();pa(n,t,r,i),sL(n,e,r)}}function mF(t,e,n){var r=So(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iL(t))aL(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,fa(o,s)){var l=e.interleaved;l===null?(i.next=i,T_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=FR(t,e,i,r),n!==null&&(i=Hr(),pa(n,t,r,i),sL(n,e,r))}}function iL(t){var e=t.alternate;return t===bn||e!==null&&e===bn}function aL(t,e){Ch=v0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,h_(t,n)}}var y0={readContext:Xi,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},gF={readContext:Xi,useCallback:function(t,e){return ka().memoizedState=[t,e===void 0?null:e],t},useContext:Xi,useEffect:o2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Og(4194308,4,JR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Og(4194308,4,t,e)},useInsertionEffect:function(t,e){return Og(4,2,t,e)},useMemo:function(t,e){var n=ka();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ka();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fF.bind(null,bn,t),[r.memoizedState,t]},useRef:function(t){var e=ka();return t={current:t},e.memoizedState=t},useState:s2,useDebugValue:O_,useDeferredValue:function(t){return ka().memoizedState=t},useTransition:function(){var t=s2(!1),e=t[0];return t=pF.bind(null,t[1]),ka().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bn,i=ka();if(fn){if(n===void 0)throw Error(Ve(407));n=n()}else{if(n=e(),sr===null)throw Error(Ve(349));Kl&30||HR(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,o2(GR.bind(null,r,a,t),[t]),r.flags|=2048,ap(9,WR.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ka(),e=sr.identifierPrefix;if(fn){var n=ms,r=fs;n=(r&~(1<<32-ha(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vF={readContext:Xi,useCallback:eL,useContext:Xi,useEffect:I_,useImperativeHandle:KR,useInsertionEffect:ZR,useLayoutEffect:QR,useMemo:tL,useReducer:f1,useRef:YR,useState:function(){return f1(ip)},useDebugValue:O_,useDeferredValue:function(t){var e=Yi();return nL(e,Xn.memoizedState,t)},useTransition:function(){var t=f1(ip)[0],e=Yi().memoizedState;return[t,e]},useMutableSource:jR,useSyncExternalStore:VR,useId:rL,unstable_isNewReconciler:!1},yF={readContext:Xi,useCallback:eL,useContext:Xi,useEffect:I_,useImperativeHandle:KR,useInsertionEffect:ZR,useLayoutEffect:QR,useMemo:tL,useReducer:m1,useRef:YR,useState:function(){return m1(ip)},useDebugValue:O_,useDeferredValue:function(t){var e=Yi();return Xn===null?e.memoizedState=t:nL(e,Xn.memoizedState,t)},useTransition:function(){var t=m1(ip)[0],e=Yi().memoizedState;return[t,e]},useMutableSource:jR,useSyncExternalStore:VR,useId:rL,unstable_isNewReconciler:!1};function aa(t,e){if(t&&t.defaultProps){e=wn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function db(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tv={isMounted:function(t){return(t=t._reactInternals)?lc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Hr(),i=So(t),a=xs(r,i);a.payload=e,n!=null&&(a.callback=n),e=wo(t,a,i),e!==null&&(pa(e,t,i,r),kg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Hr(),i=So(t),a=xs(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=wo(t,a,i),e!==null&&(pa(e,t,i,r),kg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Hr(),r=So(t),i=xs(n,r);i.tag=2,e!=null&&(i.callback=e),e=wo(t,i,r),e!==null&&(pa(e,t,r,n),kg(e,t,r))}};function l2(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Qh(n,r)||!Qh(i,a):!0}function oL(t,e,n){var r=!1,i=No,a=e.contextType;return typeof a=="object"&&a!==null?a=Xi(a):(i=si(e)?Ql:Pr.current,r=e.contextTypes,a=(r=r!=null)?Bu(t,i):No),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function c2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tv.enqueueReplaceState(e,e.state,null)}function hb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},A_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Xi(a):(a=si(e)?Ql:Pr.current,i.context=Bu(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(db(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tv.enqueueReplaceState(i,i.state,null),m0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hu(t,e){try{var n="",r=e;do n+=G5(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function g1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xF=typeof WeakMap=="function"?WeakMap:Map;function lL(t,e,n){n=xs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){b0||(b0=!0,_b=r),pb(t,e)},n}function cL(t,e,n){n=xs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pb(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){pb(t,e),typeof r!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function u2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kF.bind(null,t,e,n),e.then(t,t))}function d2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function h2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xs(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t)}var bF=Ns.ReactCurrentOwner,ii=!1;function Br(t,e,n,r){e.child=t===null?zR(e,null,n,r):ju(e,t.child,n,r)}function p2(t,e,n,r,i){n=n.render;var a=e.ref;return Iu(e,i),r=N_(t,e,n,r,a,i),n=k_(),t!==null&&!ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ts(t,e,i)):(fn&&n&&b_(e),e.flags|=1,Br(t,e,r,i),e.child)}function f2(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!V_(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,uL(t,e,a,r,i)):(t=Fg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Qh,n(s,r)&&t.ref===e.ref)return Ts(t,e,i)}return e.flags|=1,t=Mo(a,r),t.ref=e.ref,t.return=e,e.child=t}function uL(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Qh(a,r)&&t.ref===e.ref)if(ii=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(ii=!0);else return e.lanes=t.lanes,Ts(t,e,i)}return fb(t,e,n,r,i)}function dL(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(xu,xi),xi|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,an(xu,xi),xi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,an(xu,xi),xi|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,an(xu,xi),xi|=r;return Br(t,e,i,n),e.child}function hL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fb(t,e,n,r,i){var a=si(n)?Ql:Pr.current;return a=Bu(e,a),Iu(e,i),n=N_(t,e,n,r,a,i),r=k_(),t!==null&&!ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ts(t,e,i)):(fn&&r&&b_(e),e.flags|=1,Br(t,e,n,i),e.child)}function m2(t,e,n,r,i){if(si(n)){var a=!0;u0(e)}else a=!1;if(Iu(e,i),e.stateNode===null)Dg(t,e),oL(e,n,r),hb(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xi(c):(c=si(n)?Ql:Pr.current,c=Bu(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&c2(e,s,r,c),oo=!1;var m=e.memoizedState;s.state=m,m0(e,r,s,i),l=e.memoizedState,o!==r||m!==l||ai.current||oo?(typeof h=="function"&&(db(e,n,h,r),l=e.memoizedState),(o=oo||l2(e,n,o,r,m,l,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,BR(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:aa(e.type,o),s.props=c,p=e.pendingProps,m=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xi(l):(l=si(n)?Ql:Pr.current,l=Bu(e,l));var f=n.getDerivedStateFromProps;(h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==p||m!==l)&&c2(e,s,r,l),oo=!1,m=e.memoizedState,s.state=m,m0(e,r,s,i);var v=e.memoizedState;o!==p||m!==v||ai.current||oo?(typeof f=="function"&&(db(e,n,f,r),v=e.memoizedState),(c=oo||l2(e,n,c,r,m,v,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return mb(t,e,n,r,a,i)}function mb(t,e,n,r,i,a){hL(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&e2(e,n,!1),Ts(t,e,a);r=e.stateNode,bF.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ju(e,t.child,null,a),e.child=ju(e,null,o,a)):Br(t,e,o,a),e.memoizedState=r.state,i&&e2(e,n,!0),e.child}function pL(t){var e=t.stateNode;e.pendingContext?KT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KT(t,e.context,!1),C_(t,e.containerInfo)}function g2(t,e,n,r,i){return $u(),__(i),e.flags|=256,Br(t,e,n,r),e.child}var gb={dehydrated:null,treeContext:null,retryLane:0};function vb(t){return{baseLanes:t,cachePool:null,transitions:null}}function fL(t,e,n){var r=e.pendingProps,i=vn.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),an(vn,i&1),t===null)return cb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=iv(s,r,0,null),t=Vl(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=vb(n),e.memoizedState=gb,t):D_(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return wF(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Mo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Mo(o,a):(a=Vl(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?vb(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=gb,r}return a=t.child,t=a.sibling,r=Mo(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function D_(t,e){return e=iv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vm(t,e,n,r){return r!==null&&__(r),ju(e,t.child,null,n),t=D_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wF(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=g1(Error(Ve(422))),vm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=iv({mode:"visible",children:r.children},i,0,null),a=Vl(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&ju(e,t.child,null,s),e.child.memoizedState=vb(s),e.memoizedState=gb,a);if(!(e.mode&1))return vm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ve(419)),r=g1(a,r,void 0),vm(t,e,s,r)}if(o=(s&t.childLanes)!==0,ii||o){if(r=sr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Es(t,i),pa(r,t,i,-1))}return j_(),r=g1(Error(Ve(421))),vm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=IF.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,_i=bo(i.nextSibling),Si=e,fn=!0,ca=null,t!==null&&($i[ji++]=fs,$i[ji++]=ms,$i[ji++]=Jl,fs=t.id,ms=t.overflow,Jl=e),e=D_(e,r.children),e.flags|=4096,e)}function v2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ub(t.return,e,n)}function v1(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function mL(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Br(t,e,r.children,n),r=vn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v2(t,n,e);else if(t.tag===19)v2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(an(vn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&g0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),v1(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&g0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}v1(e,!0,n,null,a);break;case"together":v1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ec|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ve(153));if(e.child!==null){for(t=e.child,n=Mo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _F(t,e,n){switch(e.tag){case 3:pL(e),$u();break;case 5:$R(e);break;case 1:si(e.type)&&u0(e);break;case 4:C_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;an(p0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(an(vn,vn.current&1),e.flags|=128,null):n&e.child.childLanes?fL(t,e,n):(an(vn,vn.current&1),t=Ts(t,e,n),t!==null?t.sibling:null);an(vn,vn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),an(vn,vn.current),r)break;return null;case 22:case 23:return e.lanes=0,dL(t,e,n)}return Ts(t,e,n)}var gL,yb,vL,yL;gL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yb=function(){};vL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,kl(Ua.current);var a=null;switch(n){case"input":i=Bx(t,i),r=Bx(t,r),a=[];break;case"select":i=wn({},i,{value:void 0}),r=wn({},r,{value:void 0}),a=[];break;case"textarea":i=Vx(t,i),r=Vx(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=l0)}Wx(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hh.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ln("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};yL=function(t,e,n,r){n!==r&&(e.flags|=4)};function jd(t,e){if(!fn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SF(t,e,n){var r=e.pendingProps;switch(w_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(e),null;case 1:return si(e.type)&&c0(),xr(e),null;case 3:return r=e.stateNode,Vu(),hn(ai),hn(Pr),R_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ca!==null&&(Eb(ca),ca=null))),yb(t,e),xr(e),null;case 5:P_(e);var i=kl(np.current);if(n=e.type,t!==null&&e.stateNode!=null)vL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ve(166));return xr(e),null}if(t=kl(Ua.current),mm(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ia]=e,r[ep]=a,t=(e.mode&1)!==0,n){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(i=0;i<bh.length;i++)ln(bh[i],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":TT(r,a),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ln("invalid",r);break;case"textarea":CT(r,a),ln("invalid",r)}Wx(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&fm(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&fm(r.textContent,o,t),i=["children",""+o]):Hh.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ln("scroll",r)}switch(n){case"input":sm(r),AT(r,a,!0);break;case"textarea":sm(r),PT(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=l0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=G3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ia]=e,t[ep]=r,gL(t,e,!1,!1),e.stateNode=t;e:{switch(s=Gx(n,r),n){case"dialog":ln("cancel",t),ln("close",t),i=r;break;case"iframe":case"object":case"embed":ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<bh.length;i++)ln(bh[i],t);i=r;break;case"source":ln("error",t),i=r;break;case"img":case"image":case"link":ln("error",t),ln("load",t),i=r;break;case"details":ln("toggle",t),i=r;break;case"input":TT(t,r),i=Bx(t,r),ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wn({},r,{value:void 0}),ln("invalid",t);break;case"textarea":CT(t,r),i=Vx(t,r),ln("invalid",t);break;default:i=r}Wx(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?Y3(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&q3(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wh(t,l):typeof l=="number"&&Wh(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ln("scroll",t):l!=null&&s_(t,a,l,s))}switch(n){case"input":sm(t),AT(t,r,!1);break;case"textarea":sm(t),PT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lo(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Ru(t,!!r.multiple,a,!1):r.defaultValue!=null&&Ru(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=l0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xr(e),null;case 6:if(t&&e.stateNode!=null)yL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ve(166));if(n=kl(np.current),kl(Ua.current),mm(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ia]=e,(a=r.nodeValue!==n)&&(t=Si,t!==null))switch(t.tag){case 3:fm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fm(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ia]=e,e.stateNode=r}return xr(e),null;case 13:if(hn(vn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fn&&_i!==null&&e.mode&1&&!(e.flags&128))DR(),$u(),e.flags|=98560,a=!1;else if(a=mm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Ve(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ve(317));a[Ia]=e}else $u(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xr(e),a=!1}else ca!==null&&(Eb(ca),ca=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vn.current&1?Qn===0&&(Qn=3):j_())),e.updateQueue!==null&&(e.flags|=4),xr(e),null);case 4:return Vu(),yb(t,e),t===null&&Jh(e.stateNode.containerInfo),xr(e),null;case 10:return E_(e.type._context),xr(e),null;case 17:return si(e.type)&&c0(),xr(e),null;case 19:if(hn(vn),a=e.memoizedState,a===null)return xr(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)jd(a,!1);else{if(Qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=g0(t),s!==null){for(e.flags|=128,jd(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return an(vn,vn.current&1|2),e.child}t=t.sibling}a.tail!==null&&Nn()>Wu&&(e.flags|=128,r=!0,jd(a,!1),e.lanes=4194304)}else{if(!r)if(t=g0(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!fn)return xr(e),null}else 2*Nn()-a.renderingStartTime>Wu&&n!==1073741824&&(e.flags|=128,r=!0,jd(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Nn(),e.sibling=null,n=vn.current,an(vn,r?n&1|2:n&1),e):(xr(e),null);case 22:case 23:return $_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xi&1073741824&&(xr(e),e.subtreeFlags&6&&(e.flags|=8192)):xr(e),null;case 24:return null;case 25:return null}throw Error(Ve(156,e.tag))}function MF(t,e){switch(w_(e),e.tag){case 1:return si(e.type)&&c0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vu(),hn(ai),hn(Pr),R_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return P_(e),null;case 13:if(hn(vn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ve(340));$u()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return hn(vn),null;case 4:return Vu(),null;case 10:return E_(e.type._context),null;case 22:case 23:return $_(),null;case 24:return null;default:return null}}var ym=!1,Er=!1,EF=typeof WeakSet=="function"?WeakSet:Set,at=null;function yu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){En(t,e,r)}else n.current=null}function xL(t,e,n){try{n()}catch(r){En(t,e,r)}}var y2=!1;function TF(t,e){if(nb=a0,t=SR(),x_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,h=0,p=t,m=null;t:for(;;){for(var f;p!==n||i!==0&&p.nodeType!==3||(o=s+i),p!==a||r!==0&&p.nodeType!==3||(l=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(f=p.firstChild)!==null;)m=p,p=f;for(;;){if(p===t)break t;if(m===n&&++c===i&&(o=s),m===a&&++h===r&&(l=s),(f=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rb={focusedElem:t,selectionRange:n},a0=!1,at=e;at!==null;)if(e=at,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,at=t;else for(;at!==null;){e=at;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?b:aa(e.type,b),x);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(M){En(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,at=t;break}at=e.return}return v=y2,y2=!1,v}function Ph(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&xL(e,n,a)}i=i.next}while(i!==r)}}function nv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bL(t){var e=t.alternate;e!==null&&(t.alternate=null,bL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ia],delete e[ep],delete e[sb],delete e[lF],delete e[cF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wL(t){return t.tag===5||t.tag===3||t.tag===4}function x2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=l0));else if(r!==4&&(t=t.child,t!==null))for(bb(t,e,n),t=t.sibling;t!==null;)bb(t,e,n),t=t.sibling}function wb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wb(t,e,n),t=t.sibling;t!==null;)wb(t,e,n),t=t.sibling}var cr=null,la=!1;function Ws(t,e,n){for(n=n.child;n!==null;)_L(t,e,n),n=n.sibling}function _L(t,e,n){if(Da&&typeof Da.onCommitFiberUnmount=="function")try{Da.onCommitFiberUnmount(X0,n)}catch{}switch(n.tag){case 5:Er||yu(n,e);case 6:var r=cr,i=la;cr=null,Ws(t,e,n),cr=r,la=i,cr!==null&&(la?(t=cr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):cr.removeChild(n.stateNode));break;case 18:cr!==null&&(la?(t=cr,n=n.stateNode,t.nodeType===8?u1(t.parentNode,n):t.nodeType===1&&u1(t,n),Yh(t)):u1(cr,n.stateNode));break;case 4:r=cr,i=la,cr=n.stateNode.containerInfo,la=!0,Ws(t,e,n),cr=r,la=i;break;case 0:case 11:case 14:case 15:if(!Er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&xL(n,e,s),i=i.next}while(i!==r)}Ws(t,e,n);break;case 1:if(!Er&&(yu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){En(n,e,o)}Ws(t,e,n);break;case 21:Ws(t,e,n);break;case 22:n.mode&1?(Er=(r=Er)||n.memoizedState!==null,Ws(t,e,n),Er=r):Ws(t,e,n);break;default:Ws(t,e,n)}}function b2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new EF),e.forEach(function(r){var i=OF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ji(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:cr=o.stateNode,la=!1;break e;case 3:cr=o.stateNode.containerInfo,la=!0;break e;case 4:cr=o.stateNode.containerInfo,la=!0;break e}o=o.return}if(cr===null)throw Error(Ve(160));_L(a,s,i),cr=null,la=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){En(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SL(e,t),e=e.sibling}function SL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ji(e,t),Ra(t),r&4){try{Ph(3,t,t.return),nv(3,t)}catch(b){En(t,t.return,b)}try{Ph(5,t,t.return)}catch(b){En(t,t.return,b)}}break;case 1:Ji(e,t),Ra(t),r&512&&n!==null&&yu(n,n.return);break;case 5:if(Ji(e,t),Ra(t),r&512&&n!==null&&yu(n,n.return),t.flags&32){var i=t.stateNode;try{Wh(i,"")}catch(b){En(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&H3(i,a),Gx(o,s);var c=Gx(o,a);for(s=0;s<l.length;s+=2){var h=l[s],p=l[s+1];h==="style"?Y3(i,p):h==="dangerouslySetInnerHTML"?q3(i,p):h==="children"?Wh(i,p):s_(i,h,p,c)}switch(o){case"input":$x(i,a);break;case"textarea":W3(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Ru(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?Ru(i,!!a.multiple,a.defaultValue,!0):Ru(i,!!a.multiple,a.multiple?[]:"",!1))}i[ep]=a}catch(b){En(t,t.return,b)}}break;case 6:if(Ji(e,t),Ra(t),r&4){if(t.stateNode===null)throw Error(Ve(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){En(t,t.return,b)}}break;case 3:if(Ji(e,t),Ra(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yh(e.containerInfo)}catch(b){En(t,t.return,b)}break;case 4:Ji(e,t),Ra(t);break;case 13:Ji(e,t),Ra(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(F_=Nn())),r&4&&b2(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Er=(c=Er)||h,Ji(e,t),Er=c):Ji(e,t),Ra(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(at=t,h=t.child;h!==null;){for(p=at=h;at!==null;){switch(m=at,f=m.child,m.tag){case 0:case 11:case 14:case 15:Ph(4,m,m.return);break;case 1:yu(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){En(r,n,b)}}break;case 5:yu(m,m.return);break;case 22:if(m.memoizedState!==null){_2(p);continue}}f!==null?(f.return=m,at=f):_2(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=p.stateNode,l=p.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=X3("display",s))}catch(b){En(t,t.return,b)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(b){En(t,t.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ji(e,t),Ra(t),r&4&&b2(t);break;case 21:break;default:Ji(e,t),Ra(t)}}function Ra(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wL(n)){var r=n;break e}n=n.return}throw Error(Ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wh(i,""),r.flags&=-33);var a=x2(t);wb(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=x2(t);bb(t,o,s);break;default:throw Error(Ve(161))}}catch(l){En(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AF(t,e,n){at=t,ML(t)}function ML(t,e,n){for(var r=(t.mode&1)!==0;at!==null;){var i=at,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ym;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Er;o=ym;var c=Er;if(ym=s,(Er=l)&&!c)for(at=i;at!==null;)s=at,l=s.child,s.tag===22&&s.memoizedState!==null?S2(i):l!==null?(l.return=s,at=l):S2(i);for(;a!==null;)at=a,ML(a),a=a.sibling;at=i,ym=o,Er=c}w2(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,at=a):w2(t)}}function w2(t){for(;at!==null;){var e=at;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||nv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Er)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:aa(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&a2(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}a2(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Yh(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}Er||e.flags&512&&xb(e)}catch(m){En(e,e.return,m)}}if(e===t){at=null;break}if(n=e.sibling,n!==null){n.return=e.return,at=n;break}at=e.return}}function _2(t){for(;at!==null;){var e=at;if(e===t){at=null;break}var n=e.sibling;if(n!==null){n.return=e.return,at=n;break}at=e.return}}function S2(t){for(;at!==null;){var e=at;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nv(4,e)}catch(l){En(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){En(e,i,l)}}var a=e.return;try{xb(e)}catch(l){En(e,a,l)}break;case 5:var s=e.return;try{xb(e)}catch(l){En(e,s,l)}}}catch(l){En(e,e.return,l)}if(e===t){at=null;break}var o=e.sibling;if(o!==null){o.return=e.return,at=o;break}at=e.return}}var CF=Math.ceil,x0=Ns.ReactCurrentDispatcher,U_=Ns.ReactCurrentOwner,qi=Ns.ReactCurrentBatchConfig,Bt=0,sr=null,jn=null,dr=0,xi=0,xu=Vo(0),Qn=0,sp=null,ec=0,rv=0,z_=0,Rh=null,ni=null,F_=0,Wu=1/0,ds=null,b0=!1,_b=null,_o=null,xm=!1,mo=null,w0=0,Lh=0,Sb=null,Ug=-1,zg=0;function Hr(){return Bt&6?Nn():Ug!==-1?Ug:Ug=Nn()}function So(t){return t.mode&1?Bt&2&&dr!==0?dr&-dr:dF.transition!==null?(zg===0&&(zg=oR()),zg):(t=Zt,t!==0||(t=window.event,t=t===void 0?16:fR(t.type)),t):1}function pa(t,e,n,r){if(50<Lh)throw Lh=0,Sb=null,Error(Ve(185));Bp(t,n,r),(!(Bt&2)||t!==sr)&&(t===sr&&(!(Bt&2)&&(rv|=n),Qn===4&&ho(t,dr)),oi(t,r),n===1&&Bt===0&&!(e.mode&1)&&(Wu=Nn()+500,K0&&Ho()))}function oi(t,e){var n=t.callbackNode;dz(t,e);var r=i0(t,t===sr?dr:0);if(r===0)n!==null&&NT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&NT(n),e===1)t.tag===0?uF(M2.bind(null,t)):kR(M2.bind(null,t)),sF(function(){!(Bt&6)&&Ho()}),n=null;else{switch(lR(r)){case 1:n=d_;break;case 4:n=aR;break;case 16:n=r0;break;case 536870912:n=sR;break;default:n=r0}n=NL(n,EL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function EL(t,e){if(Ug=-1,zg=0,Bt&6)throw Error(Ve(327));var n=t.callbackNode;if(Ou()&&t.callbackNode!==n)return null;var r=i0(t,t===sr?dr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_0(t,r);else{e=r;var i=Bt;Bt|=2;var a=AL();(sr!==t||dr!==e)&&(ds=null,Wu=Nn()+500,jl(t,e));do try{LF();break}catch(o){TL(t,o)}while(!0);M_(),x0.current=a,Bt=i,jn!==null?e=0:(sr=null,dr=0,e=Qn)}if(e!==0){if(e===2&&(i=Qx(t),i!==0&&(r=i,e=Mb(t,i))),e===1)throw n=sp,jl(t,0),ho(t,r),oi(t,Nn()),n;if(e===6)ho(t,r);else{if(i=t.current.alternate,!(r&30)&&!PF(i)&&(e=_0(t,r),e===2&&(a=Qx(t),a!==0&&(r=a,e=Mb(t,a))),e===1))throw n=sp,jl(t,0),ho(t,r),oi(t,Nn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ve(345));case 2:Sl(t,ni,ds);break;case 3:if(ho(t,r),(r&130023424)===r&&(e=F_+500-Nn(),10<e)){if(i0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Hr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ab(Sl.bind(null,t,ni,ds),e);break}Sl(t,ni,ds);break;case 4:if(ho(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ha(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CF(r/1960))-r,10<r){t.timeoutHandle=ab(Sl.bind(null,t,ni,ds),r);break}Sl(t,ni,ds);break;case 5:Sl(t,ni,ds);break;default:throw Error(Ve(329))}}}return oi(t,Nn()),t.callbackNode===n?EL.bind(null,t):null}function Mb(t,e){var n=Rh;return t.current.memoizedState.isDehydrated&&(jl(t,e).flags|=256),t=_0(t,e),t!==2&&(e=ni,ni=n,e!==null&&Eb(e)),t}function Eb(t){ni===null?ni=t:ni.push.apply(ni,t)}function PF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!fa(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ho(t,e){for(e&=~z_,e&=~rv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ha(e),r=1<<n;t[n]=-1,e&=~r}}function M2(t){if(Bt&6)throw Error(Ve(327));Ou();var e=i0(t,0);if(!(e&1))return oi(t,Nn()),null;var n=_0(t,e);if(t.tag!==0&&n===2){var r=Qx(t);r!==0&&(e=r,n=Mb(t,r))}if(n===1)throw n=sp,jl(t,0),ho(t,e),oi(t,Nn()),n;if(n===6)throw Error(Ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sl(t,ni,ds),oi(t,Nn()),null}function B_(t,e){var n=Bt;Bt|=1;try{return t(e)}finally{Bt=n,Bt===0&&(Wu=Nn()+500,K0&&Ho())}}function tc(t){mo!==null&&mo.tag===0&&!(Bt&6)&&Ou();var e=Bt;Bt|=1;var n=qi.transition,r=Zt;try{if(qi.transition=null,Zt=1,t)return t()}finally{Zt=r,qi.transition=n,Bt=e,!(Bt&6)&&Ho()}}function $_(){xi=xu.current,hn(xu)}function jl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aF(n)),jn!==null)for(n=jn.return;n!==null;){var r=n;switch(w_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&c0();break;case 3:Vu(),hn(ai),hn(Pr),R_();break;case 5:P_(r);break;case 4:Vu();break;case 13:hn(vn);break;case 19:hn(vn);break;case 10:E_(r.type._context);break;case 22:case 23:$_()}n=n.return}if(sr=t,jn=t=Mo(t.current,null),dr=xi=e,Qn=0,sp=null,z_=rv=ec=0,ni=Rh=null,Nl!==null){for(e=0;e<Nl.length;e++)if(n=Nl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Nl=null}return t}function TL(t,e){do{var n=jn;try{if(M_(),Ig.current=y0,v0){for(var r=bn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}v0=!1}if(Kl=0,ar=Xn=bn=null,Ch=!1,rp=0,U_.current=null,n===null||n.return===null){Qn=1,sp=e,jn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=dr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=d2(s);if(f!==null){f.flags&=-257,h2(f,s,o,a,e),f.mode&1&&u2(a,c,e),e=f,l=c;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){u2(a,c,e),j_();break e}l=Error(Ve(426))}}else if(fn&&o.mode&1){var x=d2(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),h2(x,s,o,a,e),__(Hu(l,o));break e}}a=l=Hu(l,o),Qn!==4&&(Qn=2),Rh===null?Rh=[a]:Rh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=lL(a,l,e);i2(a,g);break e;case 1:o=l;var _=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_o===null||!_o.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var M=cL(a,o,e);i2(a,M);break e}}a=a.return}while(a!==null)}PL(n)}catch(C){e=C,jn===n&&n!==null&&(jn=n=n.return);continue}break}while(!0)}function AL(){var t=x0.current;return x0.current=y0,t===null?y0:t}function j_(){(Qn===0||Qn===3||Qn===2)&&(Qn=4),sr===null||!(ec&268435455)&&!(rv&268435455)||ho(sr,dr)}function _0(t,e){var n=Bt;Bt|=2;var r=AL();(sr!==t||dr!==e)&&(ds=null,jl(t,e));do try{RF();break}catch(i){TL(t,i)}while(!0);if(M_(),Bt=n,x0.current=r,jn!==null)throw Error(Ve(261));return sr=null,dr=0,Qn}function RF(){for(;jn!==null;)CL(jn)}function LF(){for(;jn!==null&&!nz();)CL(jn)}function CL(t){var e=LL(t.alternate,t,xi);t.memoizedProps=t.pendingProps,e===null?PL(t):jn=e,U_.current=null}function PL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MF(n,e),n!==null){n.flags&=32767,jn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qn=6,jn=null;return}}else if(n=SF(n,e,xi),n!==null){jn=n;return}if(e=e.sibling,e!==null){jn=e;return}jn=e=t}while(e!==null);Qn===0&&(Qn=5)}function Sl(t,e,n){var r=Zt,i=qi.transition;try{qi.transition=null,Zt=1,NF(t,e,n,r)}finally{qi.transition=i,Zt=r}return null}function NF(t,e,n,r){do Ou();while(mo!==null);if(Bt&6)throw Error(Ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ve(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(hz(t,a),t===sr&&(jn=sr=null,dr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xm||(xm=!0,NL(r0,function(){return Ou(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=qi.transition,qi.transition=null;var s=Zt;Zt=1;var o=Bt;Bt|=4,U_.current=null,TF(t,n),SL(n,t),Jz(rb),a0=!!nb,rb=nb=null,t.current=n,AF(n),rz(),Bt=o,Zt=s,qi.transition=a}else t.current=n;if(xm&&(xm=!1,mo=t,w0=i),a=t.pendingLanes,a===0&&(_o=null),sz(n.stateNode),oi(t,Nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(b0)throw b0=!1,t=_b,_b=null,t;return w0&1&&t.tag!==0&&Ou(),a=t.pendingLanes,a&1?t===Sb?Lh++:(Lh=0,Sb=t):Lh=0,Ho(),null}function Ou(){if(mo!==null){var t=lR(w0),e=qi.transition,n=Zt;try{if(qi.transition=null,Zt=16>t?16:t,mo===null)var r=!1;else{if(t=mo,mo=null,w0=0,Bt&6)throw Error(Ve(331));var i=Bt;for(Bt|=4,at=t.current;at!==null;){var a=at,s=a.child;if(at.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(at=c;at!==null;){var h=at;switch(h.tag){case 0:case 11:case 15:Ph(8,h,a)}var p=h.child;if(p!==null)p.return=h,at=p;else for(;at!==null;){h=at;var m=h.sibling,f=h.return;if(bL(h),h===c){at=null;break}if(m!==null){m.return=f,at=m;break}at=f}}}var v=a.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}at=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,at=s;else e:for(;at!==null;){if(a=at,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ph(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,at=g;break e}at=a.return}}var _=t.current;for(at=_;at!==null;){s=at;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,at=w;else e:for(s=_;at!==null;){if(o=at,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:nv(9,o)}}catch(C){En(o,o.return,C)}if(o===s){at=null;break e}var M=o.sibling;if(M!==null){M.return=o.return,at=M;break e}at=o.return}}if(Bt=i,Ho(),Da&&typeof Da.onPostCommitFiberRoot=="function")try{Da.onPostCommitFiberRoot(X0,t)}catch{}r=!0}return r}finally{Zt=n,qi.transition=e}}return!1}function E2(t,e,n){e=Hu(n,e),e=lL(t,e,1),t=wo(t,e,1),e=Hr(),t!==null&&(Bp(t,1,e),oi(t,e))}function En(t,e,n){if(t.tag===3)E2(t,t,n);else for(;e!==null;){if(e.tag===3){E2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_o===null||!_o.has(r))){t=Hu(n,t),t=cL(e,t,1),e=wo(e,t,1),t=Hr(),e!==null&&(Bp(e,1,t),oi(e,t));break}}e=e.return}}function kF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Hr(),t.pingedLanes|=t.suspendedLanes&n,sr===t&&(dr&n)===n&&(Qn===4||Qn===3&&(dr&130023424)===dr&&500>Nn()-F_?jl(t,0):z_|=n),oi(t,e)}function RL(t,e){e===0&&(t.mode&1?(e=cm,cm<<=1,!(cm&130023424)&&(cm=4194304)):e=1);var n=Hr();t=Es(t,e),t!==null&&(Bp(t,e,n),oi(t,n))}function IF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RL(t,n)}function OF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ve(314))}r!==null&&r.delete(e),RL(t,n)}var LL;LL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ai.current)ii=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ii=!1,_F(t,e,n);ii=!!(t.flags&131072)}else ii=!1,fn&&e.flags&1048576&&IR(e,h0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dg(t,e),t=e.pendingProps;var i=Bu(e,Pr.current);Iu(e,n),i=N_(null,e,r,t,i,n);var a=k_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,si(r)?(a=!0,u0(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,A_(e),i.updater=tv,e.stateNode=i,i._reactInternals=e,hb(e,r,t,n),e=mb(null,e,r,!0,a,n)):(e.tag=0,fn&&a&&b_(e),Br(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UF(r),t=aa(r,t),i){case 0:e=fb(null,e,r,t,n);break e;case 1:e=m2(null,e,r,t,n);break e;case 11:e=p2(null,e,r,t,n);break e;case 14:e=f2(null,e,r,aa(r.type,t),n);break e}throw Error(Ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),fb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),m2(t,e,r,i,n);case 3:e:{if(pL(e),t===null)throw Error(Ve(387));r=e.pendingProps,a=e.memoizedState,i=a.element,BR(t,e),m0(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Hu(Error(Ve(423)),e),e=g2(t,e,r,n,i);break e}else if(r!==i){i=Hu(Error(Ve(424)),e),e=g2(t,e,r,n,i);break e}else for(_i=bo(e.stateNode.containerInfo.firstChild),Si=e,fn=!0,ca=null,n=zR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($u(),r===i){e=Ts(t,e,n);break e}Br(t,e,r,n)}e=e.child}return e;case 5:return $R(e),t===null&&cb(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,ib(r,i)?s=null:a!==null&&ib(r,a)&&(e.flags|=32),hL(t,e),Br(t,e,s,n),e.child;case 6:return t===null&&cb(e),null;case 13:return fL(t,e,n);case 4:return C_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ju(e,null,r,n):Br(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),p2(t,e,r,i,n);case 7:return Br(t,e,e.pendingProps,n),e.child;case 8:return Br(t,e,e.pendingProps.children,n),e.child;case 12:return Br(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,an(p0,r._currentValue),r._currentValue=s,a!==null)if(fa(a.value,s)){if(a.children===i.children&&!ai.current){e=Ts(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=xs(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ub(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ve(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ub(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Br(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Iu(e,n),i=Xi(i),r=r(i),e.flags|=1,Br(t,e,r,n),e.child;case 14:return r=e.type,i=aa(r,e.pendingProps),i=aa(r.type,i),f2(t,e,r,i,n);case 15:return uL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:aa(r,i),Dg(t,e),e.tag=1,si(r)?(t=!0,u0(e)):t=!1,Iu(e,n),oL(e,r,i),hb(e,r,i,n),mb(null,e,r,!0,t,n);case 19:return mL(t,e,n);case 22:return dL(t,e,n)}throw Error(Ve(156,e.tag))};function NL(t,e){return iR(t,e)}function DF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(t,e,n,r){return new DF(t,e,n,r)}function V_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UF(t){if(typeof t=="function")return V_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===l_)return 11;if(t===c_)return 14}return 2}function Mo(t,e){var n=t.alternate;return n===null?(n=Wi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fg(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")V_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case cu:return Vl(n.children,i,a,e);case o_:s=8,i|=8;break;case Dx:return t=Wi(12,n,e,i|2),t.elementType=Dx,t.lanes=a,t;case Ux:return t=Wi(13,n,e,i),t.elementType=Ux,t.lanes=a,t;case zx:return t=Wi(19,n,e,i),t.elementType=zx,t.lanes=a,t;case $3:return iv(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F3:s=10;break e;case B3:s=9;break e;case l_:s=11;break e;case c_:s=14;break e;case so:s=16,r=null;break e}throw Error(Ve(130,t==null?t:typeof t,""))}return e=Wi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Vl(t,e,n,r){return t=Wi(7,t,r,e),t.lanes=n,t}function iv(t,e,n,r){return t=Wi(22,t,r,e),t.elementType=$3,t.lanes=n,t.stateNode={isHidden:!1},t}function y1(t,e,n){return t=Wi(6,t,null,e),t.lanes=n,t}function x1(t,e,n){return e=Wi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ky(0),this.expirationTimes=Ky(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ky(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function H_(t,e,n,r,i,a,s,o,l){return t=new zF(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Wi(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A_(a),t}function FF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kL(t){if(!t)return No;t=t._reactInternals;e:{if(lc(t)!==t||t.tag!==1)throw Error(Ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(si(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ve(171))}if(t.tag===1){var n=t.type;if(si(n))return NR(t,n,e)}return e}function IL(t,e,n,r,i,a,s,o,l){return t=H_(n,r,!0,t,i,a,s,o,l),t.context=kL(null),n=t.current,r=Hr(),i=So(n),a=xs(r,i),a.callback=e??null,wo(n,a,i),t.current.lanes=i,Bp(t,i,r),oi(t,r),t}function av(t,e,n,r){var i=e.current,a=Hr(),s=So(i);return n=kL(n),e.context===null?e.context=n:e.pendingContext=n,e=xs(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(i,e,s),t!==null&&(pa(t,i,s,a),kg(t,i,s)),s}function S0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function W_(t,e){T2(t,e),(t=t.alternate)&&T2(t,e)}function BF(){return null}var OL=typeof reportError=="function"?reportError:function(t){console.error(t)};function G_(t){this._internalRoot=t}sv.prototype.render=G_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ve(409));av(t,e,null,null)};sv.prototype.unmount=G_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tc(function(){av(null,t,null,null)}),e[Ms]=null}};function sv(t){this._internalRoot=t}sv.prototype.unstable_scheduleHydration=function(t){if(t){var e=dR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<uo.length&&e!==0&&e<uo[n].priority;n++);uo.splice(n,0,t),n===0&&pR(t)}};function q_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ov(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function A2(){}function $F(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=S0(s);a.call(c)}}var s=IL(e,r,t,0,null,!1,!1,"",A2);return t._reactRootContainer=s,t[Ms]=s.current,Jh(t.nodeType===8?t.parentNode:t),tc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=S0(l);o.call(c)}}var l=H_(t,0,!1,null,null,!1,!1,"",A2);return t._reactRootContainer=l,t[Ms]=l.current,Jh(t.nodeType===8?t.parentNode:t),tc(function(){av(e,l,n,r)}),l}function lv(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=S0(s);o.call(l)}}av(e,s,t,i)}else s=$F(n,e,t,i,r);return S0(s)}cR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xh(e.pendingLanes);n!==0&&(h_(e,n|1),oi(e,Nn()),!(Bt&6)&&(Wu=Nn()+500,Ho()))}break;case 13:tc(function(){var r=Es(t,1);if(r!==null){var i=Hr();pa(r,t,1,i)}}),W_(t,1)}};p_=function(t){if(t.tag===13){var e=Es(t,134217728);if(e!==null){var n=Hr();pa(e,t,134217728,n)}W_(t,134217728)}};uR=function(t){if(t.tag===13){var e=So(t),n=Es(t,e);if(n!==null){var r=Hr();pa(n,t,e,r)}W_(t,e)}};dR=function(){return Zt};hR=function(t,e){var n=Zt;try{return Zt=t,e()}finally{Zt=n}};Xx=function(t,e,n){switch(e){case"input":if($x(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=J0(r);if(!i)throw Error(Ve(90));V3(r),$x(r,i)}}}break;case"textarea":W3(t,n);break;case"select":e=n.value,e!=null&&Ru(t,!!n.multiple,e,!1)}};J3=B_;K3=tc;var jF={usingClientEntryPoint:!1,Events:[jp,pu,J0,Z3,Q3,B_]},Vd={findFiberByHostInstance:Ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VF={bundleType:Vd.bundleType,version:Vd.version,rendererPackageName:Vd.rendererPackageName,rendererConfig:Vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nR(t),t===null?null:t.stateNode},findFiberByHostInstance:Vd.findFiberByHostInstance||BF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bm.isDisabled&&bm.supportsFiber)try{X0=bm.inject(VF),Da=bm}catch{}}Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jF;Ci.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q_(e))throw Error(Ve(200));return FF(t,e,null,n)};Ci.createRoot=function(t,e){if(!q_(t))throw Error(Ve(299));var n=!1,r="",i=OL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=H_(t,1,!1,null,null,n,!1,r,i),t[Ms]=e.current,Jh(t.nodeType===8?t.parentNode:t),new G_(e)};Ci.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ve(188)):(t=Object.keys(t).join(","),Error(Ve(268,t)));return t=nR(e),t=t===null?null:t.stateNode,t};Ci.flushSync=function(t){return tc(t)};Ci.hydrate=function(t,e,n){if(!ov(e))throw Error(Ve(200));return lv(null,t,e,!0,n)};Ci.hydrateRoot=function(t,e,n){if(!q_(t))throw Error(Ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=OL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=IL(e,null,t,1,n??null,i,!1,a,s),t[Ms]=e.current,Jh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sv(e)};Ci.render=function(t,e,n){if(!ov(e))throw Error(Ve(200));return lv(null,t,e,!1,n)};Ci.unmountComponentAtNode=function(t){if(!ov(t))throw Error(Ve(40));return t._reactRootContainer?(tc(function(){lv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ms]=null})}),!0):!1};Ci.unstable_batchedUpdates=B_;Ci.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ov(n))throw Error(Ve(200));if(t==null||t._reactInternals===void 0)throw Error(Ve(38));return lv(t,e,n,!1,r)};Ci.version="18.3.1-next-f1338f8080-20240426";function DL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DL)}catch(t){console.error(t)}}DL(),O3.exports=Ci;var Hp=O3.exports;const UL=Kw(Hp);var X_,C2=Hp;X_=C2.createRoot,C2.hydrateRoot;const HF="modulepreload",WF=function(t){return"/"+t},P2={},zL=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(e.map(o=>{if(o=WF(o),o in P2)return;P2[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":HF,l||(h.as="script"),h.crossOrigin="",h.href=o,s&&h.setAttribute("nonce",s),document.head.appendChild(h),l)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return r.then(a=>{for(const s of a||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})};/**
* @license
* Copyright 2010-2023 Three.js Authors
* SPDX-License-Identifier: MIT
*/const Wp="160",GF={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},qF={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},FL=0,Tb=1,BL=2,XF=3,$L=0,cv=1,Nh=2,sa=3,As=0,Wr=1,Vi=2,YF=2,bs=0,Hl=1,Ab=2,Cb=3,Pb=4,jL=5,po=100,VL=101,HL=102,Rb=103,Lb=104,WL=200,GL=201,qL=202,XL=203,M0=204,E0=205,YL=206,ZL=207,QL=208,JL=209,KL=210,eN=211,tN=212,nN=213,rN=214,iN=0,aN=1,sN=2,op=3,oN=4,lN=5,cN=6,uN=7,Gp=0,dN=1,hN=2,za=0,pN=1,fN=2,mN=3,Y_=4,gN=5,vN=6,Nb="attached",yN="detached",uv=300,ja=301,ko=302,Gu=303,lp=304,od=306,cp=1e3,Tr=1001,up=1002,Ln=1003,T0=1004,ZF=1004,kh=1005,QF=1005,un=1006,Z_=1007,JF=1007,Io=1008,KF=1008,Fa=1009,xN=1010,bN=1011,dv=1012,Q_=1013,gs=1014,ur=1015,Vr=1016,J_=1017,K_=1018,Eo=1020,wN=1021,Ar=1023,_N=1024,SN=1025,To=1026,nc=1027,eS=1028,tS=1029,MN=1030,nS=1031,rS=1033,Bg=33776,$g=33777,jg=33778,Vg=33779,kb=35840,Ib=35841,Ob=35842,Db=35843,iS=36196,Ub=37492,zb=37496,Fb=37808,Bb=37809,$b=37810,jb=37811,Vb=37812,Hb=37813,Wb=37814,Gb=37815,qb=37816,Xb=37817,Yb=37818,Zb=37819,Qb=37820,Jb=37821,Hg=36492,Kb=36494,ew=36495,EN=36283,tw=36284,nw=36285,rw=36286,TN=2200,AN=2201,CN=2202,dp=2300,hp=2301,Wg=2302,Il=2400,Ol=2401,pp=2402,hv=2500,aS=2501,eB=0,tB=1,nB=2,sS=3e3,Ao=3001,PN=3200,RN=3201,Wo=0,LN=1,wi="",Yn="srgb",Va="srgb-linear",pv="display-p3",qp="display-p3-linear",fp="linear",rn="srgb",mp="rec709",gp="p3",rB=0,Ml=7680,iB=7681,aB=7682,sB=7683,oB=34055,lB=34056,cB=5386,uB=512,dB=513,hB=514,pB=515,fB=516,mB=517,gB=518,iw=519,NN=512,kN=513,IN=514,oS=515,ON=516,DN=517,UN=518,zN=519,vp=35044,vB=35048,yB=35040,xB=35045,bB=35049,wB=35041,_B=35046,SB=35050,MB=35042,EB="100",aw="300 es",A0=1035,da=2e3,qu=2001;let ks=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let i=0,a=r.length;i<a;i++)r[i].call(this,e);e.target=null}}};const br=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let R2=1234567;const Wl=Math.PI/180,Xu=180/Math.PI;function Mi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(br[t&255]+br[t>>8&255]+br[t>>16&255]+br[t>>24&255]+"-"+br[e&255]+br[e>>8&255]+"-"+br[e>>16&15|64]+br[e>>24&255]+"-"+br[n&63|128]+br[n>>8&255]+"-"+br[n>>16&255]+br[n>>24&255]+br[r&255]+br[r>>8&255]+br[r>>16&255]+br[r>>24&255]).toLowerCase()}function Tn(t,e,n){return Math.max(e,Math.min(n,t))}function lS(t,e){return(t%e+e)%e}function TB(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function AB(t,e,n){return t!==e?(n-t)/(e-t):0}function Ih(t,e,n){return(1-n)*t+n*e}function CB(t,e,n,r){return Ih(t,e,1-Math.exp(-n*r))}function PB(t,e=1){return e-Math.abs(lS(t,e*2)-e)}function RB(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function LB(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function NB(t,e){return t+Math.floor(Math.random()*(e-t+1))}function kB(t,e){return t+Math.random()*(e-t)}function IB(t){return t*(.5-Math.random())}function OB(t){t!==void 0&&(R2=t);let e=R2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function DB(t){return t*Wl}function UB(t){return t*Xu}function sw(t){return(t&t-1)===0&&t!==0}function zB(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function C0(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function FB(t,e,n,r,i){const a=Math.cos,s=Math.sin,o=a(n/2),l=s(n/2),c=a((e+r)/2),h=s((e+r)/2),p=a((e-r)/2),m=s((e-r)/2),f=a((r-e)/2),v=s((r-e)/2);switch(i){case"XYX":t.set(o*h,l*p,l*m,o*c);break;case"YZY":t.set(l*m,o*h,l*p,o*c);break;case"ZXZ":t.set(l*p,l*m,o*h,o*c);break;case"XZX":t.set(o*h,l*v,l*f,o*c);break;case"YXY":t.set(l*f,o*h,l*v,o*c);break;case"ZYZ":t.set(l*v,l*f,o*h,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ri(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Nt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const P0={DEG2RAD:Wl,RAD2DEG:Xu,generateUUID:Mi,clamp:Tn,euclideanModulo:lS,mapLinear:TB,inverseLerp:AB,lerp:Ih,damp:CB,pingpong:PB,smoothstep:RB,smootherstep:LB,randInt:NB,randFloat:kB,randFloatSpread:IB,seededRandom:OB,degToRad:DB,radToDeg:UB,isPowerOfTwo:sw,ceilPowerOfTwo:zB,floorPowerOfTwo:C0,setQuaternionFromProperEuler:FB,normalize:Nt,denormalize:ri};let Ie=class FN{constructor(e=0,n=0){FN.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Tn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Dt=class BN{constructor(e,n,r,i,a,s,o,l,c){BN.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,s,o,l,c)}set(e,n,r,i,a,s,o,l,c){const h=this.elements;return h[0]=e,h[1]=i,h[2]=o,h[3]=n,h[4]=a,h[5]=l,h[6]=r,h[7]=s,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,s=r[0],o=r[3],l=r[6],c=r[1],h=r[4],p=r[7],m=r[2],f=r[5],v=r[8],b=i[0],x=i[3],g=i[6],_=i[1],w=i[4],M=i[7],C=i[2],A=i[5],N=i[8];return a[0]=s*b+o*_+l*C,a[3]=s*x+o*w+l*A,a[6]=s*g+o*M+l*N,a[1]=c*b+h*_+p*C,a[4]=c*x+h*w+p*A,a[7]=c*g+h*M+p*N,a[2]=m*b+f*_+v*C,a[5]=m*x+f*w+v*A,a[8]=m*g+f*M+v*N,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],h=e[8];return n*s*h-n*o*c-r*a*h+r*o*l+i*a*c-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],h=e[8],p=h*s-o*c,m=o*l-h*a,f=c*a-s*l,v=n*p+r*m+i*f;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/v;return e[0]=p*b,e[1]=(i*c-h*r)*b,e[2]=(o*r-i*s)*b,e[3]=m*b,e[4]=(h*n-i*l)*b,e[5]=(i*a-o*n)*b,e[6]=f*b,e[7]=(r*l-c*n)*b,e[8]=(s*n-r*a)*b,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*s+c*o)+s+e,-i*c,i*l,-i*(-c*s+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(b1.makeScale(e,n)),this}rotate(e){return this.premultiply(b1.makeRotation(-e)),this}translate(e,n){return this.premultiply(b1.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}};const b1=new Dt;function $N(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const BB={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function bu(t,e){return new BB[t](e)}function yp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function jN(){const t=yp("canvas");return t.style.display="block",t}const L2={};function Oh(t){t in L2||(L2[t]=!0,console.warn(t))}const N2=new Dt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),k2=new Dt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),wm={[Va]:{transfer:fp,primaries:mp,toReference:t=>t,fromReference:t=>t},[Yn]:{transfer:rn,primaries:mp,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[qp]:{transfer:fp,primaries:gp,toReference:t=>t.applyMatrix3(k2),fromReference:t=>t.applyMatrix3(N2)},[pv]:{transfer:rn,primaries:gp,toReference:t=>t.convertSRGBToLinear().applyMatrix3(k2),fromReference:t=>t.applyMatrix3(N2).convertLinearToSRGB()}},$B=new Set([Va,qp]),Yt={enabled:!0,_workingColorSpace:Va,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!$B.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=wm[e].toReference,i=wm[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return wm[t].primaries},getTransfer:function(t){return t===wi?fp:wm[t].transfer}};function Du(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function w1(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Rc,cS=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Rc===void 0&&(Rc=yp("canvas")),Rc.width=e.width,Rc.height=e.height;const r=Rc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Rc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=yp("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=Du(a[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Du(n[r]/255)*255):n[r]=Du(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},jB=0,Dl=class{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:jB++}),this.uuid=Mi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(_1(i[s].image)):a.push(_1(i[s]))}else a=_1(i);r.url=a}return n||(e.images[this.uuid]=r),r}};function _1(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?cS.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let VB=0,or=class Gg extends ks{constructor(e=Gg.DEFAULT_IMAGE,n=Gg.DEFAULT_MAPPING,r=Tr,i=Tr,a=un,s=Io,o=Ar,l=Fa,c=Gg.DEFAULT_ANISOTROPY,h=wi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:VB++}),this.uuid=Mi(),this.name="",this.source=new Dl(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ie(0,0),this.repeat=new Ie(1,1),this.center=new Ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(Oh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===Ao?Yn:wi),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==uv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case cp:e.x=e.x-Math.floor(e.x);break;case Tr:e.x=e.x<0?0:1;break;case up:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case cp:e.y=e.y-Math.floor(e.y);break;case Tr:e.y=e.y<0?0:1;break;case up:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Oh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Yn?Ao:sS}set encoding(e){Oh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Ao?Yn:wi}};or.DEFAULT_IMAGE=null;or.DEFAULT_MAPPING=uv;or.DEFAULT_ANISOTROPY=1;let tn=class VN{constructor(e=0,n=0,r=0,i=1){VN.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const s=e.elements,o=s[0],l=s[4],c=s[8],h=s[1],p=s[5],m=s[9],f=s[2],v=s[6],b=s[10];if(Math.abs(l-h)<.01&&Math.abs(c-f)<.01&&Math.abs(m-v)<.01){if(Math.abs(l+h)<.1&&Math.abs(c+f)<.1&&Math.abs(m+v)<.1&&Math.abs(o+p+b-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const g=(o+1)/2,_=(p+1)/2,w=(b+1)/2,M=(l+h)/4,C=(c+f)/4,A=(m+v)/4;return g>_&&g>w?g<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(g),i=M/r,a=C/r):_>w?_<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(_),r=M/i,a=A/i):w<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(w),r=C/a,i=A/a),this.set(r,i,a,n),this}let x=Math.sqrt((v-m)*(v-m)+(c-f)*(c-f)+(h-l)*(h-l));return Math.abs(x)<.001&&(x=1),this.x=(v-m)/x,this.y=(c-f)/x,this.z=(h-l)/x,this.w=Math.acos((o+p+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}};class HN extends ks{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new tn(0,0,e,n),this.scissorTest=!1,this.viewport=new tn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Oh("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Ao?Yn:wi),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:un,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new or(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Dl(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}let ma=class extends HN{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}},fv=class extends or{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ln,this.minFilter=Ln,this.wrapR=Tr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class HB extends ma{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new fv(null,e,n,r),this.texture.isRenderTargetTexture=!0}}let uS=class extends or{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ln,this.minFilter=Ln,this.wrapR=Tr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class WB extends ma{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new uS(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class GB extends ma{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const a=this.texture;this.texture=[];for(let s=0;s<r;s++)this.texture[s]=a.clone(),this.texture[s].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.texture.length;i<a;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}let li=class{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,s,o){let l=r[i+0],c=r[i+1],h=r[i+2],p=r[i+3];const m=a[s+0],f=a[s+1],v=a[s+2],b=a[s+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=h,e[n+3]=p;return}if(o===1){e[n+0]=m,e[n+1]=f,e[n+2]=v,e[n+3]=b;return}if(p!==b||l!==m||c!==f||h!==v){let x=1-o;const g=l*m+c*f+h*v+p*b,_=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const C=Math.sqrt(w),A=Math.atan2(C,g*_);x=Math.sin(x*A)/C,o=Math.sin(o*A)/C}const M=o*_;if(l=l*x+m*M,c=c*x+f*M,h=h*x+v*M,p=p*x+b*M,x===1-o){const C=1/Math.sqrt(l*l+c*c+h*h+p*p);l*=C,c*=C,h*=C,p*=C}}e[n]=l,e[n+1]=c,e[n+2]=h,e[n+3]=p}static multiplyQuaternionsFlat(e,n,r,i,a,s){const o=r[i],l=r[i+1],c=r[i+2],h=r[i+3],p=a[s],m=a[s+1],f=a[s+2],v=a[s+3];return e[n]=o*v+h*p+l*f-c*m,e[n+1]=l*v+h*m+c*p-o*f,e[n+2]=c*v+h*f+o*m-l*p,e[n+3]=h*v-o*p-l*m-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(r/2),h=o(i/2),p=o(a/2),m=l(r/2),f=l(i/2),v=l(a/2);switch(s){case"XYZ":this._x=m*h*p+c*f*v,this._y=c*f*p-m*h*v,this._z=c*h*v+m*f*p,this._w=c*h*p-m*f*v;break;case"YXZ":this._x=m*h*p+c*f*v,this._y=c*f*p-m*h*v,this._z=c*h*v-m*f*p,this._w=c*h*p+m*f*v;break;case"ZXY":this._x=m*h*p-c*f*v,this._y=c*f*p+m*h*v,this._z=c*h*v+m*f*p,this._w=c*h*p-m*f*v;break;case"ZYX":this._x=m*h*p-c*f*v,this._y=c*f*p+m*h*v,this._z=c*h*v-m*f*p,this._w=c*h*p+m*f*v;break;case"YZX":this._x=m*h*p+c*f*v,this._y=c*f*p+m*h*v,this._z=c*h*v-m*f*p,this._w=c*h*p-m*f*v;break;case"XZY":this._x=m*h*p-c*f*v,this._y=c*f*p-m*h*v,this._z=c*h*v+m*f*p,this._w=c*h*p+m*f*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],s=n[1],o=n[5],l=n[9],c=n[2],h=n[6],p=n[10],m=r+o+p;if(m>0){const f=.5/Math.sqrt(m+1);this._w=.25/f,this._x=(h-l)*f,this._y=(a-c)*f,this._z=(s-i)*f}else if(r>o&&r>p){const f=2*Math.sqrt(1+r-o-p);this._w=(h-l)/f,this._x=.25*f,this._y=(i+s)/f,this._z=(a+c)/f}else if(o>p){const f=2*Math.sqrt(1+o-r-p);this._w=(a-c)/f,this._x=(i+s)/f,this._y=.25*f,this._z=(l+h)/f}else{const f=2*Math.sqrt(1+p-r-o);this._w=(s-i)/f,this._x=(a+c)/f,this._y=(l+h)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Tn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,s=e._w,o=n._x,l=n._y,c=n._z,h=n._w;return this._x=r*h+s*o+i*c-a*l,this._y=i*h+s*l+a*o-r*c,this._z=a*h+s*c+r*l-i*o,this._w=s*h-r*o-i*l-a*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const f=1-n;return this._w=f*s+n*this._w,this._x=f*r+n*this._x,this._y=f*i+n*this._y,this._z=f*a+n*this._z,this.normalize(),this}const c=Math.sqrt(l),h=Math.atan2(c,o),p=Math.sin((1-n)*h)/c,m=Math.sin(n*h)/c;return this._w=s*p+this._w*m,this._x=r*p+this._x*m,this._y=i*p+this._y*m,this._z=a*p+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(a),r*Math.cos(a),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}};class G{constructor(e=0,n=0,r=0){G.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(I2.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(I2.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*i-o*r),h=2*(o*n-a*i),p=2*(a*r-s*n);return this.x=n+l*c+s*p-o*h,this.y=r+l*h+o*c-a*p,this.z=i+l*p+a*h-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,s=n.x,o=n.y,l=n.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return S1.copy(this).projectOnVector(e),this.sub(S1)}reflect(e){return this.sub(S1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Tn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const S1=new G,I2=new li;let Gr=class{constructor(e=new G(1/0,1/0,1/0),n=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ki.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ki.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ki.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Ki):Ki.fromBufferAttribute(a,s),Ki.applyMatrix4(e.matrixWorld),this.expandByPoint(Ki);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_m.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),_m.copy(r.boundingBox)),_m.applyMatrix4(e.matrixWorld),this.union(_m)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ki),Ki.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Hd),Sm.subVectors(this.max,Hd),Lc.subVectors(e.a,Hd),Nc.subVectors(e.b,Hd),kc.subVectors(e.c,Hd),Gs.subVectors(Nc,Lc),qs.subVectors(kc,Nc),sl.subVectors(Lc,kc);let n=[0,-Gs.z,Gs.y,0,-qs.z,qs.y,0,-sl.z,sl.y,Gs.z,0,-Gs.x,qs.z,0,-qs.x,sl.z,0,-sl.x,-Gs.y,Gs.x,0,-qs.y,qs.x,0,-sl.y,sl.x,0];return!M1(n,Lc,Nc,kc,Sm)||(n=[1,0,0,0,1,0,0,0,1],!M1(n,Lc,Nc,kc,Sm))?!1:(Mm.crossVectors(Gs,qs),n=[Mm.x,Mm.y,Mm.z],M1(n,Lc,Nc,kc,Sm))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ki).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ki).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(es[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),es[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),es[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),es[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),es[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),es[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),es[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),es[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(es),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};const es=[new G,new G,new G,new G,new G,new G,new G,new G],Ki=new G,_m=new Gr,Lc=new G,Nc=new G,kc=new G,Gs=new G,qs=new G,sl=new G,Hd=new G,Sm=new G,Mm=new G,ol=new G;function M1(t,e,n,r,i){for(let a=0,s=t.length-3;a<=s;a+=3){ol.fromArray(t,a);const o=i.x*Math.abs(ol.x)+i.y*Math.abs(ol.y)+i.z*Math.abs(ol.z),l=e.dot(ol),c=n.dot(ol),h=r.dot(ol);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>o)return!1}return!0}const qB=new Gr,Wd=new G,E1=new G;let Cr=class{constructor(e=new G,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):qB.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Wd.subVectors(e,this.center);const n=Wd.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Wd,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(E1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Wd.copy(e.center).add(E1)),this.expandByPoint(Wd.copy(e.center).sub(E1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const ts=new G,T1=new G,Em=new G,Xs=new G,A1=new G,Tm=new G,C1=new G;let ld=class{constructor(e=new G,n=new G(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ts)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ts.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ts.copy(this.origin).addScaledVector(this.direction,n),ts.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){T1.copy(e).add(n).multiplyScalar(.5),Em.copy(n).sub(e).normalize(),Xs.copy(this.origin).sub(T1);const a=e.distanceTo(n)*.5,s=-this.direction.dot(Em),o=Xs.dot(this.direction),l=-Xs.dot(Em),c=Xs.lengthSq(),h=Math.abs(1-s*s);let p,m,f,v;if(h>0)if(p=s*l-o,m=s*o-l,v=a*h,p>=0)if(m>=-v)if(m<=v){const b=1/h;p*=b,m*=b,f=p*(p+s*m+2*o)+m*(s*p+m+2*l)+c}else m=a,p=Math.max(0,-(s*m+o)),f=-p*p+m*(m+2*l)+c;else m=-a,p=Math.max(0,-(s*m+o)),f=-p*p+m*(m+2*l)+c;else m<=-v?(p=Math.max(0,-(-s*a+o)),m=p>0?-a:Math.min(Math.max(-a,-l),a),f=-p*p+m*(m+2*l)+c):m<=v?(p=0,m=Math.min(Math.max(-a,-l),a),f=m*(m+2*l)+c):(p=Math.max(0,-(s*a+o)),m=p>0?a:Math.min(Math.max(-a,-l),a),f=-p*p+m*(m+2*l)+c);else m=s>0?-a:a,p=Math.max(0,-(s*m+o)),f=-p*p+m*(m+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(T1).addScaledVector(Em,m),f}intersectSphere(e,n){ts.subVectors(e.center,this.origin);const r=ts.dot(this.direction),i=ts.dot(ts)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,s,o,l;const c=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,m=this.origin;return c>=0?(r=(e.min.x-m.x)*c,i=(e.max.x-m.x)*c):(r=(e.max.x-m.x)*c,i=(e.min.x-m.x)*c),h>=0?(a=(e.min.y-m.y)*h,s=(e.max.y-m.y)*h):(a=(e.max.y-m.y)*h,s=(e.min.y-m.y)*h),r>s||a>i||((a>r||isNaN(r))&&(r=a),(s<i||isNaN(i))&&(i=s),p>=0?(o=(e.min.z-m.z)*p,l=(e.max.z-m.z)*p):(o=(e.max.z-m.z)*p,l=(e.min.z-m.z)*p),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ts)!==null}intersectTriangle(e,n,r,i,a){A1.subVectors(n,e),Tm.subVectors(r,e),C1.crossVectors(A1,Tm);let s=this.direction.dot(C1),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Xs.subVectors(this.origin,e);const l=o*this.direction.dot(Tm.crossVectors(Xs,Tm));if(l<0)return null;const c=o*this.direction.dot(A1.cross(Xs));if(c<0||l+c>s)return null;const h=-o*Xs.dot(C1);return h<0?null:this.at(h/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Mt=class ow{constructor(e,n,r,i,a,s,o,l,c,h,p,m,f,v,b,x){ow.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,s,o,l,c,h,p,m,f,v,b,x)}set(e,n,r,i,a,s,o,l,c,h,p,m,f,v,b,x){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=a,g[5]=s,g[9]=o,g[13]=l,g[2]=c,g[6]=h,g[10]=p,g[14]=m,g[3]=f,g[7]=v,g[11]=b,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ow().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Ic.setFromMatrixColumn(e,0).length(),a=1/Ic.setFromMatrixColumn(e,1).length(),s=1/Ic.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),h=Math.cos(a),p=Math.sin(a);if(e.order==="XYZ"){const m=s*h,f=s*p,v=o*h,b=o*p;n[0]=l*h,n[4]=-l*p,n[8]=c,n[1]=f+v*c,n[5]=m-b*c,n[9]=-o*l,n[2]=b-m*c,n[6]=v+f*c,n[10]=s*l}else if(e.order==="YXZ"){const m=l*h,f=l*p,v=c*h,b=c*p;n[0]=m+b*o,n[4]=v*o-f,n[8]=s*c,n[1]=s*p,n[5]=s*h,n[9]=-o,n[2]=f*o-v,n[6]=b+m*o,n[10]=s*l}else if(e.order==="ZXY"){const m=l*h,f=l*p,v=c*h,b=c*p;n[0]=m-b*o,n[4]=-s*p,n[8]=v+f*o,n[1]=f+v*o,n[5]=s*h,n[9]=b-m*o,n[2]=-s*c,n[6]=o,n[10]=s*l}else if(e.order==="ZYX"){const m=s*h,f=s*p,v=o*h,b=o*p;n[0]=l*h,n[4]=v*c-f,n[8]=m*c+b,n[1]=l*p,n[5]=b*c+m,n[9]=f*c-v,n[2]=-c,n[6]=o*l,n[10]=s*l}else if(e.order==="YZX"){const m=s*l,f=s*c,v=o*l,b=o*c;n[0]=l*h,n[4]=b-m*p,n[8]=v*p+f,n[1]=p,n[5]=s*h,n[9]=-o*h,n[2]=-c*h,n[6]=f*p+v,n[10]=m-b*p}else if(e.order==="XZY"){const m=s*l,f=s*c,v=o*l,b=o*c;n[0]=l*h,n[4]=-p,n[8]=c*h,n[1]=m*p+b,n[5]=s*h,n[9]=f*p-v,n[2]=v*p-f,n[6]=o*h,n[10]=b*p+m}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(XB,e,YB)}lookAt(e,n,r){const i=this.elements;return vi.subVectors(e,n),vi.lengthSq()===0&&(vi.z=1),vi.normalize(),Ys.crossVectors(r,vi),Ys.lengthSq()===0&&(Math.abs(r.z)===1?vi.x+=1e-4:vi.z+=1e-4,vi.normalize(),Ys.crossVectors(r,vi)),Ys.normalize(),Am.crossVectors(vi,Ys),i[0]=Ys.x,i[4]=Am.x,i[8]=vi.x,i[1]=Ys.y,i[5]=Am.y,i[9]=vi.y,i[2]=Ys.z,i[6]=Am.z,i[10]=vi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,s=r[0],o=r[4],l=r[8],c=r[12],h=r[1],p=r[5],m=r[9],f=r[13],v=r[2],b=r[6],x=r[10],g=r[14],_=r[3],w=r[7],M=r[11],C=r[15],A=i[0],N=i[4],O=i[8],P=i[12],I=i[1],H=i[5],q=i[9],se=i[13],$=i[2],Z=i[6],ne=i[10],ie=i[14],D=i[3],F=i[7],W=i[11],K=i[15];return a[0]=s*A+o*I+l*$+c*D,a[4]=s*N+o*H+l*Z+c*F,a[8]=s*O+o*q+l*ne+c*W,a[12]=s*P+o*se+l*ie+c*K,a[1]=h*A+p*I+m*$+f*D,a[5]=h*N+p*H+m*Z+f*F,a[9]=h*O+p*q+m*ne+f*W,a[13]=h*P+p*se+m*ie+f*K,a[2]=v*A+b*I+x*$+g*D,a[6]=v*N+b*H+x*Z+g*F,a[10]=v*O+b*q+x*ne+g*W,a[14]=v*P+b*se+x*ie+g*K,a[3]=_*A+w*I+M*$+C*D,a[7]=_*N+w*H+M*Z+C*F,a[11]=_*O+w*q+M*ne+C*W,a[15]=_*P+w*se+M*ie+C*K,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],h=e[2],p=e[6],m=e[10],f=e[14],v=e[3],b=e[7],x=e[11],g=e[15];return v*(+a*l*p-i*c*p-a*o*m+r*c*m+i*o*f-r*l*f)+b*(+n*l*f-n*c*m+a*s*m-i*s*f+i*c*h-a*l*h)+x*(+n*c*p-n*o*f-a*s*p+r*s*f+a*o*h-r*c*h)+g*(-i*o*h-n*l*p+n*o*m+i*s*p-r*s*m+r*l*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],h=e[8],p=e[9],m=e[10],f=e[11],v=e[12],b=e[13],x=e[14],g=e[15],_=p*x*c-b*m*c+b*l*f-o*x*f-p*l*g+o*m*g,w=v*m*c-h*x*c-v*l*f+s*x*f+h*l*g-s*m*g,M=h*b*c-v*p*c+v*o*f-s*b*f-h*o*g+s*p*g,C=v*p*l-h*b*l-v*o*m+s*b*m+h*o*x-s*p*x,A=n*_+r*w+i*M+a*C;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/A;return e[0]=_*N,e[1]=(b*m*a-p*x*a-b*i*f+r*x*f+p*i*g-r*m*g)*N,e[2]=(o*x*a-b*l*a+b*i*c-r*x*c-o*i*g+r*l*g)*N,e[3]=(p*l*a-o*m*a-p*i*c+r*m*c+o*i*f-r*l*f)*N,e[4]=w*N,e[5]=(h*x*a-v*m*a+v*i*f-n*x*f-h*i*g+n*m*g)*N,e[6]=(v*l*a-s*x*a-v*i*c+n*x*c+s*i*g-n*l*g)*N,e[7]=(s*m*a-h*l*a+h*i*c-n*m*c-s*i*f+n*l*f)*N,e[8]=M*N,e[9]=(v*p*a-h*b*a-v*r*f+n*b*f+h*r*g-n*p*g)*N,e[10]=(s*b*a-v*o*a+v*r*c-n*b*c-s*r*g+n*o*g)*N,e[11]=(h*o*a-s*p*a-h*r*c+n*p*c+s*r*f-n*o*f)*N,e[12]=C*N,e[13]=(h*b*i-v*p*i+v*r*m-n*b*m-h*r*x+n*p*x)*N,e[14]=(v*o*i-s*b*i-v*r*l+n*b*l+s*r*x-n*o*x)*N,e[15]=(s*p*i-h*o*i+h*r*l-n*p*l-s*r*m+n*o*m)*N,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,s=e.x,o=e.y,l=e.z,c=a*s,h=a*o;return this.set(c*s+r,c*o-i*l,c*l+i*o,0,c*o+i*l,h*o+r,h*l-i*s,0,c*l-i*o,h*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,s=n._y,o=n._z,l=n._w,c=a+a,h=s+s,p=o+o,m=a*c,f=a*h,v=a*p,b=s*h,x=s*p,g=o*p,_=l*c,w=l*h,M=l*p,C=r.x,A=r.y,N=r.z;return i[0]=(1-(b+g))*C,i[1]=(f+M)*C,i[2]=(v-w)*C,i[3]=0,i[4]=(f-M)*A,i[5]=(1-(m+g))*A,i[6]=(x+_)*A,i[7]=0,i[8]=(v+w)*N,i[9]=(x-_)*N,i[10]=(1-(m+b))*N,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let a=Ic.set(i[0],i[1],i[2]).length();const s=Ic.set(i[4],i[5],i[6]).length(),o=Ic.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],ea.copy(this);const l=1/a,c=1/s,h=1/o;return ea.elements[0]*=l,ea.elements[1]*=l,ea.elements[2]*=l,ea.elements[4]*=c,ea.elements[5]*=c,ea.elements[6]*=c,ea.elements[8]*=h,ea.elements[9]*=h,ea.elements[10]*=h,n.setFromRotationMatrix(ea),r.x=a,r.y=s,r.z=o,this}makePerspective(e,n,r,i,a,s,o=da){const l=this.elements,c=2*a/(n-e),h=2*a/(r-i),p=(n+e)/(n-e),m=(r+i)/(r-i);let f,v;if(o===da)f=-(s+a)/(s-a),v=-2*s*a/(s-a);else if(o===qu)f=-s/(s-a),v=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=h,l[9]=m,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,a,s,o=da){const l=this.elements,c=1/(n-e),h=1/(r-i),p=1/(s-a),m=(n+e)*c,f=(r+i)*h;let v,b;if(o===da)v=(s+a)*p,b=-2*p;else if(o===qu)v=a*p,b=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-m,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=b,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}};const Ic=new G,ea=new Mt,XB=new G(0,0,0),YB=new G(1,1,1),Ys=new G,Am=new G,vi=new G,O2=new Mt,D2=new li;let dS=class WN{constructor(e=0,n=0,r=0,i=WN.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],c=i[5],h=i[9],p=i[2],m=i[6],f=i[10];switch(n){case"XYZ":this._y=Math.asin(Tn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,f),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(m,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Tn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-p,a),this._z=0);break;case"ZXY":this._x=Math.asin(Tn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-p,f),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Tn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(m,f),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Tn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Tn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(m,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-h,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return O2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(O2,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return D2.setFromEuler(this),this.setFromQuaternion(D2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};dS.DEFAULT_ORDER="XYZ";let Gl=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},ZB=0;const U2=new G,Oc=new li,ns=new Mt,Cm=new G,Gd=new G,QB=new G,JB=new li,z2=new G(1,0,0),F2=new G(0,1,0),B2=new G(0,0,1),KB={type:"added"},e$={type:"removed"};let Jt=class qg extends ks{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ZB++}),this.uuid=Mi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=qg.DEFAULT_UP.clone();const e=new G,n=new dS,r=new li,i=new G(1,1,1);function a(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Mt},normalMatrix:{value:new Dt}}),this.matrix=new Mt,this.matrixWorld=new Mt,this.matrixAutoUpdate=qg.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=qg.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Gl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Oc.setFromAxisAngle(e,n),this.quaternion.multiply(Oc),this}rotateOnWorldAxis(e,n){return Oc.setFromAxisAngle(e,n),this.quaternion.premultiply(Oc),this}rotateX(e){return this.rotateOnAxis(z2,e)}rotateY(e){return this.rotateOnAxis(F2,e)}rotateZ(e){return this.rotateOnAxis(B2,e)}translateOnAxis(e,n){return U2.copy(e).applyQuaternion(this.quaternion),this.position.add(U2.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(z2,e)}translateY(e){return this.translateOnAxis(F2,e)}translateZ(e){return this.translateOnAxis(B2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ns.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Cm.copy(e):Cm.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Gd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ns.lookAt(Gd,Cm,this.up):ns.lookAt(Cm,Gd,this.up),this.quaternion.setFromRotationMatrix(ns),i&&(ns.extractRotation(i.matrixWorld),Oc.setFromRotationMatrix(ns),this.quaternion.premultiply(Oc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(KB)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(e$)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ns.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ns.multiply(e.parent.matrixWorld)),e.applyMatrix4(ns),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Gd,e,QB),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Gd,JB,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const a=n[r];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++){const o=i[a];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,h=l.length;c<h;c++){const p=l[c];a(e.shapes,p)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(n){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),h=s(e.images),p=s(e.shapes),m=s(e.skeletons),f=s(e.animations),v=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),h.length>0&&(r.images=h),p.length>0&&(r.shapes=p),m.length>0&&(r.skeletons=m),f.length>0&&(r.animations=f),v.length>0&&(r.nodes=v)}return r.object=i,r;function s(o){const l=[];for(const c in o){const h=o[c];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}};Jt.DEFAULT_UP=new G(0,1,0);Jt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ta=new G,rs=new G,P1=new G,is=new G,Dc=new G,Uc=new G,$2=new G,R1=new G,L1=new G,N1=new G;let Pm=!1,Ul=class El{constructor(e=new G,n=new G,r=new G){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ta.subVectors(e,n),i.cross(ta);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){ta.subVectors(i,n),rs.subVectors(r,n),P1.subVectors(e,n);const s=ta.dot(ta),o=ta.dot(rs),l=ta.dot(P1),c=rs.dot(rs),h=rs.dot(P1),p=s*c-o*o;if(p===0)return a.set(0,0,0),null;const m=1/p,f=(c*l-o*h)*m,v=(s*h-o*l)*m;return a.set(1-f-v,v,f)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,is)===null?!1:is.x>=0&&is.y>=0&&is.x+is.y<=1}static getUV(e,n,r,i,a,s,o,l){return Pm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Pm=!0),this.getInterpolation(e,n,r,i,a,s,o,l)}static getInterpolation(e,n,r,i,a,s,o,l){return this.getBarycoord(e,n,r,i,is)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,is.x),l.addScaledVector(s,is.y),l.addScaledVector(o,is.z),l)}static isFrontFacing(e,n,r,i){return ta.subVectors(r,n),rs.subVectors(e,n),ta.cross(rs).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ta.subVectors(this.c,this.b),rs.subVectors(this.a,this.b),ta.cross(rs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return El.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return El.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,a){return Pm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Pm=!0),El.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}getInterpolation(e,n,r,i,a){return El.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return El.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return El.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let s,o;Dc.subVectors(i,r),Uc.subVectors(a,r),R1.subVectors(e,r);const l=Dc.dot(R1),c=Uc.dot(R1);if(l<=0&&c<=0)return n.copy(r);L1.subVectors(e,i);const h=Dc.dot(L1),p=Uc.dot(L1);if(h>=0&&p<=h)return n.copy(i);const m=l*p-h*c;if(m<=0&&l>=0&&h<=0)return s=l/(l-h),n.copy(r).addScaledVector(Dc,s);N1.subVectors(e,a);const f=Dc.dot(N1),v=Uc.dot(N1);if(v>=0&&f<=v)return n.copy(a);const b=f*c-l*v;if(b<=0&&c>=0&&v<=0)return o=c/(c-v),n.copy(r).addScaledVector(Uc,o);const x=h*v-f*p;if(x<=0&&p-h>=0&&f-v>=0)return $2.subVectors(a,i),o=(p-h)/(p-h+(f-v)),n.copy(i).addScaledVector($2,o);const g=1/(x+b+m);return s=b*g,o=m*g,n.copy(r).addScaledVector(Dc,s).addScaledVector(Uc,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}};const GN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zs={h:0,s:0,l:0},Rm={h:0,s:0,l:0};function k1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let et=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Yn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Yt.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Yt.workingColorSpace){return this.r=e,this.g=n,this.b=r,Yt.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Yt.workingColorSpace){if(e=lS(e,1),n=Tn(n,0,1),r=Tn(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,s=2*r-a;this.r=k1(s,a,e+1/3),this.g=k1(s,a,e),this.b=k1(s,a,e-1/3)}return Yt.toWorkingColorSpace(this,i),this}setStyle(e,n=Yn){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Yn){const r=GN[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Du(e.r),this.g=Du(e.g),this.b=Du(e.b),this}copyLinearToSRGB(e){return this.r=w1(e.r),this.g=w1(e.g),this.b=w1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Yn){return Yt.fromWorkingColorSpace(wr.copy(this),e),Math.round(Tn(wr.r*255,0,255))*65536+Math.round(Tn(wr.g*255,0,255))*256+Math.round(Tn(wr.b*255,0,255))}getHexString(e=Yn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Yt.workingColorSpace){Yt.fromWorkingColorSpace(wr.copy(this),n);const r=wr.r,i=wr.g,a=wr.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,c;const h=(o+s)/2;if(o===s)l=0,c=0;else{const p=s-o;switch(c=h<=.5?p/(s+o):p/(2-s-o),s){case r:l=(i-a)/p+(i<a?6:0);break;case i:l=(a-r)/p+2;break;case a:l=(r-i)/p+4;break}l/=6}return e.h=l,e.s=c,e.l=h,e}getRGB(e,n=Yt.workingColorSpace){return Yt.fromWorkingColorSpace(wr.copy(this),n),e.r=wr.r,e.g=wr.g,e.b=wr.b,e}getStyle(e=Yn){Yt.fromWorkingColorSpace(wr.copy(this),e);const n=wr.r,r=wr.g,i=wr.b;return e!==Yn?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Zs),this.setHSL(Zs.h+e,Zs.s+n,Zs.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Zs),e.getHSL(Rm);const r=Ih(Zs.h,Rm.h,n),i=Ih(Zs.s,Rm.s,n),a=Ih(Zs.l,Rm.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const wr=new et;et.NAMES=GN;let t$=0,pr=class extends ks{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:t$++}),this.uuid=Mi(),this.name="",this.type="Material",this.blending=Hl,this.side=As,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=M0,this.blendDst=E0,this.blendEquation=po,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new et(0,0,0),this.blendAlpha=0,this.depthFunc=op,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=iw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ml,this.stencilZFail=Ml,this.stencilZPass=Ml,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Hl&&(r.blending=this.blending),this.side!==As&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==M0&&(r.blendSrc=this.blendSrc),this.blendDst!==E0&&(r.blendDst=this.blendDst),this.blendEquation!==po&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==op&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==iw&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ml&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ml&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ml&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(n){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},Go=class extends pr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}};const ps=n$();function n$(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,h=0;for(;!(c&8388608);)c<<=1,h-=8388608;c&=-8388609,h+=947912704,a[l]=c|h}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function ei(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Tn(t,-65504,65504),ps.floatView[0]=t;const e=ps.uint32View[0],n=e>>23&511;return ps.baseTable[n]+((e&8388607)>>ps.shiftTable[n])}function wh(t){const e=t>>10;return ps.uint32View[0]=ps.mantissaTable[ps.offsetTable[e]+(t&1023)]+ps.exponentTable[e],ps.floatView[0]}const zl={toHalfFloat:ei,fromHalfFloat:wh},Fn=new G,Lm=new Ie;let Qt=class{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=vp,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ur,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Lm.fromBufferAttribute(this,n),Lm.applyMatrix3(e),this.setXY(n,Lm.x,Lm.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Fn.fromBufferAttribute(this,n),Fn.applyMatrix3(e),this.setXYZ(n,Fn.x,Fn.y,Fn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Fn.fromBufferAttribute(this,n),Fn.applyMatrix4(e),this.setXYZ(n,Fn.x,Fn.y,Fn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Fn.fromBufferAttribute(this,n),Fn.applyNormalMatrix(e),this.setXYZ(n,Fn.x,Fn.y,Fn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Fn.fromBufferAttribute(this,n),Fn.transformDirection(e),this.setXYZ(n,Fn.x,Fn.y,Fn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ri(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Nt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ri(n,this.array)),n}setX(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ri(n,this.array)),n}setY(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ri(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ri(n,this.array)),n}setW(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array),a=Nt(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==vp&&(e.usage=this.usage),e}};class r$ extends Qt{constructor(e,n,r){super(new Int8Array(e),n,r)}}class i$ extends Qt{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class a$ extends Qt{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class s$ extends Qt{constructor(e,n,r){super(new Int16Array(e),n,r)}}let hS=class extends Qt{constructor(e,n,r){super(new Uint16Array(e),n,r)}};class o$ extends Qt{constructor(e,n,r){super(new Int32Array(e),n,r)}}let pS=class extends Qt{constructor(e,n,r){super(new Uint32Array(e),n,r)}};class l$ extends Qt{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=wh(this.array[e*this.itemSize]);return this.normalized&&(n=ri(n,this.array)),n}setX(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize]=ei(n),this}getY(e){let n=wh(this.array[e*this.itemSize+1]);return this.normalized&&(n=ri(n,this.array)),n}setY(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+1]=ei(n),this}getZ(e){let n=wh(this.array[e*this.itemSize+2]);return this.normalized&&(n=ri(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+2]=ei(n),this}getW(e){let n=wh(this.array[e*this.itemSize+3]);return this.normalized&&(n=ri(n,this.array)),n}setW(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+3]=ei(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array)),this.array[e+0]=ei(n),this.array[e+1]=ei(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array)),this.array[e+0]=ei(n),this.array[e+1]=ei(r),this.array[e+2]=ei(i),this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array),a=Nt(a,this.array)),this.array[e+0]=ei(n),this.array[e+1]=ei(r),this.array[e+2]=ei(i),this.array[e+3]=ei(a),this}}let lt=class extends Qt{constructor(e,n,r){super(new Float32Array(e),n,r)}};class c$ extends Qt{constructor(e,n,r){super(new Float64Array(e),n,r)}}let u$=0;const zi=new Mt,I1=new Jt,zc=new G,yi=new Gr,qd=new Gr,ir=new G;let Ot=class qN extends ks{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:u$++}),this.uuid=Mi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new($N(e)?pS:hS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Dt().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return zi.makeRotationFromQuaternion(e),this.applyMatrix4(zi),this}rotateX(e){return zi.makeRotationX(e),this.applyMatrix4(zi),this}rotateY(e){return zi.makeRotationY(e),this.applyMatrix4(zi),this}rotateZ(e){return zi.makeRotationZ(e),this.applyMatrix4(zi),this}translate(e,n,r){return zi.makeTranslation(e,n,r),this.applyMatrix4(zi),this}scale(e,n,r){return zi.makeScale(e,n,r),this.applyMatrix4(zi),this}lookAt(e){return I1.lookAt(e),I1.updateMatrix(),this.applyMatrix4(I1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zc).negate(),this.translate(zc.x,zc.y,zc.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];n.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new lt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];yi.setFromBufferAttribute(a),this.morphTargetsRelative?(ir.addVectors(this.boundingBox.min,yi.min),this.boundingBox.expandByPoint(ir),ir.addVectors(this.boundingBox.max,yi.max),this.boundingBox.expandByPoint(ir)):(this.boundingBox.expandByPoint(yi.min),this.boundingBox.expandByPoint(yi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Cr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new G,1/0);return}if(e){const r=this.boundingSphere.center;if(yi.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const o=n[a];qd.setFromBufferAttribute(o),this.morphTargetsRelative?(ir.addVectors(yi.min,qd.min),yi.expandByPoint(ir),ir.addVectors(yi.max,qd.max),yi.expandByPoint(ir)):(yi.expandByPoint(qd.min),yi.expandByPoint(qd.max))}yi.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)ir.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(ir));if(n)for(let a=0,s=n.length;a<s;a++){const o=n[a],l=this.morphTargetsRelative;for(let c=0,h=o.count;c<h;c++)ir.fromBufferAttribute(o,c),l&&(zc.fromBufferAttribute(e,c),ir.add(zc)),i=Math.max(i,r.distanceToSquared(ir))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,a=n.normal.array,s=n.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qt(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,c=[],h=[];for(let I=0;I<o;I++)c[I]=new G,h[I]=new G;const p=new G,m=new G,f=new G,v=new Ie,b=new Ie,x=new Ie,g=new G,_=new G;function w(I,H,q){p.fromArray(i,I*3),m.fromArray(i,H*3),f.fromArray(i,q*3),v.fromArray(s,I*2),b.fromArray(s,H*2),x.fromArray(s,q*2),m.sub(p),f.sub(p),b.sub(v),x.sub(v);const se=1/(b.x*x.y-x.x*b.y);isFinite(se)&&(g.copy(m).multiplyScalar(x.y).addScaledVector(f,-b.y).multiplyScalar(se),_.copy(f).multiplyScalar(b.x).addScaledVector(m,-x.x).multiplyScalar(se),c[I].add(g),c[H].add(g),c[q].add(g),h[I].add(_),h[H].add(_),h[q].add(_))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let I=0,H=M.length;I<H;++I){const q=M[I],se=q.start,$=q.count;for(let Z=se,ne=se+$;Z<ne;Z+=3)w(r[Z+0],r[Z+1],r[Z+2])}const C=new G,A=new G,N=new G,O=new G;function P(I){N.fromArray(a,I*3),O.copy(N);const H=c[I];C.copy(H),C.sub(N.multiplyScalar(N.dot(H))).normalize(),A.crossVectors(O,H);const q=A.dot(h[I])<0?-1:1;l[I*4]=C.x,l[I*4+1]=C.y,l[I*4+2]=C.z,l[I*4+3]=q}for(let I=0,H=M.length;I<H;++I){const q=M[I],se=q.start,$=q.count;for(let Z=se,ne=se+$;Z<ne;Z+=3)P(r[Z+0]),P(r[Z+1]),P(r[Z+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Qt(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let m=0,f=r.count;m<f;m++)r.setXYZ(m,0,0,0);const i=new G,a=new G,s=new G,o=new G,l=new G,c=new G,h=new G,p=new G;if(e)for(let m=0,f=e.count;m<f;m+=3){const v=e.getX(m+0),b=e.getX(m+1),x=e.getX(m+2);i.fromBufferAttribute(n,v),a.fromBufferAttribute(n,b),s.fromBufferAttribute(n,x),h.subVectors(s,a),p.subVectors(i,a),h.cross(p),o.fromBufferAttribute(r,v),l.fromBufferAttribute(r,b),c.fromBufferAttribute(r,x),o.add(h),l.add(h),c.add(h),r.setXYZ(v,o.x,o.y,o.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let m=0,f=n.count;m<f;m+=3)i.fromBufferAttribute(n,m+0),a.fromBufferAttribute(n,m+1),s.fromBufferAttribute(n,m+2),h.subVectors(s,a),p.subVectors(i,a),h.cross(p),r.setXYZ(m+0,h.x,h.y,h.z),r.setXYZ(m+1,h.x,h.y,h.z),r.setXYZ(m+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ir.fromBufferAttribute(e,n),ir.normalize(),e.setXYZ(n,ir.x,ir.y,ir.z)}toNonIndexed(){function e(o,l){const c=o.array,h=o.itemSize,p=o.normalized,m=new c.constructor(l.length*h);let f=0,v=0;for(let b=0,x=l.length;b<x;b++){o.isInterleavedBufferAttribute?f=l[b]*o.data.stride+o.offset:f=l[b]*h;for(let g=0;g<h;g++)m[v++]=c[f++]}return new Qt(m,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new qN,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);n.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let h=0,p=c.length;h<p;h++){const m=c[h],f=e(m,r);l.push(f)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],h=[];for(let p=0,m=c.length;p<m;p++){const f=c[p];h.push(f.toJSON(e.data))}h.length>0&&(i[l]=h,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const h=i[c];this.setAttribute(c,h.clone(n))}const a=e.morphAttributes;for(const c in a){const h=[],p=a[c];for(let m=0,f=p.length;m<f;m++)h.push(p[m].clone(n));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,h=s.length;c<h;c++){const p=s[c];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}};const j2=new Mt,ll=new ld,Nm=new Cr,V2=new G,Fc=new G,Bc=new G,$c=new G,O1=new G,km=new G,Im=new Ie,Om=new Ie,Dm=new Ie,H2=new G,W2=new G,G2=new G,Um=new G,zm=new G;let Vn=class extends Jt{constructor(e=new Ot,n=new Go){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,a=r.length;i<a;i++){const s=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=i}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){km.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const h=o[l],p=a[l];h!==0&&(O1.fromBufferAttribute(p,e),s?km.addScaledVector(O1,h):km.addScaledVector(O1.sub(n),h))}n.add(km)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Nm.copy(r.boundingSphere),Nm.applyMatrix4(a),ll.copy(e.ray).recast(e.near),!(Nm.containsPoint(ll.origin)===!1&&(ll.intersectSphere(Nm,V2)===null||ll.origin.distanceToSquared(V2)>(e.far-e.near)**2))&&(j2.copy(a).invert(),ll.copy(e.ray).applyMatrix4(j2),!(r.boundingBox!==null&&ll.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,ll)))}_computeIntersections(e,n,r){let i;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,c=a.attributes.uv,h=a.attributes.uv1,p=a.attributes.normal,m=a.groups,f=a.drawRange;if(o!==null)if(Array.isArray(s))for(let v=0,b=m.length;v<b;v++){const x=m[v],g=s[x.materialIndex],_=Math.max(x.start,f.start),w=Math.min(o.count,Math.min(x.start+x.count,f.start+f.count));for(let M=_,C=w;M<C;M+=3){const A=o.getX(M),N=o.getX(M+1),O=o.getX(M+2);i=Fm(this,g,e,r,c,h,p,A,N,O),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const v=Math.max(0,f.start),b=Math.min(o.count,f.start+f.count);for(let x=v,g=b;x<g;x+=3){const _=o.getX(x),w=o.getX(x+1),M=o.getX(x+2);i=Fm(this,s,e,r,c,h,p,_,w,M),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let v=0,b=m.length;v<b;v++){const x=m[v],g=s[x.materialIndex],_=Math.max(x.start,f.start),w=Math.min(l.count,Math.min(x.start+x.count,f.start+f.count));for(let M=_,C=w;M<C;M+=3){const A=M,N=M+1,O=M+2;i=Fm(this,g,e,r,c,h,p,A,N,O),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const v=Math.max(0,f.start),b=Math.min(l.count,f.start+f.count);for(let x=v,g=b;x<g;x+=3){const _=x,w=x+1,M=x+2;i=Fm(this,s,e,r,c,h,p,_,w,M),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}};function d$(t,e,n,r,i,a,s,o){let l;if(e.side===Wr?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side===As,o),l===null)return null;zm.copy(o),zm.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(zm);return c<n.near||c>n.far?null:{distance:c,point:zm.clone(),object:t}}function Fm(t,e,n,r,i,a,s,o,l,c){t.getVertexPosition(o,Fc),t.getVertexPosition(l,Bc),t.getVertexPosition(c,$c);const h=d$(t,e,n,r,Fc,Bc,$c,Um);if(h){i&&(Im.fromBufferAttribute(i,o),Om.fromBufferAttribute(i,l),Dm.fromBufferAttribute(i,c),h.uv=Ul.getInterpolation(Um,Fc,Bc,$c,Im,Om,Dm,new Ie)),a&&(Im.fromBufferAttribute(a,o),Om.fromBufferAttribute(a,l),Dm.fromBufferAttribute(a,c),h.uv1=Ul.getInterpolation(Um,Fc,Bc,$c,Im,Om,Dm,new Ie),h.uv2=h.uv1),s&&(H2.fromBufferAttribute(s,o),W2.fromBufferAttribute(s,l),G2.fromBufferAttribute(s,c),h.normal=Ul.getInterpolation(Um,Fc,Bc,$c,H2,W2,G2,new G),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const p={a:o,b:l,c,normal:new G,materialIndex:0};Ul.getNormal(Fc,Bc,$c,p.normal),h.face=p}return h}let Xp=class XN extends Ot{constructor(e=1,n=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],h=[],p=[];let m=0,f=0;v("z","y","x",-1,-1,r,n,e,s,a,0),v("z","y","x",1,-1,r,n,-e,s,a,1),v("x","z","y",1,1,e,r,n,i,s,2),v("x","z","y",1,-1,e,r,-n,i,s,3),v("x","y","z",1,-1,e,n,r,i,a,4),v("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new lt(c,3)),this.setAttribute("normal",new lt(h,3)),this.setAttribute("uv",new lt(p,2));function v(b,x,g,_,w,M,C,A,N,O,P){const I=M/N,H=C/O,q=M/2,se=C/2,$=A/2,Z=N+1,ne=O+1;let ie=0,D=0;const F=new G;for(let W=0;W<ne;W++){const K=W*H-se;for(let re=0;re<Z;re++){const ee=re*I-q;F[b]=ee*_,F[x]=K*w,F[g]=$,c.push(F.x,F.y,F.z),F[b]=0,F[x]=0,F[g]=A>0?1:-1,h.push(F.x,F.y,F.z),p.push(re/N),p.push(1-W/O),ie+=1}}for(let W=0;W<O;W++)for(let K=0;K<N;K++){const re=m+K+Z*W,ee=m+K+Z*(W+1),le=m+(K+1)+Z*(W+1),Le=m+(K+1)+Z*W;l.push(re,ee,Le),l.push(ee,le,Le),D+=6}o.addGroup(f,D,P),f+=D,m+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XN(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Yu(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function zr(t){const e={};for(let n=0;n<t.length;n++){const r=Yu(t[n]);for(const i in r)e[i]=r[i]}return e}function h$(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function YN(t){return t.getRenderTarget()===null?t.outputColorSpace:Yt.workingColorSpace}const ZN={clone:Yu,merge:zr};var p$=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,f$=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;let ga=class extends pr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=p$,this.fragmentShader=f$,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Yu(e.uniforms),this.uniformsGroups=h$(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}};class Yp extends Jt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Mt,this.projectionMatrix=new Mt,this.projectionMatrixInverse=new Mt,this.coordinateSystem=da}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let $n=class extends Yp{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Xu*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Wl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Xu*2*Math.atan(Math.tan(Wl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Wl*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*i/l,n-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};const jc=-90,Vc=1;class QN extends Jt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new $n(jc,Vc,e,n);i.layers=this.layers,this.add(i);const a=new $n(jc,Vc,e,n);a.layers=this.layers,this.add(a);const s=new $n(jc,Vc,e,n);s.layers=this.layers,this.add(s);const o=new $n(jc,Vc,e,n);o.layers=this.layers,this.add(o);const l=new $n(jc,Vc,e,n);l.layers=this.layers,this.add(l);const c=new $n(jc,Vc,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,s,o,l]=n;for(const c of n)this.remove(c);if(e===da)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===qu)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,c,h]=this.children,p=e.getRenderTarget(),m=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,a),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,i),e.render(n,h),e.setRenderTarget(p,m,f),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class Zp extends or{constructor(e,n,r,i,a,s,o,l,c,h){e=e!==void 0?e:[],n=n!==void 0?n:ja,super(e,n,r,i,a,s,o,l,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}let fS=class extends ma{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Oh("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Ao?Yn:wi),this.texture=new Zp(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:un}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Xp(5,5,5),a=new ga({name:"CubemapFromEquirect",uniforms:Yu(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Wr,blending:bs});a.uniforms.tEquirect.value=n;const s=new Vn(i,a),o=n.minFilter;return n.minFilter===Io&&(n.minFilter=un),new QN(1,10,this).update(e,s),n.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(a)}};const D1=new G,m$=new G,g$=new Dt;let lo=class{constructor(e=new G(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=D1.subVectors(r,n).cross(m$.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(D1),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||g$.getNormalMatrix(e),i=this.coplanarPoint(D1).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const cl=new Cr,Bm=new G;class Qp{constructor(e=new lo,n=new lo,r=new lo,i=new lo,a=new lo,s=new lo){this.planes=[e,n,r,i,a,s]}set(e,n,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=da){const r=this.planes,i=e.elements,a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],h=i[5],p=i[6],m=i[7],f=i[8],v=i[9],b=i[10],x=i[11],g=i[12],_=i[13],w=i[14],M=i[15];if(r[0].setComponents(l-a,m-c,x-f,M-g).normalize(),r[1].setComponents(l+a,m+c,x+f,M+g).normalize(),r[2].setComponents(l+s,m+h,x+v,M+_).normalize(),r[3].setComponents(l-s,m-h,x-v,M-_).normalize(),r[4].setComponents(l-o,m-p,x-b,M-w).normalize(),n===da)r[5].setComponents(l+o,m+p,x+b,M+w).normalize();else if(n===qu)r[5].setComponents(o,p,b,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),cl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),cl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(cl)}intersectsSprite(e){return cl.center.set(0,0,0),cl.radius=.7071067811865476,cl.applyMatrix4(e.matrixWorld),this.intersectsSphere(cl)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Bm.x=i.normal.x>0?e.max.x:e.min.x,Bm.y=i.normal.y>0?e.max.y:e.min.y,Bm.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Bm)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function JN(){let t=null,e=!1,n=null,r=null;function i(a,s){n(a,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function v$(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,h){const p=c.array,m=c.usage,f=p.byteLength,v=t.createBuffer();t.bindBuffer(h,v),t.bufferData(h,p,m),c.onUploadCallback();let b;if(p instanceof Float32Array)b=t.FLOAT;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)b=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else b=t.UNSIGNED_SHORT;else if(p instanceof Int16Array)b=t.SHORT;else if(p instanceof Uint32Array)b=t.UNSIGNED_INT;else if(p instanceof Int32Array)b=t.INT;else if(p instanceof Int8Array)b=t.BYTE;else if(p instanceof Uint8Array)b=t.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)b=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:v,type:b,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:f}}function a(c,h,p){const m=h.array,f=h._updateRange,v=h.updateRanges;if(t.bindBuffer(p,c),f.count===-1&&v.length===0&&t.bufferSubData(p,0,m),v.length!==0){for(let b=0,x=v.length;b<x;b++){const g=v[b];n?t.bufferSubData(p,g.start*m.BYTES_PER_ELEMENT,m,g.start,g.count):t.bufferSubData(p,g.start*m.BYTES_PER_ELEMENT,m.subarray(g.start,g.start+g.count))}h.clearUpdateRanges()}f.count!==-1&&(n?t.bufferSubData(p,f.offset*m.BYTES_PER_ELEMENT,m,f.offset,f.count):t.bufferSubData(p,f.offset*m.BYTES_PER_ELEMENT,m.subarray(f.offset,f.offset+f.count)),f.count=-1),h.onUploadCallback()}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h&&(t.deleteBuffer(h.buffer),r.delete(c))}function l(c,h){if(c.isGLBufferAttribute){const m=r.get(c);(!m||m.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const p=r.get(c);if(p===void 0)r.set(c,i(c,h));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");a(p.buffer,c,h),p.version=c.version}}return{get:s,remove:o,update:l}}let mS=class KN extends Ot{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,s=n/2,o=Math.floor(r),l=Math.floor(i),c=o+1,h=l+1,p=e/o,m=n/l,f=[],v=[],b=[],x=[];for(let g=0;g<h;g++){const _=g*m-s;for(let w=0;w<c;w++){const M=w*p-a;v.push(M,-_,0),b.push(0,0,1),x.push(w/o),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<o;_++){const w=_+c*g,M=_+c*(g+1),C=_+1+c*(g+1),A=_+1+c*g;f.push(w,M,A),f.push(M,C,A)}this.setIndex(f),this.setAttribute("position",new lt(v,3)),this.setAttribute("normal",new lt(b,3)),this.setAttribute("uv",new lt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KN(e.width,e.height,e.widthSegments,e.heightSegments)}};var y$=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,x$=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,b$=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,w$=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_$=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,S$=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,M$=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,E$=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,T$=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,A$=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,C$=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,P$=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,R$=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,L$=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,N$=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,k$=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,I$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,O$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,D$=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,U$=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,z$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,F$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,B$=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,$$=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,j$=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,V$=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,H$=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,W$=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,G$=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,q$=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,X$="gl_FragColor = linearToOutputTexel( gl_FragColor );",Y$=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Z$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Q$=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,J$=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,K$=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,e6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,t6=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,n6=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,r6=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,i6=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,a6=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,s6=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,o6=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,l6=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,c6=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,u6=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,d6=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,h6=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,p6=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,f6=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,m6=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,g6=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,v6=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,y6=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,x6=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,b6=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,w6=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,_6=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,S6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,M6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,E6=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,T6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,A6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,C6=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,P6=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,R6=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,L6=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,N6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,k6=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,I6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,O6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,D6=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,U6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,z6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,F6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,B6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,j6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,V6=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,H6=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,W6=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,G6=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,q6=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,X6=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Y6=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Z6=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Q6=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,J6=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,K6=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,ej=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,tj=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,nj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,rj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ij=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,aj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,sj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,oj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,lj=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,cj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,uj=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,dj=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,hj=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,pj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,fj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,mj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,gj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,yj=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bj=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,_j=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Sj=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Mj=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Ej=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Tj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Aj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Cj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Pj=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Rj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Lj=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Nj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kj=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ij=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Oj=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Dj=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uj=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,zj=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Fj=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bj=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$j=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,jj=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vj=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Hj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wj=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Gj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qj=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xj=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Yj=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Zj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Lt={alphahash_fragment:y$,alphahash_pars_fragment:x$,alphamap_fragment:b$,alphamap_pars_fragment:w$,alphatest_fragment:_$,alphatest_pars_fragment:S$,aomap_fragment:M$,aomap_pars_fragment:E$,batching_pars_vertex:T$,batching_vertex:A$,begin_vertex:C$,beginnormal_vertex:P$,bsdfs:R$,iridescence_fragment:L$,bumpmap_pars_fragment:N$,clipping_planes_fragment:k$,clipping_planes_pars_fragment:I$,clipping_planes_pars_vertex:O$,clipping_planes_vertex:D$,color_fragment:U$,color_pars_fragment:z$,color_pars_vertex:F$,color_vertex:B$,common:$$,cube_uv_reflection_fragment:j$,defaultnormal_vertex:V$,displacementmap_pars_vertex:H$,displacementmap_vertex:W$,emissivemap_fragment:G$,emissivemap_pars_fragment:q$,colorspace_fragment:X$,colorspace_pars_fragment:Y$,envmap_fragment:Z$,envmap_common_pars_fragment:Q$,envmap_pars_fragment:J$,envmap_pars_vertex:K$,envmap_physical_pars_fragment:d6,envmap_vertex:e6,fog_vertex:t6,fog_pars_vertex:n6,fog_fragment:r6,fog_pars_fragment:i6,gradientmap_pars_fragment:a6,lightmap_fragment:s6,lightmap_pars_fragment:o6,lights_lambert_fragment:l6,lights_lambert_pars_fragment:c6,lights_pars_begin:u6,lights_toon_fragment:h6,lights_toon_pars_fragment:p6,lights_phong_fragment:f6,lights_phong_pars_fragment:m6,lights_physical_fragment:g6,lights_physical_pars_fragment:v6,lights_fragment_begin:y6,lights_fragment_maps:x6,lights_fragment_end:b6,logdepthbuf_fragment:w6,logdepthbuf_pars_fragment:_6,logdepthbuf_pars_vertex:S6,logdepthbuf_vertex:M6,map_fragment:E6,map_pars_fragment:T6,map_particle_fragment:A6,map_particle_pars_fragment:C6,metalnessmap_fragment:P6,metalnessmap_pars_fragment:R6,morphcolor_vertex:L6,morphnormal_vertex:N6,morphtarget_pars_vertex:k6,morphtarget_vertex:I6,normal_fragment_begin:O6,normal_fragment_maps:D6,normal_pars_fragment:U6,normal_pars_vertex:z6,normal_vertex:F6,normalmap_pars_fragment:B6,clearcoat_normal_fragment_begin:$6,clearcoat_normal_fragment_maps:j6,clearcoat_pars_fragment:V6,iridescence_pars_fragment:H6,opaque_fragment:W6,packing:G6,premultiplied_alpha_fragment:q6,project_vertex:X6,dithering_fragment:Y6,dithering_pars_fragment:Z6,roughnessmap_fragment:Q6,roughnessmap_pars_fragment:J6,shadowmap_pars_fragment:K6,shadowmap_pars_vertex:ej,shadowmap_vertex:tj,shadowmask_pars_fragment:nj,skinbase_vertex:rj,skinning_pars_vertex:ij,skinning_vertex:aj,skinnormal_vertex:sj,specularmap_fragment:oj,specularmap_pars_fragment:lj,tonemapping_fragment:cj,tonemapping_pars_fragment:uj,transmission_fragment:dj,transmission_pars_fragment:hj,uv_pars_fragment:pj,uv_pars_vertex:fj,uv_vertex:mj,worldpos_vertex:gj,background_vert:vj,background_frag:yj,backgroundCube_vert:xj,backgroundCube_frag:bj,cube_vert:wj,cube_frag:_j,depth_vert:Sj,depth_frag:Mj,distanceRGBA_vert:Ej,distanceRGBA_frag:Tj,equirect_vert:Aj,equirect_frag:Cj,linedashed_vert:Pj,linedashed_frag:Rj,meshbasic_vert:Lj,meshbasic_frag:Nj,meshlambert_vert:kj,meshlambert_frag:Ij,meshmatcap_vert:Oj,meshmatcap_frag:Dj,meshnormal_vert:Uj,meshnormal_frag:zj,meshphong_vert:Fj,meshphong_frag:Bj,meshphysical_vert:$j,meshphysical_frag:jj,meshtoon_vert:Vj,meshtoon_frag:Hj,points_vert:Wj,points_frag:Gj,shadow_vert:qj,shadow_frag:Xj,sprite_vert:Yj,sprite_frag:Zj},qe={common:{diffuse:{value:new et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dt},normalScale:{value:new Ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0},uvTransform:{value:new Dt}},sprite:{diffuse:{value:new et(16777215)},opacity:{value:1},center:{value:new Ie(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}}},ua={basic:{uniforms:zr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.fog]),vertexShader:Lt.meshbasic_vert,fragmentShader:Lt.meshbasic_frag},lambert:{uniforms:zr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new et(0)}}]),vertexShader:Lt.meshlambert_vert,fragmentShader:Lt.meshlambert_frag},phong:{uniforms:zr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30}}]),vertexShader:Lt.meshphong_vert,fragmentShader:Lt.meshphong_frag},standard:{uniforms:zr([qe.common,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.roughnessmap,qe.metalnessmap,qe.fog,qe.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag},toon:{uniforms:zr([qe.common,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.gradientmap,qe.fog,qe.lights,{emissive:{value:new et(0)}}]),vertexShader:Lt.meshtoon_vert,fragmentShader:Lt.meshtoon_frag},matcap:{uniforms:zr([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,{matcap:{value:null}}]),vertexShader:Lt.meshmatcap_vert,fragmentShader:Lt.meshmatcap_frag},points:{uniforms:zr([qe.points,qe.fog]),vertexShader:Lt.points_vert,fragmentShader:Lt.points_frag},dashed:{uniforms:zr([qe.common,qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lt.linedashed_vert,fragmentShader:Lt.linedashed_frag},depth:{uniforms:zr([qe.common,qe.displacementmap]),vertexShader:Lt.depth_vert,fragmentShader:Lt.depth_frag},normal:{uniforms:zr([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,{opacity:{value:1}}]),vertexShader:Lt.meshnormal_vert,fragmentShader:Lt.meshnormal_frag},sprite:{uniforms:zr([qe.sprite,qe.fog]),vertexShader:Lt.sprite_vert,fragmentShader:Lt.sprite_frag},background:{uniforms:{uvTransform:{value:new Dt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Lt.background_vert,fragmentShader:Lt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Lt.backgroundCube_vert,fragmentShader:Lt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Lt.cube_vert,fragmentShader:Lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lt.equirect_vert,fragmentShader:Lt.equirect_frag},distanceRGBA:{uniforms:zr([qe.common,qe.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lt.distanceRGBA_vert,fragmentShader:Lt.distanceRGBA_frag},shadow:{uniforms:zr([qe.lights,qe.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:Lt.shadow_vert,fragmentShader:Lt.shadow_frag}};ua.physical={uniforms:zr([ua.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dt},clearcoatNormalScale:{value:new Ie(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dt},sheen:{value:0},sheenColor:{value:new et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dt},transmissionSamplerSize:{value:new Ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dt},attenuationDistance:{value:0},attenuationColor:{value:new et(0)},specularColor:{value:new et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dt},anisotropyVector:{value:new Ie},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dt}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag};const $m={r:0,b:0,g:0};function Qj(t,e,n,r,i,a,s){const o=new et(0);let l=a===!0?0:1,c,h,p=null,m=0,f=null;function v(x,g){let _=!1,w=g.isScene===!0?g.background:null;w&&w.isTexture&&(w=(g.backgroundBlurriness>0?n:e).get(w)),w===null?b(o,l):w&&w.isColor&&(b(w,1),_=!0);const M=t.xr.getEnvironmentBlendMode();M==="additive"?r.buffers.color.setClear(0,0,0,1,s):M==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===od)?(h===void 0&&(h=new Vn(new Xp(1,1,1),new ga({name:"BackgroundCubeMaterial",uniforms:Yu(ua.backgroundCube.uniforms),vertexShader:ua.backgroundCube.vertexShader,fragmentShader:ua.backgroundCube.fragmentShader,side:Wr,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(C,A,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=w,h.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,h.material.toneMapped=Yt.getTransfer(w.colorSpace)!==rn,(p!==w||m!==w.version||f!==t.toneMapping)&&(h.material.needsUpdate=!0,p=w,m=w.version,f=t.toneMapping),h.layers.enableAll(),x.unshift(h,h.geometry,h.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new Vn(new mS(2,2),new ga({name:"BackgroundMaterial",uniforms:Yu(ua.background.uniforms),vertexShader:ua.background.vertexShader,fragmentShader:ua.background.fragmentShader,side:As,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=Yt.getTransfer(w.colorSpace)!==rn,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(p!==w||m!==w.version||f!==t.toneMapping)&&(c.material.needsUpdate=!0,p=w,m=w.version,f=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function b(x,g){x.getRGB($m,YN(t)),r.buffers.color.setClear($m.r,$m.g,$m.b,g,s)}return{getClearColor:function(){return o},setClearColor:function(x,g=1){o.set(x),l=g,b(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,b(o,l)},render:v}}function Jj(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||a!==null,o={},l=x(null);let c=l,h=!1;function p($,Z,ne,ie,D){let F=!1;if(s){const W=b(ie,ne,Z);c!==W&&(c=W,f(c.object)),F=g($,ie,ne,D),F&&_($,ie,ne,D)}else{const W=Z.wireframe===!0;(c.geometry!==ie.id||c.program!==ne.id||c.wireframe!==W)&&(c.geometry=ie.id,c.program=ne.id,c.wireframe=W,F=!0)}D!==null&&n.update(D,t.ELEMENT_ARRAY_BUFFER),(F||h)&&(h=!1,O($,Z,ne,ie),D!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(D).buffer))}function m(){return r.isWebGL2?t.createVertexArray():a.createVertexArrayOES()}function f($){return r.isWebGL2?t.bindVertexArray($):a.bindVertexArrayOES($)}function v($){return r.isWebGL2?t.deleteVertexArray($):a.deleteVertexArrayOES($)}function b($,Z,ne){const ie=ne.wireframe===!0;let D=o[$.id];D===void 0&&(D={},o[$.id]=D);let F=D[Z.id];F===void 0&&(F={},D[Z.id]=F);let W=F[ie];return W===void 0&&(W=x(m()),F[ie]=W),W}function x($){const Z=[],ne=[],ie=[];for(let D=0;D<i;D++)Z[D]=0,ne[D]=0,ie[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Z,enabledAttributes:ne,attributeDivisors:ie,object:$,attributes:{},index:null}}function g($,Z,ne,ie){const D=c.attributes,F=Z.attributes;let W=0;const K=ne.getAttributes();for(const re in K)if(K[re].location>=0){const ee=D[re];let le=F[re];if(le===void 0&&(re==="instanceMatrix"&&$.instanceMatrix&&(le=$.instanceMatrix),re==="instanceColor"&&$.instanceColor&&(le=$.instanceColor)),ee===void 0||ee.attribute!==le||le&&ee.data!==le.data)return!0;W++}return c.attributesNum!==W||c.index!==ie}function _($,Z,ne,ie){const D={},F=Z.attributes;let W=0;const K=ne.getAttributes();for(const re in K)if(K[re].location>=0){let ee=F[re];ee===void 0&&(re==="instanceMatrix"&&$.instanceMatrix&&(ee=$.instanceMatrix),re==="instanceColor"&&$.instanceColor&&(ee=$.instanceColor));const le={};le.attribute=ee,ee&&ee.data&&(le.data=ee.data),D[re]=le,W++}c.attributes=D,c.attributesNum=W,c.index=ie}function w(){const $=c.newAttributes;for(let Z=0,ne=$.length;Z<ne;Z++)$[Z]=0}function M($){C($,0)}function C($,Z){const ne=c.newAttributes,ie=c.enabledAttributes,D=c.attributeDivisors;ne[$]=1,ie[$]===0&&(t.enableVertexAttribArray($),ie[$]=1),D[$]!==Z&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"]($,Z),D[$]=Z)}function A(){const $=c.newAttributes,Z=c.enabledAttributes;for(let ne=0,ie=Z.length;ne<ie;ne++)Z[ne]!==$[ne]&&(t.disableVertexAttribArray(ne),Z[ne]=0)}function N($,Z,ne,ie,D,F,W){W===!0?t.vertexAttribIPointer($,Z,ne,D,F):t.vertexAttribPointer($,Z,ne,ie,D,F)}function O($,Z,ne,ie){if(r.isWebGL2===!1&&($.isInstancedMesh||ie.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const D=ie.attributes,F=ne.getAttributes(),W=Z.defaultAttributeValues;for(const K in F){const re=F[K];if(re.location>=0){let ee=D[K];if(ee===void 0&&(K==="instanceMatrix"&&$.instanceMatrix&&(ee=$.instanceMatrix),K==="instanceColor"&&$.instanceColor&&(ee=$.instanceColor)),ee!==void 0){const le=ee.normalized,Le=ee.itemSize,Ce=n.get(ee);if(Ce===void 0)continue;const Re=Ce.buffer,tt=Ce.type,Qe=Ce.bytesPerElement,Ue=r.isWebGL2===!0&&(tt===t.INT||tt===t.UNSIGNED_INT||ee.gpuType===Q_);if(ee.isInterleavedBufferAttribute){const he=ee.data,Q=he.stride,ke=ee.offset;if(he.isInstancedInterleavedBuffer){for(let Te=0;Te<re.locationSize;Te++)C(re.location+Te,he.meshPerAttribute);$.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let Te=0;Te<re.locationSize;Te++)M(re.location+Te);t.bindBuffer(t.ARRAY_BUFFER,Re);for(let Te=0;Te<re.locationSize;Te++)N(re.location+Te,Le/re.locationSize,tt,le,Q*Qe,(ke+Le/re.locationSize*Te)*Qe,Ue)}else{if(ee.isInstancedBufferAttribute){for(let he=0;he<re.locationSize;he++)C(re.location+he,ee.meshPerAttribute);$.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let he=0;he<re.locationSize;he++)M(re.location+he);t.bindBuffer(t.ARRAY_BUFFER,Re);for(let he=0;he<re.locationSize;he++)N(re.location+he,Le/re.locationSize,tt,le,Le*Qe,Le/re.locationSize*he*Qe,Ue)}}else if(W!==void 0){const le=W[K];if(le!==void 0)switch(le.length){case 2:t.vertexAttrib2fv(re.location,le);break;case 3:t.vertexAttrib3fv(re.location,le);break;case 4:t.vertexAttrib4fv(re.location,le);break;default:t.vertexAttrib1fv(re.location,le)}}}}A()}function P(){q();for(const $ in o){const Z=o[$];for(const ne in Z){const ie=Z[ne];for(const D in ie)v(ie[D].object),delete ie[D];delete Z[ne]}delete o[$]}}function I($){if(o[$.id]===void 0)return;const Z=o[$.id];for(const ne in Z){const ie=Z[ne];for(const D in ie)v(ie[D].object),delete ie[D];delete Z[ne]}delete o[$.id]}function H($){for(const Z in o){const ne=o[Z];if(ne[$.id]===void 0)continue;const ie=ne[$.id];for(const D in ie)v(ie[D].object),delete ie[D];delete ne[$.id]}}function q(){se(),h=!0,c!==l&&(c=l,f(c.object))}function se(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:p,reset:q,resetDefaultState:se,dispose:P,releaseStatesOfGeometry:I,releaseStatesOfProgram:H,initAttributes:w,enableAttribute:M,disableUnusedAttributes:A}}function Kj(t,e,n,r){const i=r.isWebGL2;let a;function s(h){a=h}function o(h,p){t.drawArrays(a,h,p),n.update(p,a,1)}function l(h,p,m){if(m===0)return;let f,v;if(i)f=t,v="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[v](a,h,p,m),n.update(p,a,m)}function c(h,p,m){if(m===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let v=0;v<m;v++)this.render(h[v],p[v]);else{f.multiDrawArraysWEBGL(a,h,0,p,0,m);let v=0;for(let b=0;b<m;b++)v+=p[b];n.update(v,a,1)}}this.setMode=s,this.render=o,this.renderInstances=l,this.renderMultiDraw=c}function eV(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(N){if(N==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let o=n.precision!==void 0?n.precision:"highp";const l=a(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=s||e.has("WEBGL_draw_buffers"),h=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),b=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=m>0,M=s||e.has("OES_texture_float"),C=w&&M,A=s?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:m,maxTextureSize:f,maxCubemapSize:v,maxAttributes:b,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:_,vertexTextures:w,floatFragmentTextures:M,floatVertexTextures:C,maxSamples:A}}function tV(t){const e=this;let n=null,r=0,i=!1,a=!1;const s=new lo,o=new Dt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,m){const f=p.length!==0||m||r!==0||i;return i=m,r=p.length,f},this.beginShadows=function(){a=!0,h(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(p,m){n=h(p,m,0)},this.setState=function(p,m,f){const v=p.clippingPlanes,b=p.clipIntersection,x=p.clipShadows,g=t.get(p);if(!i||v===null||v.length===0||a&&!x)a?h(null):c();else{const _=a?0:r,w=_*4;let M=g.clippingState||null;l.value=M,M=h(v,m,w,f);for(let C=0;C!==w;++C)M[C]=n[C];g.clippingState=M,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,m,f,v){const b=p!==null?p.length:0;let x=null;if(b!==0){if(x=l.value,v!==!0||x===null){const g=f+b*4,_=m.matrixWorldInverse;o.getNormalMatrix(_),(x===null||x.length<g)&&(x=new Float32Array(g));for(let w=0,M=f;w!==b;++w,M+=4)s.copy(p[w]).applyMatrix4(_,o),s.normal.toArray(x,M),x[M+3]=s.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,x}}function nV(t){let e=new WeakMap;function n(s,o){return o===Gu?s.mapping=ja:o===lp&&(s.mapping=ko),s}function r(s){if(s&&s.isTexture){const o=s.mapping;if(o===Gu||o===lp)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new fS(l.height/2);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}let cc=class extends Yp{constructor(e=-1,n=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=h*this.view.offsetY,l=o-h*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}};const wu=4,q2=[.125,.215,.35,.446,.526,.582],Rl=20,U1=new cc,X2=new et;let z1=null,F1=0,B1=0;const Tl=(1+Math.sqrt(5))/2,Hc=1/Tl,Y2=[new G(1,1,1),new G(-1,1,1),new G(1,1,-1),new G(-1,1,-1),new G(0,Tl,Hc),new G(0,Tl,-Hc),new G(Hc,0,Tl),new G(-Hc,0,Tl),new G(Tl,Hc,0),new G(-Tl,Hc,0)];class lw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){z1=this._renderer.getRenderTarget(),F1=this._renderer.getActiveCubeFace(),B1=this._renderer.getActiveMipmapLevel(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),n>0&&this._blur(a,0,0,n),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=J2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Q2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(z1,F1,B1),e.scissorTest=!1,jm(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ja||e.mapping===ko?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),z1=this._renderer.getRenderTarget(),F1=this._renderer.getActiveCubeFace(),B1=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:un,minFilter:un,generateMipmaps:!1,type:Vr,format:Ar,colorSpace:Va,depthBuffer:!1},i=Z2(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Z2(e,n,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=rV(a)),this._blurMaterial=iV(a,e,n)}return i}_compileMaterial(e){const n=new Vn(this._lodPlanes[0],e);this._renderer.compile(n,U1)}_sceneToCubeUV(e,n,r,i){const a=new $n(90,1,n,r),s=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,h=l.toneMapping;l.getClearColor(X2),l.toneMapping=za,l.autoClear=!1;const p=new Go({name:"PMREM.Background",side:Wr,depthWrite:!1,depthTest:!1}),m=new Vn(new Xp,p);let f=!1;const v=e.background;v?v.isColor&&(p.color.copy(v),e.background=null,f=!0):(p.color.copy(X2),f=!0);for(let b=0;b<6;b++){const x=b%3;x===0?(a.up.set(0,s[b],0),a.lookAt(o[b],0,0)):x===1?(a.up.set(0,0,s[b]),a.lookAt(0,o[b],0)):(a.up.set(0,s[b],0),a.lookAt(0,0,o[b]));const g=this._cubeSize;jm(i,x*g,b>2?g:0,g,g),l.setRenderTarget(i),f&&l.render(m,a),l.render(e,a)}m.geometry.dispose(),m.material.dispose(),l.toneMapping=h,l.autoClear=c,e.background=v}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===ja||e.mapping===ko;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=J2()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Q2());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new Vn(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;jm(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,U1)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=Y2[(i-1)%Y2.length];this._blur(e,i-1,i,a,s)}n.autoClear=r}_blur(e,n,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new Vn(this._lodPlanes[i],c),m=c.uniforms,f=this._sizeLods[r]-1,v=isFinite(a)?Math.PI/(2*f):2*Math.PI/(2*Rl-1),b=a/v,x=isFinite(a)?1+Math.floor(h*b):Rl;x>Rl&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Rl}`);const g=[];let _=0;for(let N=0;N<Rl;++N){const O=N/b,P=Math.exp(-O*O/2);g.push(P),N===0?_+=P:N<x&&(_+=2*P)}for(let N=0;N<g.length;N++)g[N]=g[N]/_;m.envMap.value=e.texture,m.samples.value=x,m.weights.value=g,m.latitudinal.value=s==="latitudinal",o&&(m.poleAxis.value=o);const{_lodMax:w}=this;m.dTheta.value=v,m.mipInt.value=w-r;const M=this._sizeLods[i],C=3*M*(i>w-wu?i-w+wu:0),A=4*(this._cubeSize-M);jm(n,C,A,3*M,2*M),l.setRenderTarget(n),l.render(p,U1)}}function rV(t){const e=[],n=[],r=[];let i=t;const a=t-wu+1+q2.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);n.push(o);let l=1/o;s>t-wu?l=q2[s-t+wu-1]:s===0&&(l=0),r.push(l);const c=1/(o-2),h=-c,p=1+c,m=[h,h,p,h,p,p,h,h,p,p,h,p],f=6,v=6,b=3,x=2,g=1,_=new Float32Array(b*v*f),w=new Float32Array(x*v*f),M=new Float32Array(g*v*f);for(let A=0;A<f;A++){const N=A%3*2/3-1,O=A>2?0:-1,P=[N,O,0,N+2/3,O,0,N+2/3,O+1,0,N,O,0,N+2/3,O+1,0,N,O+1,0];_.set(P,b*v*A),w.set(m,x*v*A);const I=[A,A,A,A,A,A];M.set(I,g*v*A)}const C=new Ot;C.setAttribute("position",new Qt(_,b)),C.setAttribute("uv",new Qt(w,x)),C.setAttribute("faceIndex",new Qt(M,g)),e.push(C),i>wu&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function Z2(t,e,n){const r=new ma(t,e,n);return r.texture.mapping=od,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function jm(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function iV(t,e,n){const r=new Float32Array(Rl),i=new G(0,1,0);return new ga({name:"SphericalGaussianBlur",defines:{n:Rl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:gS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:bs,depthTest:!1,depthWrite:!1})}function Q2(){return new ga({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:gS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:bs,depthTest:!1,depthWrite:!1})}function J2(){return new ga({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:gS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:bs,depthTest:!1,depthWrite:!1})}function gS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function aV(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===Gu||l===lp,h=l===ja||l===ko;if(c||h)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let p=e.get(o);return n===null&&(n=new lw(t)),p=c?n.fromEquirectangular(o,p):n.fromCubemap(o,p),e.set(o,p),p.texture}else{if(e.has(o))return e.get(o).texture;{const p=o.image;if(c&&p&&p.height>0||h&&p&&i(p)){n===null&&(n=new lw(t));const m=c?n.fromEquirectangular(o):n.fromCubemap(o);return e.set(o,m),o.addEventListener("dispose",a),m.texture}else return null}}}return o}function i(o){let l=0;const c=6;for(let h=0;h<c;h++)o[h]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function sV(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function oV(t,e,n,r){const i={},a=new WeakMap;function s(p){const m=p.target;m.index!==null&&e.remove(m.index);for(const v in m.attributes)e.remove(m.attributes[v]);for(const v in m.morphAttributes){const b=m.morphAttributes[v];for(let x=0,g=b.length;x<g;x++)e.remove(b[x])}m.removeEventListener("dispose",s),delete i[m.id];const f=a.get(m);f&&(e.remove(f),a.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,n.memory.geometries--}function o(p,m){return i[m.id]===!0||(m.addEventListener("dispose",s),i[m.id]=!0,n.memory.geometries++),m}function l(p){const m=p.attributes;for(const v in m)e.update(m[v],t.ARRAY_BUFFER);const f=p.morphAttributes;for(const v in f){const b=f[v];for(let x=0,g=b.length;x<g;x++)e.update(b[x],t.ARRAY_BUFFER)}}function c(p){const m=[],f=p.index,v=p.attributes.position;let b=0;if(f!==null){const _=f.array;b=f.version;for(let w=0,M=_.length;w<M;w+=3){const C=_[w+0],A=_[w+1],N=_[w+2];m.push(C,A,A,N,N,C)}}else if(v!==void 0){const _=v.array;b=v.version;for(let w=0,M=_.length/3-1;w<M;w+=3){const C=w+0,A=w+1,N=w+2;m.push(C,A,A,N,N,C)}}else return;const x=new($N(m)?pS:hS)(m,1);x.version=b;const g=a.get(p);g&&e.remove(g),a.set(p,x)}function h(p){const m=a.get(p);if(m){const f=p.index;f!==null&&m.version<f.version&&c(p)}else c(p);return a.get(p)}return{get:o,update:l,getWireframeAttribute:h}}function lV(t,e,n,r){const i=r.isWebGL2;let a;function s(f){a=f}let o,l;function c(f){o=f.type,l=f.bytesPerElement}function h(f,v){t.drawElements(a,v,o,f*l),n.update(v,a,1)}function p(f,v,b){if(b===0)return;let x,g;if(i)x=t,g="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[g](a,v,o,f*l,b),n.update(v,a,b)}function m(f,v,b){if(b===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let g=0;g<b;g++)this.render(f[g]/l,v[g]);else{x.multiDrawElementsWEBGL(a,v,0,o,f,0,b);let g=0;for(let _=0;_<b;_++)g+=v[_];n.update(g,a,1)}}this.setMode=s,this.setIndex=c,this.render=h,this.renderInstances=p,this.renderMultiDraw=m}function cV(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=o*(a/3);break;case t.LINES:n.lines+=o*(a/2);break;case t.LINE_STRIP:n.lines+=o*(a-1);break;case t.LINE_LOOP:n.lines+=o*a;break;case t.POINTS:n.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function uV(t,e){return t[0]-e[0]}function dV(t,e){return Math.abs(e[1])-Math.abs(t[1])}function hV(t,e,n){const r={},i=new Float32Array(8),a=new WeakMap,s=new tn,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,h,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const f=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,v=f!==void 0?f.length:0;let b=a.get(h);if(b===void 0||b.count!==v){let _=function(){se.dispose(),a.delete(h),h.removeEventListener("dispose",_)};b!==void 0&&b.texture.dispose();const w=h.morphAttributes.position!==void 0,M=h.morphAttributes.normal!==void 0,C=h.morphAttributes.color!==void 0,A=h.morphAttributes.position||[],N=h.morphAttributes.normal||[],O=h.morphAttributes.color||[];let P=0;w===!0&&(P=1),M===!0&&(P=2),C===!0&&(P=3);let I=h.attributes.position.count*P,H=1;I>e.maxTextureSize&&(H=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const q=new Float32Array(I*H*4*v),se=new fv(q,I,H,v);se.type=ur,se.needsUpdate=!0;const $=P*4;for(let Z=0;Z<v;Z++){const ne=A[Z],ie=N[Z],D=O[Z],F=I*H*4*Z;for(let W=0;W<ne.count;W++){const K=W*$;w===!0&&(s.fromBufferAttribute(ne,W),q[F+K+0]=s.x,q[F+K+1]=s.y,q[F+K+2]=s.z,q[F+K+3]=0),M===!0&&(s.fromBufferAttribute(ie,W),q[F+K+4]=s.x,q[F+K+5]=s.y,q[F+K+6]=s.z,q[F+K+7]=0),C===!0&&(s.fromBufferAttribute(D,W),q[F+K+8]=s.x,q[F+K+9]=s.y,q[F+K+10]=s.z,q[F+K+11]=D.itemSize===4?s.w:1)}}b={count:v,texture:se,size:new Ie(I,H)},a.set(h,b),h.addEventListener("dispose",_)}let x=0;for(let _=0;_<m.length;_++)x+=m[_];const g=h.morphTargetsRelative?1:1-x;p.getUniforms().setValue(t,"morphTargetBaseInfluence",g),p.getUniforms().setValue(t,"morphTargetInfluences",m),p.getUniforms().setValue(t,"morphTargetsTexture",b.texture,n),p.getUniforms().setValue(t,"morphTargetsTextureSize",b.size)}else{const f=m===void 0?0:m.length;let v=r[h.id];if(v===void 0||v.length!==f){v=[];for(let w=0;w<f;w++)v[w]=[w,0];r[h.id]=v}for(let w=0;w<f;w++){const M=v[w];M[0]=w,M[1]=m[w]}v.sort(dV);for(let w=0;w<8;w++)w<f&&v[w][1]?(o[w][0]=v[w][0],o[w][1]=v[w][1]):(o[w][0]=Number.MAX_SAFE_INTEGER,o[w][1]=0);o.sort(uV);const b=h.morphAttributes.position,x=h.morphAttributes.normal;let g=0;for(let w=0;w<8;w++){const M=o[w],C=M[0],A=M[1];C!==Number.MAX_SAFE_INTEGER&&A?(b&&h.getAttribute("morphTarget"+w)!==b[C]&&h.setAttribute("morphTarget"+w,b[C]),x&&h.getAttribute("morphNormal"+w)!==x[C]&&h.setAttribute("morphNormal"+w,x[C]),i[w]=A,g+=A):(b&&h.hasAttribute("morphTarget"+w)===!0&&h.deleteAttribute("morphTarget"+w),x&&h.hasAttribute("morphNormal"+w)===!0&&h.deleteAttribute("morphNormal"+w),i[w]=0)}const _=h.morphTargetsRelative?1:1-g;p.getUniforms().setValue(t,"morphTargetBaseInfluence",_),p.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function pV(t,e,n,r){let i=new WeakMap;function a(l){const c=r.render.frame,h=l.geometry,p=e.get(l,h);if(i.get(p)!==c&&(e.update(p),i.set(p,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const m=l.skeleton;i.get(m)!==c&&(m.update(),i.set(m,c))}return p}function s(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:a,dispose:s}}let vS=class extends or{constructor(e,n,r,i,a,s,o,l,c,h){if(h=h!==void 0?h:To,h!==To&&h!==nc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===To&&(r=gs),r===void 0&&h===nc&&(r=Eo),super(null,i,a,s,o,l,h,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:Ln,this.minFilter=l!==void 0?l:Ln,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}};const ek=new or,tk=new vS(1,1);tk.compareFunction=oS;const nk=new fv,rk=new uS,ik=new Zp,K2=[],eA=[],tA=new Float32Array(16),nA=new Float32Array(9),rA=new Float32Array(4);function cd(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=K2[i];if(a===void 0&&(a=new Float32Array(i),K2[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=n,t[s].toArray(a,o)}return a}function Jn(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Kn(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function mv(t,e){let n=eA[e];n===void 0&&(n=new Int32Array(e),eA[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function fV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function mV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Jn(n,e))return;t.uniform2fv(this.addr,e),Kn(n,e)}}function gV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Jn(n,e))return;t.uniform3fv(this.addr,e),Kn(n,e)}}function vV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Jn(n,e))return;t.uniform4fv(this.addr,e),Kn(n,e)}}function yV(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Jn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Kn(n,e)}else{if(Jn(n,r))return;rA.set(r),t.uniformMatrix2fv(this.addr,!1,rA),Kn(n,r)}}function xV(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Jn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Kn(n,e)}else{if(Jn(n,r))return;nA.set(r),t.uniformMatrix3fv(this.addr,!1,nA),Kn(n,r)}}function bV(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Jn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Kn(n,e)}else{if(Jn(n,r))return;tA.set(r),t.uniformMatrix4fv(this.addr,!1,tA),Kn(n,r)}}function wV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function _V(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Jn(n,e))return;t.uniform2iv(this.addr,e),Kn(n,e)}}function SV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Jn(n,e))return;t.uniform3iv(this.addr,e),Kn(n,e)}}function MV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Jn(n,e))return;t.uniform4iv(this.addr,e),Kn(n,e)}}function EV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function TV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Jn(n,e))return;t.uniform2uiv(this.addr,e),Kn(n,e)}}function AV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Jn(n,e))return;t.uniform3uiv(this.addr,e),Kn(n,e)}}function CV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Jn(n,e))return;t.uniform4uiv(this.addr,e),Kn(n,e)}}function PV(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const a=this.type===t.SAMPLER_2D_SHADOW?tk:ek;n.setTexture2D(e||a,i)}function RV(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||rk,i)}function LV(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||ik,i)}function NV(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||nk,i)}function kV(t){switch(t){case 5126:return fV;case 35664:return mV;case 35665:return gV;case 35666:return vV;case 35674:return yV;case 35675:return xV;case 35676:return bV;case 5124:case 35670:return wV;case 35667:case 35671:return _V;case 35668:case 35672:return SV;case 35669:case 35673:return MV;case 5125:return EV;case 36294:return TV;case 36295:return AV;case 36296:return CV;case 35678:case 36198:case 36298:case 36306:case 35682:return PV;case 35679:case 36299:case 36307:return RV;case 35680:case 36300:case 36308:case 36293:return LV;case 36289:case 36303:case 36311:case 36292:return NV}}function IV(t,e){t.uniform1fv(this.addr,e)}function OV(t,e){const n=cd(e,this.size,2);t.uniform2fv(this.addr,n)}function DV(t,e){const n=cd(e,this.size,3);t.uniform3fv(this.addr,n)}function UV(t,e){const n=cd(e,this.size,4);t.uniform4fv(this.addr,n)}function zV(t,e){const n=cd(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function FV(t,e){const n=cd(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function BV(t,e){const n=cd(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function $V(t,e){t.uniform1iv(this.addr,e)}function jV(t,e){t.uniform2iv(this.addr,e)}function VV(t,e){t.uniform3iv(this.addr,e)}function HV(t,e){t.uniform4iv(this.addr,e)}function WV(t,e){t.uniform1uiv(this.addr,e)}function GV(t,e){t.uniform2uiv(this.addr,e)}function qV(t,e){t.uniform3uiv(this.addr,e)}function XV(t,e){t.uniform4uiv(this.addr,e)}function YV(t,e,n){const r=this.cache,i=e.length,a=mv(n,i);Jn(r,a)||(t.uniform1iv(this.addr,a),Kn(r,a));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||ek,a[s])}function ZV(t,e,n){const r=this.cache,i=e.length,a=mv(n,i);Jn(r,a)||(t.uniform1iv(this.addr,a),Kn(r,a));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||rk,a[s])}function QV(t,e,n){const r=this.cache,i=e.length,a=mv(n,i);Jn(r,a)||(t.uniform1iv(this.addr,a),Kn(r,a));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||ik,a[s])}function JV(t,e,n){const r=this.cache,i=e.length,a=mv(n,i);Jn(r,a)||(t.uniform1iv(this.addr,a),Kn(r,a));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||nk,a[s])}function KV(t){switch(t){case 5126:return IV;case 35664:return OV;case 35665:return DV;case 35666:return UV;case 35674:return zV;case 35675:return FV;case 35676:return BV;case 5124:case 35670:return $V;case 35667:case 35671:return jV;case 35668:case 35672:return VV;case 35669:case 35673:return HV;case 5125:return WV;case 36294:return GV;case 36295:return qV;case 36296:return XV;case 35678:case 36198:case 36298:case 36306:case 35682:return YV;case 35679:case 36299:case 36307:return ZV;case 35680:case 36300:case 36308:case 36293:return QV;case 36289:case 36303:case 36311:case 36292:return JV}}class eH{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=kV(n.type)}}class tH{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=KV(n.type)}}class nH{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,n[o.id],r)}}}const $1=/(\w+)(\])?(\[|\.)?/g;function iA(t,e){t.seq.push(e),t.map[e.id]=e}function rH(t,e,n){const r=t.name,i=r.length;for($1.lastIndex=0;;){const a=$1.exec(r),s=$1.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===i){iA(n,c===void 0?new eH(o,t,e):new tH(o,t,e));break}else{let h=n.map[o];h===void 0&&(h=new nH(o),iA(n,h)),n=h}}}let Xg=class{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(n,i),s=e.getUniformLocation(n,a.name);rH(a,s,this)}}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,s=n.length;a!==s;++a){const o=n[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in n&&r.push(s)}return r}};function aA(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const iH=37297;let aH=0;function sH(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${n[s]}`)}return r.join(`
`)}function oH(t){const e=Yt.getPrimaries(Yt.workingColorSpace),n=Yt.getPrimaries(t);let r;switch(e===n?r="":e===gp&&n===mp?r="LinearDisplayP3ToLinearSRGB":e===mp&&n===gp&&(r="LinearSRGBToLinearDisplayP3"),t){case Va:case qp:return[r,"LinearTransferOETF"];case Yn:case pv:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function sA(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const s=parseInt(a[1]);return n.toUpperCase()+`

`+i+`

`+sH(t.getShaderSource(e),s)}else return i}function lH(t,e){const n=oH(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function cH(t,e){let n;switch(e){case pN:n="Linear";break;case fN:n="Reinhard";break;case mN:n="OptimizedCineon";break;case Y_:n="ACESFilmic";break;case vN:n="AgX";break;case gN:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function uH(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(_u).join(`
`)}function dH(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(_u).join(`
`)}function hH(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function pH(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),s=a.name;let o=1;a.type===t.FLOAT_MAT2&&(o=2),a.type===t.FLOAT_MAT3&&(o=3),a.type===t.FLOAT_MAT4&&(o=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:o}}return n}function _u(t){return t!==""}function oA(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function lA(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const fH=/^[ \t]*#include +<([\w\d./]+)>/gm;function cw(t){return t.replace(fH,gH)}const mH=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function gH(t,e){let n=Lt[e];if(n===void 0){const r=mH.get(e);if(r!==void 0)n=Lt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return cw(n)}const vH=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cA(t){return t.replace(vH,yH)}function yH(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function uA(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function xH(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===cv?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Nh?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===sa&&(e="SHADOWMAP_TYPE_VSM"),e}function bH(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ja:case ko:e="ENVMAP_TYPE_CUBE";break;case od:e="ENVMAP_TYPE_CUBE_UV";break}return e}function wH(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ko:e="ENVMAP_MODE_REFRACTION";break}return e}function _H(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Gp:e="ENVMAP_BLENDING_MULTIPLY";break;case dN:e="ENVMAP_BLENDING_MIX";break;case hN:e="ENVMAP_BLENDING_ADD";break}return e}function SH(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function MH(t,e,n,r){const i=t.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const l=xH(n),c=bH(n),h=wH(n),p=_H(n),m=SH(n),f=n.isWebGL2?"":uH(n),v=dH(n),b=hH(a),x=i.createProgram();let g,_,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(_u).join(`
`),g.length>0&&(g+=`
`),_=[f,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(_u).join(`
`),_.length>0&&(_+=`
`)):(g=[uA(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(_u).join(`
`),_=[f,uA(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==za?"#define TONE_MAPPING":"",n.toneMapping!==za?Lt.tonemapping_pars_fragment:"",n.toneMapping!==za?cH("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Lt.colorspace_pars_fragment,lH("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(_u).join(`
`)),s=cw(s),s=oA(s,n),s=lA(s,n),o=cw(o),o=oA(o,n),o=lA(o,n),s=cA(s),o=cA(o),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,g=[v,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,_=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===aw?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===aw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const M=w+g+s,C=w+_+o,A=aA(i,i.VERTEX_SHADER,M),N=aA(i,i.FRAGMENT_SHADER,C);i.attachShader(x,A),i.attachShader(x,N),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function O(q){if(t.debug.checkShaderErrors){const se=i.getProgramInfoLog(x).trim(),$=i.getShaderInfoLog(A).trim(),Z=i.getShaderInfoLog(N).trim();let ne=!0,ie=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(ne=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,A,N);else{const D=sA(i,A,"vertex"),F=sA(i,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Program Info Log: `+se+`
`+D+`
`+F)}else se!==""?console.warn("THREE.WebGLProgram: Program Info Log:",se):($===""||Z==="")&&(ie=!1);ie&&(q.diagnostics={runnable:ne,programLog:se,vertexShader:{log:$,prefix:g},fragmentShader:{log:Z,prefix:_}})}i.deleteShader(A),i.deleteShader(N),P=new Xg(i,x),I=pH(i,x)}let P;this.getUniforms=function(){return P===void 0&&O(this),P};let I;this.getAttributes=function(){return I===void 0&&O(this),I};let H=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return H===!1&&(H=i.getProgramParameter(x,iH)),H},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=aH++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=A,this.fragmentShader=N,this}let EH=0;class TH{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new AH(e),n.set(e,r)),r}}class AH{constructor(e){this.id=EH++,this.code=e,this.usedTimes=0}}function CH(t,e,n,r,i,a,s){const o=new Gl,l=new TH,c=[],h=i.isWebGL2,p=i.logarithmicDepthBuffer,m=i.vertexTextures;let f=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(P){return P===0?"uv":`uv${P}`}function x(P,I,H,q,se){const $=q.fog,Z=se.geometry,ne=P.isMeshStandardMaterial?q.environment:null,ie=(P.isMeshStandardMaterial?n:e).get(P.envMap||ne),D=ie&&ie.mapping===od?ie.image.height:null,F=v[P.type];P.precision!==null&&(f=i.getMaxPrecision(P.precision),f!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",f,"instead."));const W=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,K=W!==void 0?W.length:0;let re=0;Z.morphAttributes.position!==void 0&&(re=1),Z.morphAttributes.normal!==void 0&&(re=2),Z.morphAttributes.color!==void 0&&(re=3);let ee,le,Le,Ce;if(F){const Ee=ua[F];ee=Ee.vertexShader,le=Ee.fragmentShader}else ee=P.vertexShader,le=P.fragmentShader,l.update(P),Le=l.getVertexShaderID(P),Ce=l.getFragmentShaderID(P);const Re=t.getRenderTarget(),tt=se.isInstancedMesh===!0,Qe=se.isBatchedMesh===!0,Ue=!!P.map,he=!!P.matcap,Q=!!ie,ke=!!P.aoMap,Te=!!P.lightMap,Se=!!P.bumpMap,Fe=!!P.normalMap,we=!!P.displacementMap,Xe=!!P.emissiveMap,j=!!P.metalnessMap,U=!!P.roughnessMap,me=P.anisotropy>0,De=P.clearcoat>0,Ae=P.iridescence>0,ze=P.sheen>0,rt=P.transmission>0,je=me&&!!P.anisotropyMap,Ge=De&&!!P.clearcoatMap,ht=De&&!!P.clearcoatNormalMap,bt=De&&!!P.clearcoatRoughnessMap,Oe=Ae&&!!P.iridescenceMap,Ft=Ae&&!!P.iridescenceThicknessMap,wt=ze&&!!P.sheenColorMap,pt=ze&&!!P.sheenRoughnessMap,Be=!!P.specularMap,Ke=!!P.specularColorMap,mt=!!P.specularIntensityMap,k=rt&&!!P.transmissionMap,z=rt&&!!P.thicknessMap,Y=!!P.gradientMap,J=!!P.alphaMap,B=P.alphaTest>0,te=!!P.alphaHash,ue=!!P.extensions,ye=!!Z.attributes.uv1,pe=!!Z.attributes.uv2,xe=!!Z.attributes.uv3;let _e=za;return P.toneMapped&&(Re===null||Re.isXRRenderTarget===!0)&&(_e=t.toneMapping),{isWebGL2:h,shaderID:F,shaderType:P.type,shaderName:P.name,vertexShader:ee,fragmentShader:le,defines:P.defines,customVertexShaderID:Le,customFragmentShaderID:Ce,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:f,batching:Qe,instancing:tt,instancingColor:tt&&se.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:Re===null?t.outputColorSpace:Re.isXRRenderTarget===!0?Re.texture.colorSpace:Va,map:Ue,matcap:he,envMap:Q,envMapMode:Q&&ie.mapping,envMapCubeUVHeight:D,aoMap:ke,lightMap:Te,bumpMap:Se,normalMap:Fe,displacementMap:m&&we,emissiveMap:Xe,normalMapObjectSpace:Fe&&P.normalMapType===LN,normalMapTangentSpace:Fe&&P.normalMapType===Wo,metalnessMap:j,roughnessMap:U,anisotropy:me,anisotropyMap:je,clearcoat:De,clearcoatMap:Ge,clearcoatNormalMap:ht,clearcoatRoughnessMap:bt,iridescence:Ae,iridescenceMap:Oe,iridescenceThicknessMap:Ft,sheen:ze,sheenColorMap:wt,sheenRoughnessMap:pt,specularMap:Be,specularColorMap:Ke,specularIntensityMap:mt,transmission:rt,transmissionMap:k,thicknessMap:z,gradientMap:Y,opaque:P.transparent===!1&&P.blending===Hl,alphaMap:J,alphaTest:B,alphaHash:te,combine:P.combine,mapUv:Ue&&b(P.map.channel),aoMapUv:ke&&b(P.aoMap.channel),lightMapUv:Te&&b(P.lightMap.channel),bumpMapUv:Se&&b(P.bumpMap.channel),normalMapUv:Fe&&b(P.normalMap.channel),displacementMapUv:we&&b(P.displacementMap.channel),emissiveMapUv:Xe&&b(P.emissiveMap.channel),metalnessMapUv:j&&b(P.metalnessMap.channel),roughnessMapUv:U&&b(P.roughnessMap.channel),anisotropyMapUv:je&&b(P.anisotropyMap.channel),clearcoatMapUv:Ge&&b(P.clearcoatMap.channel),clearcoatNormalMapUv:ht&&b(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:bt&&b(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Oe&&b(P.iridescenceMap.channel),iridescenceThicknessMapUv:Ft&&b(P.iridescenceThicknessMap.channel),sheenColorMapUv:wt&&b(P.sheenColorMap.channel),sheenRoughnessMapUv:pt&&b(P.sheenRoughnessMap.channel),specularMapUv:Be&&b(P.specularMap.channel),specularColorMapUv:Ke&&b(P.specularColorMap.channel),specularIntensityMapUv:mt&&b(P.specularIntensityMap.channel),transmissionMapUv:k&&b(P.transmissionMap.channel),thicknessMapUv:z&&b(P.thicknessMap.channel),alphaMapUv:J&&b(P.alphaMap.channel),vertexTangents:!!Z.attributes.tangent&&(Fe||me),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,vertexUv1s:ye,vertexUv2s:pe,vertexUv3s:xe,pointsUvs:se.isPoints===!0&&!!Z.attributes.uv&&(Ue||J),fog:!!$,useFog:P.fog===!0,fogExp2:$&&$.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:se.isSkinnedMesh===!0,morphTargets:Z.morphAttributes.position!==void 0,morphNormals:Z.morphAttributes.normal!==void 0,morphColors:Z.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:re,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&H.length>0,shadowMapType:t.shadowMap.type,toneMapping:_e,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Ue&&P.map.isVideoTexture===!0&&Yt.getTransfer(P.map.colorSpace)===rn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Vi,flipSided:P.side===Wr,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:ue&&P.extensions.derivatives===!0,extensionFragDepth:ue&&P.extensions.fragDepth===!0,extensionDrawBuffers:ue&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:ue&&P.extensions.shaderTextureLOD===!0,extensionClipCullDistance:ue&&P.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()}}function g(P){const I=[];if(P.shaderID?I.push(P.shaderID):(I.push(P.customVertexShaderID),I.push(P.customFragmentShaderID)),P.defines!==void 0)for(const H in P.defines)I.push(H),I.push(P.defines[H]);return P.isRawShaderMaterial===!1&&(_(I,P),w(I,P),I.push(t.outputColorSpace)),I.push(P.customProgramCacheKey),I.join()}function _(P,I){P.push(I.precision),P.push(I.outputColorSpace),P.push(I.envMapMode),P.push(I.envMapCubeUVHeight),P.push(I.mapUv),P.push(I.alphaMapUv),P.push(I.lightMapUv),P.push(I.aoMapUv),P.push(I.bumpMapUv),P.push(I.normalMapUv),P.push(I.displacementMapUv),P.push(I.emissiveMapUv),P.push(I.metalnessMapUv),P.push(I.roughnessMapUv),P.push(I.anisotropyMapUv),P.push(I.clearcoatMapUv),P.push(I.clearcoatNormalMapUv),P.push(I.clearcoatRoughnessMapUv),P.push(I.iridescenceMapUv),P.push(I.iridescenceThicknessMapUv),P.push(I.sheenColorMapUv),P.push(I.sheenRoughnessMapUv),P.push(I.specularMapUv),P.push(I.specularColorMapUv),P.push(I.specularIntensityMapUv),P.push(I.transmissionMapUv),P.push(I.thicknessMapUv),P.push(I.combine),P.push(I.fogExp2),P.push(I.sizeAttenuation),P.push(I.morphTargetsCount),P.push(I.morphAttributeCount),P.push(I.numDirLights),P.push(I.numPointLights),P.push(I.numSpotLights),P.push(I.numSpotLightMaps),P.push(I.numHemiLights),P.push(I.numRectAreaLights),P.push(I.numDirLightShadows),P.push(I.numPointLightShadows),P.push(I.numSpotLightShadows),P.push(I.numSpotLightShadowsWithMaps),P.push(I.numLightProbes),P.push(I.shadowMapType),P.push(I.toneMapping),P.push(I.numClippingPlanes),P.push(I.numClipIntersection),P.push(I.depthPacking)}function w(P,I){o.disableAll(),I.isWebGL2&&o.enable(0),I.supportsVertexTextures&&o.enable(1),I.instancing&&o.enable(2),I.instancingColor&&o.enable(3),I.matcap&&o.enable(4),I.envMap&&o.enable(5),I.normalMapObjectSpace&&o.enable(6),I.normalMapTangentSpace&&o.enable(7),I.clearcoat&&o.enable(8),I.iridescence&&o.enable(9),I.alphaTest&&o.enable(10),I.vertexColors&&o.enable(11),I.vertexAlphas&&o.enable(12),I.vertexUv1s&&o.enable(13),I.vertexUv2s&&o.enable(14),I.vertexUv3s&&o.enable(15),I.vertexTangents&&o.enable(16),I.anisotropy&&o.enable(17),I.alphaHash&&o.enable(18),I.batching&&o.enable(19),P.push(o.mask),o.disableAll(),I.fog&&o.enable(0),I.useFog&&o.enable(1),I.flatShading&&o.enable(2),I.logarithmicDepthBuffer&&o.enable(3),I.skinning&&o.enable(4),I.morphTargets&&o.enable(5),I.morphNormals&&o.enable(6),I.morphColors&&o.enable(7),I.premultipliedAlpha&&o.enable(8),I.shadowMapEnabled&&o.enable(9),I.useLegacyLights&&o.enable(10),I.doubleSided&&o.enable(11),I.flipSided&&o.enable(12),I.useDepthPacking&&o.enable(13),I.dithering&&o.enable(14),I.transmission&&o.enable(15),I.sheen&&o.enable(16),I.opaque&&o.enable(17),I.pointsUvs&&o.enable(18),I.decodeVideoTexture&&o.enable(19),P.push(o.mask)}function M(P){const I=v[P.type];let H;if(I){const q=ua[I];H=ZN.clone(q.uniforms)}else H=P.uniforms;return H}function C(P,I){let H;for(let q=0,se=c.length;q<se;q++){const $=c[q];if($.cacheKey===I){H=$,++H.usedTimes;break}}return H===void 0&&(H=new MH(t,I,P,a),c.push(H)),H}function A(P){if(--P.usedTimes===0){const I=c.indexOf(P);c[I]=c[c.length-1],c.pop(),P.destroy()}}function N(P){l.remove(P)}function O(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:M,acquireProgram:C,releaseProgram:A,releaseShaderCache:N,programs:c,dispose:O}}function PH(){let t=new WeakMap;function e(a){let s=t.get(a);return s===void 0&&(s={},t.set(a,s)),s}function n(a){t.delete(a)}function r(a,s,o){t.get(a)[s]=o}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function RH(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function dA(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function hA(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function s(p,m,f,v,b,x){let g=t[e];return g===void 0?(g={id:p.id,object:p,geometry:m,material:f,groupOrder:v,renderOrder:p.renderOrder,z:b,group:x},t[e]=g):(g.id=p.id,g.object=p,g.geometry=m,g.material=f,g.groupOrder=v,g.renderOrder=p.renderOrder,g.z=b,g.group=x),e++,g}function o(p,m,f,v,b,x){const g=s(p,m,f,v,b,x);f.transmission>0?r.push(g):f.transparent===!0?i.push(g):n.push(g)}function l(p,m,f,v,b,x){const g=s(p,m,f,v,b,x);f.transmission>0?r.unshift(g):f.transparent===!0?i.unshift(g):n.unshift(g)}function c(p,m){n.length>1&&n.sort(p||RH),r.length>1&&r.sort(m||dA),i.length>1&&i.sort(m||dA)}function h(){for(let p=e,m=t.length;p<m;p++){const f=t[p];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:h,sort:c}}function LH(){let t=new WeakMap;function e(r,i){const a=t.get(r);let s;return a===void 0?(s=new hA,t.set(r,[s])):i>=a.length?(s=new hA,a.push(s)):s=a[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function NH(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new G,color:new et};break;case"SpotLight":n={position:new G,direction:new G,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new G,color:new et,distance:0,decay:0};break;case"HemisphereLight":n={direction:new G,skyColor:new et,groundColor:new et};break;case"RectAreaLight":n={color:new et,position:new G,halfWidth:new G,halfHeight:new G};break}return t[e.id]=n,n}}}function kH(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let IH=0;function OH(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function DH(t,e){const n=new NH,r=kH(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new G);const a=new G,s=new Mt,o=new Mt;function l(h,p){let m=0,f=0,v=0;for(let q=0;q<9;q++)i.probe[q].set(0,0,0);let b=0,x=0,g=0,_=0,w=0,M=0,C=0,A=0,N=0,O=0,P=0;h.sort(OH);const I=p===!0?Math.PI:1;for(let q=0,se=h.length;q<se;q++){const $=h[q],Z=$.color,ne=$.intensity,ie=$.distance,D=$.shadow&&$.shadow.map?$.shadow.map.texture:null;if($.isAmbientLight)m+=Z.r*ne*I,f+=Z.g*ne*I,v+=Z.b*ne*I;else if($.isLightProbe){for(let F=0;F<9;F++)i.probe[F].addScaledVector($.sh.coefficients[F],ne);P++}else if($.isDirectionalLight){const F=n.get($);if(F.color.copy($.color).multiplyScalar($.intensity*I),$.castShadow){const W=$.shadow,K=r.get($);K.shadowBias=W.bias,K.shadowNormalBias=W.normalBias,K.shadowRadius=W.radius,K.shadowMapSize=W.mapSize,i.directionalShadow[b]=K,i.directionalShadowMap[b]=D,i.directionalShadowMatrix[b]=$.shadow.matrix,M++}i.directional[b]=F,b++}else if($.isSpotLight){const F=n.get($);F.position.setFromMatrixPosition($.matrixWorld),F.color.copy(Z).multiplyScalar(ne*I),F.distance=ie,F.coneCos=Math.cos($.angle),F.penumbraCos=Math.cos($.angle*(1-$.penumbra)),F.decay=$.decay,i.spot[g]=F;const W=$.shadow;if($.map&&(i.spotLightMap[N]=$.map,N++,W.updateMatrices($),$.castShadow&&O++),i.spotLightMatrix[g]=W.matrix,$.castShadow){const K=r.get($);K.shadowBias=W.bias,K.shadowNormalBias=W.normalBias,K.shadowRadius=W.radius,K.shadowMapSize=W.mapSize,i.spotShadow[g]=K,i.spotShadowMap[g]=D,A++}g++}else if($.isRectAreaLight){const F=n.get($);F.color.copy(Z).multiplyScalar(ne),F.halfWidth.set($.width*.5,0,0),F.halfHeight.set(0,$.height*.5,0),i.rectArea[_]=F,_++}else if($.isPointLight){const F=n.get($);if(F.color.copy($.color).multiplyScalar($.intensity*I),F.distance=$.distance,F.decay=$.decay,$.castShadow){const W=$.shadow,K=r.get($);K.shadowBias=W.bias,K.shadowNormalBias=W.normalBias,K.shadowRadius=W.radius,K.shadowMapSize=W.mapSize,K.shadowCameraNear=W.camera.near,K.shadowCameraFar=W.camera.far,i.pointShadow[x]=K,i.pointShadowMap[x]=D,i.pointShadowMatrix[x]=$.shadow.matrix,C++}i.point[x]=F,x++}else if($.isHemisphereLight){const F=n.get($);F.skyColor.copy($.color).multiplyScalar(ne*I),F.groundColor.copy($.groundColor).multiplyScalar(ne*I),i.hemi[w]=F,w++}}_>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=qe.LTC_FLOAT_1,i.rectAreaLTC2=qe.LTC_FLOAT_2):(i.rectAreaLTC1=qe.LTC_HALF_1,i.rectAreaLTC2=qe.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=qe.LTC_FLOAT_1,i.rectAreaLTC2=qe.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=qe.LTC_HALF_1,i.rectAreaLTC2=qe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=m,i.ambient[1]=f,i.ambient[2]=v;const H=i.hash;(H.directionalLength!==b||H.pointLength!==x||H.spotLength!==g||H.rectAreaLength!==_||H.hemiLength!==w||H.numDirectionalShadows!==M||H.numPointShadows!==C||H.numSpotShadows!==A||H.numSpotMaps!==N||H.numLightProbes!==P)&&(i.directional.length=b,i.spot.length=g,i.rectArea.length=_,i.point.length=x,i.hemi.length=w,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=A+N-O,i.spotLightMap.length=N,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=P,H.directionalLength=b,H.pointLength=x,H.spotLength=g,H.rectAreaLength=_,H.hemiLength=w,H.numDirectionalShadows=M,H.numPointShadows=C,H.numSpotShadows=A,H.numSpotMaps=N,H.numLightProbes=P,i.version=IH++)}function c(h,p){let m=0,f=0,v=0,b=0,x=0;const g=p.matrixWorldInverse;for(let _=0,w=h.length;_<w;_++){const M=h[_];if(M.isDirectionalLight){const C=i.directional[m];C.direction.setFromMatrixPosition(M.matrixWorld),a.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(a),C.direction.transformDirection(g),m++}else if(M.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),C.direction.setFromMatrixPosition(M.matrixWorld),a.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(a),C.direction.transformDirection(g),v++}else if(M.isRectAreaLight){const C=i.rectArea[b];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),o.identity(),s.copy(M.matrixWorld),s.premultiply(g),o.extractRotation(s),C.halfWidth.set(M.width*.5,0,0),C.halfHeight.set(0,M.height*.5,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),b++}else if(M.isPointLight){const C=i.point[f];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),f++}else if(M.isHemisphereLight){const C=i.hemi[x];C.direction.setFromMatrixPosition(M.matrixWorld),C.direction.transformDirection(g),x++}}}return{setup:l,setupView:c,state:i}}function pA(t,e){const n=new DH(t,e),r=[],i=[];function a(){r.length=0,i.length=0}function s(h){r.push(h)}function o(h){i.push(h)}function l(h){n.setup(r,h)}function c(h){n.setupView(r,h)}return{init:a,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:s,pushShadow:o}}function UH(t,e){let n=new WeakMap;function r(a,s=0){const o=n.get(a);let l;return o===void 0?(l=new pA(t,e),n.set(a,[l])):s>=o.length?(l=new pA(t,e),o.push(l)):l=o[s],l}function i(){n=new WeakMap}return{get:r,dispose:i}}let yS=class extends pr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=PN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},xS=class extends pr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};const zH=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,FH=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function BH(t,e,n){let r=new Qp;const i=new Ie,a=new Ie,s=new tn,o=new yS({depthPacking:RN}),l=new xS,c={},h=n.maxTextureSize,p={[As]:Wr,[Wr]:As,[Vi]:Vi},m=new ga({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ie},radius:{value:4}},vertexShader:zH,fragmentShader:FH}),f=m.clone();f.defines.HORIZONTAL_PASS=1;const v=new Ot;v.setAttribute("position",new Qt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Vn(v,m),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=cv;let g=this.type;this.render=function(A,N,O){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||A.length===0)return;const P=t.getRenderTarget(),I=t.getActiveCubeFace(),H=t.getActiveMipmapLevel(),q=t.state;q.setBlending(bs),q.buffers.color.setClear(1,1,1,1),q.buffers.depth.setTest(!0),q.setScissorTest(!1);const se=g!==sa&&this.type===sa,$=g===sa&&this.type!==sa;for(let Z=0,ne=A.length;Z<ne;Z++){const ie=A[Z],D=ie.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;i.copy(D.mapSize);const F=D.getFrameExtents();if(i.multiply(F),a.copy(D.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(a.x=Math.floor(h/F.x),i.x=a.x*F.x,D.mapSize.x=a.x),i.y>h&&(a.y=Math.floor(h/F.y),i.y=a.y*F.y,D.mapSize.y=a.y)),D.map===null||se===!0||$===!0){const K=this.type!==sa?{minFilter:Ln,magFilter:Ln}:{};D.map!==null&&D.map.dispose(),D.map=new ma(i.x,i.y,K),D.map.texture.name=ie.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const W=D.getViewportCount();for(let K=0;K<W;K++){const re=D.getViewport(K);s.set(a.x*re.x,a.y*re.y,a.x*re.z,a.y*re.w),q.viewport(s),D.updateMatrices(ie,K),r=D.getFrustum(),M(N,O,D.camera,ie,this.type)}D.isPointLightShadow!==!0&&this.type===sa&&_(D,O),D.needsUpdate=!1}g=this.type,x.needsUpdate=!1,t.setRenderTarget(P,I,H)};function _(A,N){const O=e.update(b);m.defines.VSM_SAMPLES!==A.blurSamples&&(m.defines.VSM_SAMPLES=A.blurSamples,f.defines.VSM_SAMPLES=A.blurSamples,m.needsUpdate=!0,f.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new ma(i.x,i.y)),m.uniforms.shadow_pass.value=A.map.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(N,null,O,m,b,null),f.uniforms.shadow_pass.value=A.mapPass.texture,f.uniforms.resolution.value=A.mapSize,f.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(N,null,O,f,b,null)}function w(A,N,O,P){let I=null;const H=O.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(H!==void 0)I=H;else if(I=O.isPointLight===!0?l:o,t.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0){const q=I.uuid,se=N.uuid;let $=c[q];$===void 0&&($={},c[q]=$);let Z=$[se];Z===void 0&&(Z=I.clone(),$[se]=Z,N.addEventListener("dispose",C)),I=Z}if(I.visible=N.visible,I.wireframe=N.wireframe,P===sa?I.side=N.shadowSide!==null?N.shadowSide:N.side:I.side=N.shadowSide!==null?N.shadowSide:p[N.side],I.alphaMap=N.alphaMap,I.alphaTest=N.alphaTest,I.map=N.map,I.clipShadows=N.clipShadows,I.clippingPlanes=N.clippingPlanes,I.clipIntersection=N.clipIntersection,I.displacementMap=N.displacementMap,I.displacementScale=N.displacementScale,I.displacementBias=N.displacementBias,I.wireframeLinewidth=N.wireframeLinewidth,I.linewidth=N.linewidth,O.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const q=t.properties.get(I);q.light=O}return I}function M(A,N,O,P,I){if(A.visible===!1)return;if(A.layers.test(N.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&I===sa)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,A.matrixWorld);const q=e.update(A),se=A.material;if(Array.isArray(se)){const $=q.groups;for(let Z=0,ne=$.length;Z<ne;Z++){const ie=$[Z],D=se[ie.materialIndex];if(D&&D.visible){const F=w(A,D,P,I);A.onBeforeShadow(t,A,N,O,q,F,ie),t.renderBufferDirect(O,null,q,F,A,ie),A.onAfterShadow(t,A,N,O,q,F,ie)}}}else if(se.visible){const $=w(A,se,P,I);A.onBeforeShadow(t,A,N,O,q,$,null),t.renderBufferDirect(O,null,q,$,A,null),A.onAfterShadow(t,A,N,O,q,$,null)}}const H=A.children;for(let q=0,se=H.length;q<se;q++)M(H[q],N,O,P,I)}function C(A){A.target.removeEventListener("dispose",C);for(const N in c){const O=c[N],P=A.target.uuid;P in O&&(O[P].dispose(),delete O[P])}}}function $H(t,e,n){const r=n.isWebGL2;function i(){let B=!1;const te=new tn;let ue=null;const ye=new tn(0,0,0,0);return{setMask:function(pe){ue!==pe&&!B&&(t.colorMask(pe,pe,pe,pe),ue=pe)},setLocked:function(pe){B=pe},setClear:function(pe,xe,_e,Ee,ft){ft===!0&&(pe*=Ee,xe*=Ee,_e*=Ee),te.set(pe,xe,_e,Ee),ye.equals(te)===!1&&(t.clearColor(pe,xe,_e,Ee),ye.copy(te))},reset:function(){B=!1,ue=null,ye.set(-1,0,0,0)}}}function a(){let B=!1,te=null,ue=null,ye=null;return{setTest:function(pe){pe?Qe(t.DEPTH_TEST):Ue(t.DEPTH_TEST)},setMask:function(pe){te!==pe&&!B&&(t.depthMask(pe),te=pe)},setFunc:function(pe){if(ue!==pe){switch(pe){case iN:t.depthFunc(t.NEVER);break;case aN:t.depthFunc(t.ALWAYS);break;case sN:t.depthFunc(t.LESS);break;case op:t.depthFunc(t.LEQUAL);break;case oN:t.depthFunc(t.EQUAL);break;case lN:t.depthFunc(t.GEQUAL);break;case cN:t.depthFunc(t.GREATER);break;case uN:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ue=pe}},setLocked:function(pe){B=pe},setClear:function(pe){ye!==pe&&(t.clearDepth(pe),ye=pe)},reset:function(){B=!1,te=null,ue=null,ye=null}}}function s(){let B=!1,te=null,ue=null,ye=null,pe=null,xe=null,_e=null,Ee=null,ft=null;return{setTest:function($e){B||($e?Qe(t.STENCIL_TEST):Ue(t.STENCIL_TEST))},setMask:function($e){te!==$e&&!B&&(t.stencilMask($e),te=$e)},setFunc:function($e,Ye,it){(ue!==$e||ye!==Ye||pe!==it)&&(t.stencilFunc($e,Ye,it),ue=$e,ye=Ye,pe=it)},setOp:function($e,Ye,it){(xe!==$e||_e!==Ye||Ee!==it)&&(t.stencilOp($e,Ye,it),xe=$e,_e=Ye,Ee=it)},setLocked:function($e){B=$e},setClear:function($e){ft!==$e&&(t.clearStencil($e),ft=$e)},reset:function(){B=!1,te=null,ue=null,ye=null,pe=null,xe=null,_e=null,Ee=null,ft=null}}}const o=new i,l=new a,c=new s,h=new WeakMap,p=new WeakMap;let m={},f={},v=new WeakMap,b=[],x=null,g=!1,_=null,w=null,M=null,C=null,A=null,N=null,O=null,P=new et(0,0,0),I=0,H=!1,q=null,se=null,$=null,Z=null,ne=null;const ie=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let D=!1,F=0;const W=t.getParameter(t.VERSION);W.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL (\d)/.exec(W)[1]),D=F>=1):W.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),D=F>=2);let K=null,re={};const ee=t.getParameter(t.SCISSOR_BOX),le=t.getParameter(t.VIEWPORT),Le=new tn().fromArray(ee),Ce=new tn().fromArray(le);function Re(B,te,ue,ye){const pe=new Uint8Array(4),xe=t.createTexture();t.bindTexture(B,xe),t.texParameteri(B,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(B,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let _e=0;_e<ue;_e++)r&&(B===t.TEXTURE_3D||B===t.TEXTURE_2D_ARRAY)?t.texImage3D(te,0,t.RGBA,1,1,ye,0,t.RGBA,t.UNSIGNED_BYTE,pe):t.texImage2D(te+_e,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,pe);return xe}const tt={};tt[t.TEXTURE_2D]=Re(t.TEXTURE_2D,t.TEXTURE_2D,1),tt[t.TEXTURE_CUBE_MAP]=Re(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(tt[t.TEXTURE_2D_ARRAY]=Re(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),tt[t.TEXTURE_3D]=Re(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Qe(t.DEPTH_TEST),l.setFunc(op),Xe(!1),j(Tb),Qe(t.CULL_FACE),Fe(bs);function Qe(B){m[B]!==!0&&(t.enable(B),m[B]=!0)}function Ue(B){m[B]!==!1&&(t.disable(B),m[B]=!1)}function he(B,te){return f[B]!==te?(t.bindFramebuffer(B,te),f[B]=te,r&&(B===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=te),B===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=te)),!0):!1}function Q(B,te){let ue=b,ye=!1;if(B)if(ue=v.get(te),ue===void 0&&(ue=[],v.set(te,ue)),B.isWebGLMultipleRenderTargets){const pe=B.texture;if(ue.length!==pe.length||ue[0]!==t.COLOR_ATTACHMENT0){for(let xe=0,_e=pe.length;xe<_e;xe++)ue[xe]=t.COLOR_ATTACHMENT0+xe;ue.length=pe.length,ye=!0}}else ue[0]!==t.COLOR_ATTACHMENT0&&(ue[0]=t.COLOR_ATTACHMENT0,ye=!0);else ue[0]!==t.BACK&&(ue[0]=t.BACK,ye=!0);ye&&(n.isWebGL2?t.drawBuffers(ue):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ue))}function ke(B){return x!==B?(t.useProgram(B),x=B,!0):!1}const Te={[po]:t.FUNC_ADD,[VL]:t.FUNC_SUBTRACT,[HL]:t.FUNC_REVERSE_SUBTRACT};if(r)Te[Rb]=t.MIN,Te[Lb]=t.MAX;else{const B=e.get("EXT_blend_minmax");B!==null&&(Te[Rb]=B.MIN_EXT,Te[Lb]=B.MAX_EXT)}const Se={[WL]:t.ZERO,[GL]:t.ONE,[qL]:t.SRC_COLOR,[M0]:t.SRC_ALPHA,[KL]:t.SRC_ALPHA_SATURATE,[QL]:t.DST_COLOR,[YL]:t.DST_ALPHA,[XL]:t.ONE_MINUS_SRC_COLOR,[E0]:t.ONE_MINUS_SRC_ALPHA,[JL]:t.ONE_MINUS_DST_COLOR,[ZL]:t.ONE_MINUS_DST_ALPHA,[eN]:t.CONSTANT_COLOR,[tN]:t.ONE_MINUS_CONSTANT_COLOR,[nN]:t.CONSTANT_ALPHA,[rN]:t.ONE_MINUS_CONSTANT_ALPHA};function Fe(B,te,ue,ye,pe,xe,_e,Ee,ft,$e){if(B===bs){g===!0&&(Ue(t.BLEND),g=!1);return}if(g===!1&&(Qe(t.BLEND),g=!0),B!==jL){if(B!==_||$e!==H){if((w!==po||A!==po)&&(t.blendEquation(t.FUNC_ADD),w=po,A=po),$e)switch(B){case Hl:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Ab:t.blendFunc(t.ONE,t.ONE);break;case Cb:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Pb:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",B);break}else switch(B){case Hl:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Ab:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Cb:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Pb:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",B);break}M=null,C=null,N=null,O=null,P.set(0,0,0),I=0,_=B,H=$e}return}pe=pe||te,xe=xe||ue,_e=_e||ye,(te!==w||pe!==A)&&(t.blendEquationSeparate(Te[te],Te[pe]),w=te,A=pe),(ue!==M||ye!==C||xe!==N||_e!==O)&&(t.blendFuncSeparate(Se[ue],Se[ye],Se[xe],Se[_e]),M=ue,C=ye,N=xe,O=_e),(Ee.equals(P)===!1||ft!==I)&&(t.blendColor(Ee.r,Ee.g,Ee.b,ft),P.copy(Ee),I=ft),_=B,H=!1}function we(B,te){B.side===Vi?Ue(t.CULL_FACE):Qe(t.CULL_FACE);let ue=B.side===Wr;te&&(ue=!ue),Xe(ue),B.blending===Hl&&B.transparent===!1?Fe(bs):Fe(B.blending,B.blendEquation,B.blendSrc,B.blendDst,B.blendEquationAlpha,B.blendSrcAlpha,B.blendDstAlpha,B.blendColor,B.blendAlpha,B.premultipliedAlpha),l.setFunc(B.depthFunc),l.setTest(B.depthTest),l.setMask(B.depthWrite),o.setMask(B.colorWrite);const ye=B.stencilWrite;c.setTest(ye),ye&&(c.setMask(B.stencilWriteMask),c.setFunc(B.stencilFunc,B.stencilRef,B.stencilFuncMask),c.setOp(B.stencilFail,B.stencilZFail,B.stencilZPass)),me(B.polygonOffset,B.polygonOffsetFactor,B.polygonOffsetUnits),B.alphaToCoverage===!0?Qe(t.SAMPLE_ALPHA_TO_COVERAGE):Ue(t.SAMPLE_ALPHA_TO_COVERAGE)}function Xe(B){q!==B&&(B?t.frontFace(t.CW):t.frontFace(t.CCW),q=B)}function j(B){B!==FL?(Qe(t.CULL_FACE),B!==se&&(B===Tb?t.cullFace(t.BACK):B===BL?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ue(t.CULL_FACE),se=B}function U(B){B!==$&&(D&&t.lineWidth(B),$=B)}function me(B,te,ue){B?(Qe(t.POLYGON_OFFSET_FILL),(Z!==te||ne!==ue)&&(t.polygonOffset(te,ue),Z=te,ne=ue)):Ue(t.POLYGON_OFFSET_FILL)}function De(B){B?Qe(t.SCISSOR_TEST):Ue(t.SCISSOR_TEST)}function Ae(B){B===void 0&&(B=t.TEXTURE0+ie-1),K!==B&&(t.activeTexture(B),K=B)}function ze(B,te,ue){ue===void 0&&(K===null?ue=t.TEXTURE0+ie-1:ue=K);let ye=re[ue];ye===void 0&&(ye={type:void 0,texture:void 0},re[ue]=ye),(ye.type!==B||ye.texture!==te)&&(K!==ue&&(t.activeTexture(ue),K=ue),t.bindTexture(B,te||tt[B]),ye.type=B,ye.texture=te)}function rt(){const B=re[K];B!==void 0&&B.type!==void 0&&(t.bindTexture(B.type,null),B.type=void 0,B.texture=void 0)}function je(){try{t.compressedTexImage2D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Ge(){try{t.compressedTexImage3D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function ht(){try{t.texSubImage2D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function bt(){try{t.texSubImage3D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Oe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Ft(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function wt(){try{t.texStorage2D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function pt(){try{t.texStorage3D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Be(){try{t.texImage2D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Ke(){try{t.texImage3D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function mt(B){Le.equals(B)===!1&&(t.scissor(B.x,B.y,B.z,B.w),Le.copy(B))}function k(B){Ce.equals(B)===!1&&(t.viewport(B.x,B.y,B.z,B.w),Ce.copy(B))}function z(B,te){let ue=p.get(te);ue===void 0&&(ue=new WeakMap,p.set(te,ue));let ye=ue.get(B);ye===void 0&&(ye=t.getUniformBlockIndex(te,B.name),ue.set(B,ye))}function Y(B,te){const ue=p.get(te).get(B);h.get(te)!==ue&&(t.uniformBlockBinding(te,ue,B.__bindingPointIndex),h.set(te,ue))}function J(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),m={},K=null,re={},f={},v=new WeakMap,b=[],x=null,g=!1,_=null,w=null,M=null,C=null,A=null,N=null,O=null,P=new et(0,0,0),I=0,H=!1,q=null,se=null,$=null,Z=null,ne=null,Le.set(0,0,t.canvas.width,t.canvas.height),Ce.set(0,0,t.canvas.width,t.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:Qe,disable:Ue,bindFramebuffer:he,drawBuffers:Q,useProgram:ke,setBlending:Fe,setMaterial:we,setFlipSided:Xe,setCullFace:j,setLineWidth:U,setPolygonOffset:me,setScissorTest:De,activeTexture:Ae,bindTexture:ze,unbindTexture:rt,compressedTexImage2D:je,compressedTexImage3D:Ge,texImage2D:Be,texImage3D:Ke,updateUBOMapping:z,uniformBlockBinding:Y,texStorage2D:wt,texStorage3D:pt,texSubImage2D:ht,texSubImage3D:bt,compressedTexSubImage2D:Oe,compressedTexSubImage3D:Ft,scissor:mt,viewport:k,reset:J}}function jH(t,e,n,r,i,a,s){const o=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new WeakMap;let p;const m=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(j,U){return f?new OffscreenCanvas(j,U):yp("canvas")}function b(j,U,me,De){let Ae=1;if((j.width>De||j.height>De)&&(Ae=De/Math.max(j.width,j.height)),Ae<1||U===!0)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap){const ze=U?C0:Math.floor,rt=ze(Ae*j.width),je=ze(Ae*j.height);p===void 0&&(p=v(rt,je));const Ge=me?v(rt,je):p;return Ge.width=rt,Ge.height=je,Ge.getContext("2d").drawImage(j,0,0,rt,je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+j.width+"x"+j.height+") to ("+rt+"x"+je+")."),Ge}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+j.width+"x"+j.height+")."),j;return j}function x(j){return sw(j.width)&&sw(j.height)}function g(j){return o?!1:j.wrapS!==Tr||j.wrapT!==Tr||j.minFilter!==Ln&&j.minFilter!==un}function _(j,U){return j.generateMipmaps&&U&&j.minFilter!==Ln&&j.minFilter!==un}function w(j){t.generateMipmap(j)}function M(j,U,me,De,Ae=!1){if(o===!1)return U;if(j!==null){if(t[j]!==void 0)return t[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let ze=U;if(U===t.RED&&(me===t.FLOAT&&(ze=t.R32F),me===t.HALF_FLOAT&&(ze=t.R16F),me===t.UNSIGNED_BYTE&&(ze=t.R8)),U===t.RED_INTEGER&&(me===t.UNSIGNED_BYTE&&(ze=t.R8UI),me===t.UNSIGNED_SHORT&&(ze=t.R16UI),me===t.UNSIGNED_INT&&(ze=t.R32UI),me===t.BYTE&&(ze=t.R8I),me===t.SHORT&&(ze=t.R16I),me===t.INT&&(ze=t.R32I)),U===t.RG&&(me===t.FLOAT&&(ze=t.RG32F),me===t.HALF_FLOAT&&(ze=t.RG16F),me===t.UNSIGNED_BYTE&&(ze=t.RG8)),U===t.RGBA){const rt=Ae?fp:Yt.getTransfer(De);me===t.FLOAT&&(ze=t.RGBA32F),me===t.HALF_FLOAT&&(ze=t.RGBA16F),me===t.UNSIGNED_BYTE&&(ze=rt===rn?t.SRGB8_ALPHA8:t.RGBA8),me===t.UNSIGNED_SHORT_4_4_4_4&&(ze=t.RGBA4),me===t.UNSIGNED_SHORT_5_5_5_1&&(ze=t.RGB5_A1)}return(ze===t.R16F||ze===t.R32F||ze===t.RG16F||ze===t.RG32F||ze===t.RGBA16F||ze===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ze}function C(j,U,me){return _(j,me)===!0||j.isFramebufferTexture&&j.minFilter!==Ln&&j.minFilter!==un?Math.log2(Math.max(U.width,U.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?U.mipmaps.length:1}function A(j){return j===Ln||j===T0||j===kh?t.NEAREST:t.LINEAR}function N(j){const U=j.target;U.removeEventListener("dispose",N),P(U),U.isVideoTexture&&h.delete(U)}function O(j){const U=j.target;U.removeEventListener("dispose",O),H(U)}function P(j){const U=r.get(j);if(U.__webglInit===void 0)return;const me=j.source,De=m.get(me);if(De){const Ae=De[U.__cacheKey];Ae.usedTimes--,Ae.usedTimes===0&&I(j),Object.keys(De).length===0&&m.delete(me)}r.remove(j)}function I(j){const U=r.get(j);t.deleteTexture(U.__webglTexture);const me=j.source,De=m.get(me);delete De[U.__cacheKey],s.memory.textures--}function H(j){const U=j.texture,me=r.get(j),De=r.get(U);if(De.__webglTexture!==void 0&&(t.deleteTexture(De.__webglTexture),s.memory.textures--),j.depthTexture&&j.depthTexture.dispose(),j.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++){if(Array.isArray(me.__webglFramebuffer[Ae]))for(let ze=0;ze<me.__webglFramebuffer[Ae].length;ze++)t.deleteFramebuffer(me.__webglFramebuffer[Ae][ze]);else t.deleteFramebuffer(me.__webglFramebuffer[Ae]);me.__webglDepthbuffer&&t.deleteRenderbuffer(me.__webglDepthbuffer[Ae])}else{if(Array.isArray(me.__webglFramebuffer))for(let Ae=0;Ae<me.__webglFramebuffer.length;Ae++)t.deleteFramebuffer(me.__webglFramebuffer[Ae]);else t.deleteFramebuffer(me.__webglFramebuffer);if(me.__webglDepthbuffer&&t.deleteRenderbuffer(me.__webglDepthbuffer),me.__webglMultisampledFramebuffer&&t.deleteFramebuffer(me.__webglMultisampledFramebuffer),me.__webglColorRenderbuffer)for(let Ae=0;Ae<me.__webglColorRenderbuffer.length;Ae++)me.__webglColorRenderbuffer[Ae]&&t.deleteRenderbuffer(me.__webglColorRenderbuffer[Ae]);me.__webglDepthRenderbuffer&&t.deleteRenderbuffer(me.__webglDepthRenderbuffer)}if(j.isWebGLMultipleRenderTargets)for(let Ae=0,ze=U.length;Ae<ze;Ae++){const rt=r.get(U[Ae]);rt.__webglTexture&&(t.deleteTexture(rt.__webglTexture),s.memory.textures--),r.remove(U[Ae])}r.remove(U),r.remove(j)}let q=0;function se(){q=0}function $(){const j=q;return j>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+i.maxTextures),q+=1,j}function Z(j){const U=[];return U.push(j.wrapS),U.push(j.wrapT),U.push(j.wrapR||0),U.push(j.magFilter),U.push(j.minFilter),U.push(j.anisotropy),U.push(j.internalFormat),U.push(j.format),U.push(j.type),U.push(j.generateMipmaps),U.push(j.premultiplyAlpha),U.push(j.flipY),U.push(j.unpackAlignment),U.push(j.colorSpace),U.join()}function ne(j,U){const me=r.get(j);if(j.isVideoTexture&&we(j),j.isRenderTargetTexture===!1&&j.version>0&&me.__version!==j.version){const De=j.image;if(De===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Le(me,j,U);return}}n.bindTexture(t.TEXTURE_2D,me.__webglTexture,t.TEXTURE0+U)}function ie(j,U){const me=r.get(j);if(j.version>0&&me.__version!==j.version){Le(me,j,U);return}n.bindTexture(t.TEXTURE_2D_ARRAY,me.__webglTexture,t.TEXTURE0+U)}function D(j,U){const me=r.get(j);if(j.version>0&&me.__version!==j.version){Le(me,j,U);return}n.bindTexture(t.TEXTURE_3D,me.__webglTexture,t.TEXTURE0+U)}function F(j,U){const me=r.get(j);if(j.version>0&&me.__version!==j.version){Ce(me,j,U);return}n.bindTexture(t.TEXTURE_CUBE_MAP,me.__webglTexture,t.TEXTURE0+U)}const W={[cp]:t.REPEAT,[Tr]:t.CLAMP_TO_EDGE,[up]:t.MIRRORED_REPEAT},K={[Ln]:t.NEAREST,[T0]:t.NEAREST_MIPMAP_NEAREST,[kh]:t.NEAREST_MIPMAP_LINEAR,[un]:t.LINEAR,[Z_]:t.LINEAR_MIPMAP_NEAREST,[Io]:t.LINEAR_MIPMAP_LINEAR},re={[NN]:t.NEVER,[zN]:t.ALWAYS,[kN]:t.LESS,[oS]:t.LEQUAL,[IN]:t.EQUAL,[UN]:t.GEQUAL,[ON]:t.GREATER,[DN]:t.NOTEQUAL};function ee(j,U,me){if(me?(t.texParameteri(j,t.TEXTURE_WRAP_S,W[U.wrapS]),t.texParameteri(j,t.TEXTURE_WRAP_T,W[U.wrapT]),(j===t.TEXTURE_3D||j===t.TEXTURE_2D_ARRAY)&&t.texParameteri(j,t.TEXTURE_WRAP_R,W[U.wrapR]),t.texParameteri(j,t.TEXTURE_MAG_FILTER,K[U.magFilter]),t.texParameteri(j,t.TEXTURE_MIN_FILTER,K[U.minFilter])):(t.texParameteri(j,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(j,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(j===t.TEXTURE_3D||j===t.TEXTURE_2D_ARRAY)&&t.texParameteri(j,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(U.wrapS!==Tr||U.wrapT!==Tr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(j,t.TEXTURE_MAG_FILTER,A(U.magFilter)),t.texParameteri(j,t.TEXTURE_MIN_FILTER,A(U.minFilter)),U.minFilter!==Ln&&U.minFilter!==un&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),U.compareFunction&&(t.texParameteri(j,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(j,t.TEXTURE_COMPARE_FUNC,re[U.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const De=e.get("EXT_texture_filter_anisotropic");if(U.magFilter===Ln||U.minFilter!==kh&&U.minFilter!==Io||U.type===ur&&e.has("OES_texture_float_linear")===!1||o===!1&&U.type===Vr&&e.has("OES_texture_half_float_linear")===!1)return;(U.anisotropy>1||r.get(U).__currentAnisotropy)&&(t.texParameterf(j,De.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,i.getMaxAnisotropy())),r.get(U).__currentAnisotropy=U.anisotropy)}}function le(j,U){let me=!1;j.__webglInit===void 0&&(j.__webglInit=!0,U.addEventListener("dispose",N));const De=U.source;let Ae=m.get(De);Ae===void 0&&(Ae={},m.set(De,Ae));const ze=Z(U);if(ze!==j.__cacheKey){Ae[ze]===void 0&&(Ae[ze]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,me=!0),Ae[ze].usedTimes++;const rt=Ae[j.__cacheKey];rt!==void 0&&(Ae[j.__cacheKey].usedTimes--,rt.usedTimes===0&&I(U)),j.__cacheKey=ze,j.__webglTexture=Ae[ze].texture}return me}function Le(j,U,me){let De=t.TEXTURE_2D;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(De=t.TEXTURE_2D_ARRAY),U.isData3DTexture&&(De=t.TEXTURE_3D);const Ae=le(j,U),ze=U.source;n.bindTexture(De,j.__webglTexture,t.TEXTURE0+me);const rt=r.get(ze);if(ze.version!==rt.__version||Ae===!0){n.activeTexture(t.TEXTURE0+me);const je=Yt.getPrimaries(Yt.workingColorSpace),Ge=U.colorSpace===wi?null:Yt.getPrimaries(U.colorSpace),ht=U.colorSpace===wi||je===Ge?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ht);const bt=g(U)&&x(U.image)===!1;let Oe=b(U.image,bt,!1,i.maxTextureSize);Oe=Xe(U,Oe);const Ft=x(Oe)||o,wt=a.convert(U.format,U.colorSpace);let pt=a.convert(U.type),Be=M(U.internalFormat,wt,pt,U.colorSpace,U.isVideoTexture);ee(De,U,Ft);let Ke;const mt=U.mipmaps,k=o&&U.isVideoTexture!==!0&&Be!==iS,z=rt.__version===void 0||Ae===!0,Y=C(U,Oe,Ft);if(U.isDepthTexture)Be=t.DEPTH_COMPONENT,o?U.type===ur?Be=t.DEPTH_COMPONENT32F:U.type===gs?Be=t.DEPTH_COMPONENT24:U.type===Eo?Be=t.DEPTH24_STENCIL8:Be=t.DEPTH_COMPONENT16:U.type===ur&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===To&&Be===t.DEPTH_COMPONENT&&U.type!==dv&&U.type!==gs&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=gs,pt=a.convert(U.type)),U.format===nc&&Be===t.DEPTH_COMPONENT&&(Be=t.DEPTH_STENCIL,U.type!==Eo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=Eo,pt=a.convert(U.type))),z&&(k?n.texStorage2D(t.TEXTURE_2D,1,Be,Oe.width,Oe.height):n.texImage2D(t.TEXTURE_2D,0,Be,Oe.width,Oe.height,0,wt,pt,null));else if(U.isDataTexture)if(mt.length>0&&Ft){k&&z&&n.texStorage2D(t.TEXTURE_2D,Y,Be,mt[0].width,mt[0].height);for(let J=0,B=mt.length;J<B;J++)Ke=mt[J],k?n.texSubImage2D(t.TEXTURE_2D,J,0,0,Ke.width,Ke.height,wt,pt,Ke.data):n.texImage2D(t.TEXTURE_2D,J,Be,Ke.width,Ke.height,0,wt,pt,Ke.data);U.generateMipmaps=!1}else k?(z&&n.texStorage2D(t.TEXTURE_2D,Y,Be,Oe.width,Oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Oe.width,Oe.height,wt,pt,Oe.data)):n.texImage2D(t.TEXTURE_2D,0,Be,Oe.width,Oe.height,0,wt,pt,Oe.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){k&&z&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Y,Be,mt[0].width,mt[0].height,Oe.depth);for(let J=0,B=mt.length;J<B;J++)Ke=mt[J],U.format!==Ar?wt!==null?k?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,J,0,0,0,Ke.width,Ke.height,Oe.depth,wt,Ke.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,J,Be,Ke.width,Ke.height,Oe.depth,0,Ke.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):k?n.texSubImage3D(t.TEXTURE_2D_ARRAY,J,0,0,0,Ke.width,Ke.height,Oe.depth,wt,pt,Ke.data):n.texImage3D(t.TEXTURE_2D_ARRAY,J,Be,Ke.width,Ke.height,Oe.depth,0,wt,pt,Ke.data)}else{k&&z&&n.texStorage2D(t.TEXTURE_2D,Y,Be,mt[0].width,mt[0].height);for(let J=0,B=mt.length;J<B;J++)Ke=mt[J],U.format!==Ar?wt!==null?k?n.compressedTexSubImage2D(t.TEXTURE_2D,J,0,0,Ke.width,Ke.height,wt,Ke.data):n.compressedTexImage2D(t.TEXTURE_2D,J,Be,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):k?n.texSubImage2D(t.TEXTURE_2D,J,0,0,Ke.width,Ke.height,wt,pt,Ke.data):n.texImage2D(t.TEXTURE_2D,J,Be,Ke.width,Ke.height,0,wt,pt,Ke.data)}else if(U.isDataArrayTexture)k?(z&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Y,Be,Oe.width,Oe.height,Oe.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Oe.width,Oe.height,Oe.depth,wt,pt,Oe.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Be,Oe.width,Oe.height,Oe.depth,0,wt,pt,Oe.data);else if(U.isData3DTexture)k?(z&&n.texStorage3D(t.TEXTURE_3D,Y,Be,Oe.width,Oe.height,Oe.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Oe.width,Oe.height,Oe.depth,wt,pt,Oe.data)):n.texImage3D(t.TEXTURE_3D,0,Be,Oe.width,Oe.height,Oe.depth,0,wt,pt,Oe.data);else if(U.isFramebufferTexture){if(z)if(k)n.texStorage2D(t.TEXTURE_2D,Y,Be,Oe.width,Oe.height);else{let J=Oe.width,B=Oe.height;for(let te=0;te<Y;te++)n.texImage2D(t.TEXTURE_2D,te,Be,J,B,0,wt,pt,null),J>>=1,B>>=1}}else if(mt.length>0&&Ft){k&&z&&n.texStorage2D(t.TEXTURE_2D,Y,Be,mt[0].width,mt[0].height);for(let J=0,B=mt.length;J<B;J++)Ke=mt[J],k?n.texSubImage2D(t.TEXTURE_2D,J,0,0,wt,pt,Ke):n.texImage2D(t.TEXTURE_2D,J,Be,wt,pt,Ke);U.generateMipmaps=!1}else k?(z&&n.texStorage2D(t.TEXTURE_2D,Y,Be,Oe.width,Oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,wt,pt,Oe)):n.texImage2D(t.TEXTURE_2D,0,Be,wt,pt,Oe);_(U,Ft)&&w(De),rt.__version=ze.version,U.onUpdate&&U.onUpdate(U)}j.__version=U.version}function Ce(j,U,me){if(U.image.length!==6)return;const De=le(j,U),Ae=U.source;n.bindTexture(t.TEXTURE_CUBE_MAP,j.__webglTexture,t.TEXTURE0+me);const ze=r.get(Ae);if(Ae.version!==ze.__version||De===!0){n.activeTexture(t.TEXTURE0+me);const rt=Yt.getPrimaries(Yt.workingColorSpace),je=U.colorSpace===wi?null:Yt.getPrimaries(U.colorSpace),Ge=U.colorSpace===wi||rt===je?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ge);const ht=U.isCompressedTexture||U.image[0].isCompressedTexture,bt=U.image[0]&&U.image[0].isDataTexture,Oe=[];for(let J=0;J<6;J++)!ht&&!bt?Oe[J]=b(U.image[J],!1,!0,i.maxCubemapSize):Oe[J]=bt?U.image[J].image:U.image[J],Oe[J]=Xe(U,Oe[J]);const Ft=Oe[0],wt=x(Ft)||o,pt=a.convert(U.format,U.colorSpace),Be=a.convert(U.type),Ke=M(U.internalFormat,pt,Be,U.colorSpace),mt=o&&U.isVideoTexture!==!0,k=ze.__version===void 0||De===!0;let z=C(U,Ft,wt);ee(t.TEXTURE_CUBE_MAP,U,wt);let Y;if(ht){mt&&k&&n.texStorage2D(t.TEXTURE_CUBE_MAP,z,Ke,Ft.width,Ft.height);for(let J=0;J<6;J++){Y=Oe[J].mipmaps;for(let B=0;B<Y.length;B++){const te=Y[B];U.format!==Ar?pt!==null?mt?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,B,0,0,te.width,te.height,pt,te.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,B,Ke,te.width,te.height,0,te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,B,0,0,te.width,te.height,pt,Be,te.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,B,Ke,te.width,te.height,0,pt,Be,te.data)}}}else{Y=U.mipmaps,mt&&k&&(Y.length>0&&z++,n.texStorage2D(t.TEXTURE_CUBE_MAP,z,Ke,Oe[0].width,Oe[0].height));for(let J=0;J<6;J++)if(bt){mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,0,0,0,Oe[J].width,Oe[J].height,pt,Be,Oe[J].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,0,Ke,Oe[J].width,Oe[J].height,0,pt,Be,Oe[J].data);for(let B=0;B<Y.length;B++){const te=Y[B].image[J].image;mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,B+1,0,0,te.width,te.height,pt,Be,te.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,B+1,Ke,te.width,te.height,0,pt,Be,te.data)}}else{mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,0,0,0,pt,Be,Oe[J]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,0,Ke,pt,Be,Oe[J]);for(let B=0;B<Y.length;B++){const te=Y[B];mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,B+1,0,0,pt,Be,te.image[J]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,B+1,Ke,pt,Be,te.image[J])}}}_(U,wt)&&w(t.TEXTURE_CUBE_MAP),ze.__version=Ae.version,U.onUpdate&&U.onUpdate(U)}j.__version=U.version}function Re(j,U,me,De,Ae,ze){const rt=a.convert(me.format,me.colorSpace),je=a.convert(me.type),Ge=M(me.internalFormat,rt,je,me.colorSpace);if(!r.get(U).__hasExternalTextures){const ht=Math.max(1,U.width>>ze),bt=Math.max(1,U.height>>ze);Ae===t.TEXTURE_3D||Ae===t.TEXTURE_2D_ARRAY?n.texImage3D(Ae,ze,Ge,ht,bt,U.depth,0,rt,je,null):n.texImage2D(Ae,ze,Ge,ht,bt,0,rt,je,null)}n.bindFramebuffer(t.FRAMEBUFFER,j),Fe(U)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,De,Ae,r.get(me).__webglTexture,0,Se(U)):(Ae===t.TEXTURE_2D||Ae>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ae<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,De,Ae,r.get(me).__webglTexture,ze),n.bindFramebuffer(t.FRAMEBUFFER,null)}function tt(j,U,me){if(t.bindRenderbuffer(t.RENDERBUFFER,j),U.depthBuffer&&!U.stencilBuffer){let De=o===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(me||Fe(U)){const Ae=U.depthTexture;Ae&&Ae.isDepthTexture&&(Ae.type===ur?De=t.DEPTH_COMPONENT32F:Ae.type===gs&&(De=t.DEPTH_COMPONENT24));const ze=Se(U);Fe(U)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ze,De,U.width,U.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,ze,De,U.width,U.height)}else t.renderbufferStorage(t.RENDERBUFFER,De,U.width,U.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,j)}else if(U.depthBuffer&&U.stencilBuffer){const De=Se(U);me&&Fe(U)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,De,t.DEPTH24_STENCIL8,U.width,U.height):Fe(U)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,De,t.DEPTH24_STENCIL8,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,j)}else{const De=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let Ae=0;Ae<De.length;Ae++){const ze=De[Ae],rt=a.convert(ze.format,ze.colorSpace),je=a.convert(ze.type),Ge=M(ze.internalFormat,rt,je,ze.colorSpace),ht=Se(U);me&&Fe(U)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ht,Ge,U.width,U.height):Fe(U)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ht,Ge,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,Ge,U.width,U.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Qe(j,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,j),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),ne(U.depthTexture,0);const me=r.get(U.depthTexture).__webglTexture,De=Se(U);if(U.depthTexture.format===To)Fe(U)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,me,0,De):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,me,0);else if(U.depthTexture.format===nc)Fe(U)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,me,0,De):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,me,0);else throw new Error("Unknown depthTexture format")}function Ue(j){const U=r.get(j),me=j.isWebGLCubeRenderTarget===!0;if(j.depthTexture&&!U.__autoAllocateDepthBuffer){if(me)throw new Error("target.depthTexture not supported in Cube render targets");Qe(U.__webglFramebuffer,j)}else if(me){U.__webglDepthbuffer=[];for(let De=0;De<6;De++)n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer[De]),U.__webglDepthbuffer[De]=t.createRenderbuffer(),tt(U.__webglDepthbuffer[De],j,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer),U.__webglDepthbuffer=t.createRenderbuffer(),tt(U.__webglDepthbuffer,j,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function he(j,U,me){const De=r.get(j);U!==void 0&&Re(De.__webglFramebuffer,j,j.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),me!==void 0&&Ue(j)}function Q(j){const U=j.texture,me=r.get(j),De=r.get(U);j.addEventListener("dispose",O),j.isWebGLMultipleRenderTargets!==!0&&(De.__webglTexture===void 0&&(De.__webglTexture=t.createTexture()),De.__version=U.version,s.memory.textures++);const Ae=j.isWebGLCubeRenderTarget===!0,ze=j.isWebGLMultipleRenderTargets===!0,rt=x(j)||o;if(Ae){me.__webglFramebuffer=[];for(let je=0;je<6;je++)if(o&&U.mipmaps&&U.mipmaps.length>0){me.__webglFramebuffer[je]=[];for(let Ge=0;Ge<U.mipmaps.length;Ge++)me.__webglFramebuffer[je][Ge]=t.createFramebuffer()}else me.__webglFramebuffer[je]=t.createFramebuffer()}else{if(o&&U.mipmaps&&U.mipmaps.length>0){me.__webglFramebuffer=[];for(let je=0;je<U.mipmaps.length;je++)me.__webglFramebuffer[je]=t.createFramebuffer()}else me.__webglFramebuffer=t.createFramebuffer();if(ze)if(i.drawBuffers){const je=j.texture;for(let Ge=0,ht=je.length;Ge<ht;Ge++){const bt=r.get(je[Ge]);bt.__webglTexture===void 0&&(bt.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&j.samples>0&&Fe(j)===!1){const je=ze?U:[U];me.__webglMultisampledFramebuffer=t.createFramebuffer(),me.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,me.__webglMultisampledFramebuffer);for(let Ge=0;Ge<je.length;Ge++){const ht=je[Ge];me.__webglColorRenderbuffer[Ge]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,me.__webglColorRenderbuffer[Ge]);const bt=a.convert(ht.format,ht.colorSpace),Oe=a.convert(ht.type),Ft=M(ht.internalFormat,bt,Oe,ht.colorSpace,j.isXRRenderTarget===!0),wt=Se(j);t.renderbufferStorageMultisample(t.RENDERBUFFER,wt,Ft,j.width,j.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ge,t.RENDERBUFFER,me.__webglColorRenderbuffer[Ge])}t.bindRenderbuffer(t.RENDERBUFFER,null),j.depthBuffer&&(me.__webglDepthRenderbuffer=t.createRenderbuffer(),tt(me.__webglDepthRenderbuffer,j,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ae){n.bindTexture(t.TEXTURE_CUBE_MAP,De.__webglTexture),ee(t.TEXTURE_CUBE_MAP,U,rt);for(let je=0;je<6;je++)if(o&&U.mipmaps&&U.mipmaps.length>0)for(let Ge=0;Ge<U.mipmaps.length;Ge++)Re(me.__webglFramebuffer[je][Ge],j,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+je,Ge);else Re(me.__webglFramebuffer[je],j,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0);_(U,rt)&&w(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ze){const je=j.texture;for(let Ge=0,ht=je.length;Ge<ht;Ge++){const bt=je[Ge],Oe=r.get(bt);n.bindTexture(t.TEXTURE_2D,Oe.__webglTexture),ee(t.TEXTURE_2D,bt,rt),Re(me.__webglFramebuffer,j,bt,t.COLOR_ATTACHMENT0+Ge,t.TEXTURE_2D,0),_(bt,rt)&&w(t.TEXTURE_2D)}n.unbindTexture()}else{let je=t.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(o?je=j.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(je,De.__webglTexture),ee(je,U,rt),o&&U.mipmaps&&U.mipmaps.length>0)for(let Ge=0;Ge<U.mipmaps.length;Ge++)Re(me.__webglFramebuffer[Ge],j,U,t.COLOR_ATTACHMENT0,je,Ge);else Re(me.__webglFramebuffer,j,U,t.COLOR_ATTACHMENT0,je,0);_(U,rt)&&w(je),n.unbindTexture()}j.depthBuffer&&Ue(j)}function ke(j){const U=x(j)||o,me=j.isWebGLMultipleRenderTargets===!0?j.texture:[j.texture];for(let De=0,Ae=me.length;De<Ae;De++){const ze=me[De];if(_(ze,U)){const rt=j.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,je=r.get(ze).__webglTexture;n.bindTexture(rt,je),w(rt),n.unbindTexture()}}}function Te(j){if(o&&j.samples>0&&Fe(j)===!1){const U=j.isWebGLMultipleRenderTargets?j.texture:[j.texture],me=j.width,De=j.height;let Ae=t.COLOR_BUFFER_BIT;const ze=[],rt=j.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,je=r.get(j),Ge=j.isWebGLMultipleRenderTargets===!0;if(Ge)for(let ht=0;ht<U.length;ht++)n.bindFramebuffer(t.FRAMEBUFFER,je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,je.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,je.__webglFramebuffer);for(let ht=0;ht<U.length;ht++){ze.push(t.COLOR_ATTACHMENT0+ht),j.depthBuffer&&ze.push(rt);const bt=je.__ignoreDepthValues!==void 0?je.__ignoreDepthValues:!1;if(bt===!1&&(j.depthBuffer&&(Ae|=t.DEPTH_BUFFER_BIT),j.stencilBuffer&&(Ae|=t.STENCIL_BUFFER_BIT)),Ge&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,je.__webglColorRenderbuffer[ht]),bt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[rt]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[rt])),Ge){const Oe=r.get(U[ht]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Oe,0)}t.blitFramebuffer(0,0,me,De,0,0,me,De,Ae,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ze)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ge)for(let ht=0;ht<U.length;ht++){n.bindFramebuffer(t.FRAMEBUFFER,je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.RENDERBUFFER,je.__webglColorRenderbuffer[ht]);const bt=r.get(U[ht]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.TEXTURE_2D,bt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,je.__webglMultisampledFramebuffer)}}function Se(j){return Math.min(i.maxSamples,j.samples)}function Fe(j){const U=r.get(j);return o&&j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function we(j){const U=s.render.frame;h.get(j)!==U&&(h.set(j,U),j.update())}function Xe(j,U){const me=j.colorSpace,De=j.format,Ae=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||j.format===A0||me!==Va&&me!==wi&&(Yt.getTransfer(me)===rn?o===!1?e.has("EXT_sRGB")===!0&&De===Ar?(j.format=A0,j.minFilter=un,j.generateMipmaps=!1):U=cS.sRGBToLinear(U):(De!==Ar||Ae!==Fa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",me)),U}this.allocateTextureUnit=$,this.resetTextureUnits=se,this.setTexture2D=ne,this.setTexture2DArray=ie,this.setTexture3D=D,this.setTextureCube=F,this.rebindTextures=he,this.setupRenderTarget=Q,this.updateRenderTargetMipmap=ke,this.updateMultisampleRenderTarget=Te,this.setupDepthRenderbuffer=Ue,this.setupFrameBufferTexture=Re,this.useMultisampledRTT=Fe}function ak(t,e,n){const r=n.isWebGL2;function i(a,s=wi){let o;const l=Yt.getTransfer(s);if(a===Fa)return t.UNSIGNED_BYTE;if(a===J_)return t.UNSIGNED_SHORT_4_4_4_4;if(a===K_)return t.UNSIGNED_SHORT_5_5_5_1;if(a===xN)return t.BYTE;if(a===bN)return t.SHORT;if(a===dv)return t.UNSIGNED_SHORT;if(a===Q_)return t.INT;if(a===gs)return t.UNSIGNED_INT;if(a===ur)return t.FLOAT;if(a===Vr)return r?t.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(a===wN)return t.ALPHA;if(a===Ar)return t.RGBA;if(a===_N)return t.LUMINANCE;if(a===SN)return t.LUMINANCE_ALPHA;if(a===To)return t.DEPTH_COMPONENT;if(a===nc)return t.DEPTH_STENCIL;if(a===A0)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(a===eS)return t.RED;if(a===tS)return t.RED_INTEGER;if(a===MN)return t.RG;if(a===nS)return t.RG_INTEGER;if(a===rS)return t.RGBA_INTEGER;if(a===Bg||a===$g||a===jg||a===Vg)if(l===rn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(a===Bg)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===$g)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===jg)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===Vg)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(a===Bg)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===$g)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===jg)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===Vg)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===kb||a===Ib||a===Ob||a===Db)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(a===kb)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===Ib)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===Ob)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===Db)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===iS)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===Ub||a===zb)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(a===Ub)return l===rn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(a===zb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===Fb||a===Bb||a===$b||a===jb||a===Vb||a===Hb||a===Wb||a===Gb||a===qb||a===Xb||a===Yb||a===Zb||a===Qb||a===Jb)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(a===Fb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===Bb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===$b)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===jb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===Vb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===Hb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===Wb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===Gb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===qb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===Xb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===Yb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===Zb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===Qb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===Jb)return l===rn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===Hg||a===Kb||a===ew)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(a===Hg)return l===rn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(a===Kb)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(a===ew)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(a===EN||a===tw||a===nw||a===rw)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(a===Hg)return o.COMPRESSED_RED_RGTC1_EXT;if(a===tw)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===nw)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===rw)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===Eo?r?t.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):t[a]!==void 0?t[a]:null}return{convert:i}}class sk extends $n{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let Su=class extends Jt{constructor(){super(),this.isGroup=!0,this.type="Group"}};const VH={type:"move"};let j1=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Su,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Su,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Su,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const b of e.hand.values()){const x=n.getJointPose(b,r),g=this._getHandJoint(c,b);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const h=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],m=h.position.distanceTo(p.position),f=.02,v=.005;c.inputState.pinching&&m>f+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&m<=f-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(VH)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Su;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}};class HH extends ks{constructor(e,n){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=1,c=null,h=null,p=null,m=null,f=null,v=null;const b=n.getContextAttributes();let x=null,g=null;const _=[],w=[],M=new Ie;let C=null;const A=new $n;A.layers.enable(1),A.viewport=new tn;const N=new $n;N.layers.enable(2),N.viewport=new tn;const O=[A,N],P=new sk;P.layers.enable(1),P.layers.enable(2);let I=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let le=_[ee];return le===void 0&&(le=new j1,_[ee]=le),le.getTargetRaySpace()},this.getControllerGrip=function(ee){let le=_[ee];return le===void 0&&(le=new j1,_[ee]=le),le.getGripSpace()},this.getHand=function(ee){let le=_[ee];return le===void 0&&(le=new j1,_[ee]=le),le.getHandSpace()};function q(ee){const le=w.indexOf(ee.inputSource);if(le===-1)return;const Le=_[le];Le!==void 0&&(Le.update(ee.inputSource,ee.frame,c||s),Le.dispatchEvent({type:ee.type,data:ee.inputSource}))}function se(){i.removeEventListener("select",q),i.removeEventListener("selectstart",q),i.removeEventListener("selectend",q),i.removeEventListener("squeeze",q),i.removeEventListener("squeezestart",q),i.removeEventListener("squeezeend",q),i.removeEventListener("end",se),i.removeEventListener("inputsourceschange",$);for(let ee=0;ee<_.length;ee++){const le=w[ee];le!==null&&(w[ee]=null,_[ee].disconnect(le))}I=null,H=null,e.setRenderTarget(x),f=null,m=null,p=null,i=null,g=null,re.stop(),r.isPresenting=!1,e.setPixelRatio(C),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ee){a=ee,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){o=ee,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(ee){c=ee},this.getBaseLayer=function(){return m!==null?m:f},this.getBinding=function(){return p},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(ee){if(i=ee,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",q),i.addEventListener("selectstart",q),i.addEventListener("selectend",q),i.addEventListener("squeeze",q),i.addEventListener("squeezestart",q),i.addEventListener("squeezeend",q),i.addEventListener("end",se),i.addEventListener("inputsourceschange",$),b.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(M),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const le={antialias:i.renderState.layers===void 0?b.antialias:!0,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:a};f=new XRWebGLLayer(i,n,le),i.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),g=new ma(f.framebufferWidth,f.framebufferHeight,{format:Ar,type:Fa,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil})}else{let le=null,Le=null,Ce=null;b.depth&&(Ce=b.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,le=b.stencil?nc:To,Le=b.stencil?Eo:gs);const Re={colorFormat:n.RGBA8,depthFormat:Ce,scaleFactor:a};p=new XRWebGLBinding(i,n),m=p.createProjectionLayer(Re),i.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),g=new ma(m.textureWidth,m.textureHeight,{format:Ar,type:Fa,depthTexture:new vS(m.textureWidth,m.textureHeight,Le,void 0,void 0,void 0,void 0,void 0,void 0,le),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0});const tt=e.properties.get(g);tt.__ignoreDepthValues=m.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(o),re.setContext(i),re.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function $(ee){for(let le=0;le<ee.removed.length;le++){const Le=ee.removed[le],Ce=w.indexOf(Le);Ce>=0&&(w[Ce]=null,_[Ce].disconnect(Le))}for(let le=0;le<ee.added.length;le++){const Le=ee.added[le];let Ce=w.indexOf(Le);if(Ce===-1){for(let tt=0;tt<_.length;tt++)if(tt>=w.length){w.push(Le),Ce=tt;break}else if(w[tt]===null){w[tt]=Le,Ce=tt;break}if(Ce===-1)break}const Re=_[Ce];Re&&Re.connect(Le)}}const Z=new G,ne=new G;function ie(ee,le,Le){Z.setFromMatrixPosition(le.matrixWorld),ne.setFromMatrixPosition(Le.matrixWorld);const Ce=Z.distanceTo(ne),Re=le.projectionMatrix.elements,tt=Le.projectionMatrix.elements,Qe=Re[14]/(Re[10]-1),Ue=Re[14]/(Re[10]+1),he=(Re[9]+1)/Re[5],Q=(Re[9]-1)/Re[5],ke=(Re[8]-1)/Re[0],Te=(tt[8]+1)/tt[0],Se=Qe*ke,Fe=Qe*Te,we=Ce/(-ke+Te),Xe=we*-ke;le.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(Xe),ee.translateZ(we),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert();const j=Qe+we,U=Ue+we,me=Se-Xe,De=Fe+(Ce-Xe),Ae=he*Ue/U*j,ze=Q*Ue/U*j;ee.projectionMatrix.makePerspective(me,De,Ae,ze,j,U),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}function D(ee,le){le===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(le.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(i===null)return;P.near=N.near=A.near=ee.near,P.far=N.far=A.far=ee.far,(I!==P.near||H!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),I=P.near,H=P.far);const le=ee.parent,Le=P.cameras;D(P,le);for(let Ce=0;Ce<Le.length;Ce++)D(Le[Ce],le);Le.length===2?ie(P,A,N):P.projectionMatrix.copy(A.projectionMatrix),F(ee,P,le)};function F(ee,le,Le){Le===null?ee.matrix.copy(le.matrixWorld):(ee.matrix.copy(Le.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(le.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0),ee.projectionMatrix.copy(le.projectionMatrix),ee.projectionMatrixInverse.copy(le.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=Xu*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(m===null&&f===null))return l},this.setFoveation=function(ee){l=ee,m!==null&&(m.fixedFoveation=ee),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=ee)};let W=null;function K(ee,le){if(h=le.getViewerPose(c||s),v=le,h!==null){const Le=h.views;f!==null&&(e.setRenderTargetFramebuffer(g,f.framebuffer),e.setRenderTarget(g));let Ce=!1;Le.length!==P.cameras.length&&(P.cameras.length=0,Ce=!0);for(let Re=0;Re<Le.length;Re++){const tt=Le[Re];let Qe=null;if(f!==null)Qe=f.getViewport(tt);else{const he=p.getViewSubImage(m,tt);Qe=he.viewport,Re===0&&(e.setRenderTargetTextures(g,he.colorTexture,m.ignoreDepthValues?void 0:he.depthStencilTexture),e.setRenderTarget(g))}let Ue=O[Re];Ue===void 0&&(Ue=new $n,Ue.layers.enable(Re),Ue.viewport=new tn,O[Re]=Ue),Ue.matrix.fromArray(tt.transform.matrix),Ue.matrix.decompose(Ue.position,Ue.quaternion,Ue.scale),Ue.projectionMatrix.fromArray(tt.projectionMatrix),Ue.projectionMatrixInverse.copy(Ue.projectionMatrix).invert(),Ue.viewport.set(Qe.x,Qe.y,Qe.width,Qe.height),Re===0&&(P.matrix.copy(Ue.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),Ce===!0&&P.cameras.push(Ue)}}for(let Le=0;Le<_.length;Le++){const Ce=w[Le],Re=_[Le];Ce!==null&&Re!==void 0&&Re.update(Ce,le,c||s)}W&&W(ee,le),le.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:le}),v=null}const re=new JN;re.setAnimationLoop(K),this.setAnimationLoop=function(ee){W=ee},this.dispose=function(){}}}function WH(t,e){function n(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function r(x,g){g.color.getRGB(x.fogColor.value,YN(t)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function i(x,g,_,w,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?a(x,g):g.isMeshToonMaterial?(a(x,g),p(x,g)):g.isMeshPhongMaterial?(a(x,g),h(x,g)):g.isMeshStandardMaterial?(a(x,g),m(x,g),g.isMeshPhysicalMaterial&&f(x,g,M)):g.isMeshMatcapMaterial?(a(x,g),v(x,g)):g.isMeshDepthMaterial?a(x,g):g.isMeshDistanceMaterial?(a(x,g),b(x,g)):g.isMeshNormalMaterial?a(x,g):g.isLineBasicMaterial?(s(x,g),g.isLineDashedMaterial&&o(x,g)):g.isPointsMaterial?l(x,g,_,w):g.isSpriteMaterial?c(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function a(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,n(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===Wr&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,n(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===Wr&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,n(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,n(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const _=e.get(g).envMap;if(_&&(x.envMap.value=_,x.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const w=t._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*w,n(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,x.aoMapTransform))}function s(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform))}function o(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,_,w){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*_,x.scale.value=w*.5,g.map&&(x.map.value=g.map,n(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function c(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function h(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function p(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function m(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,x.roughnessMapTransform)),e.get(g).envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function f(x,g,_){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Wr&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=_.texture,x.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,g){g.matcap&&(x.matcap.value=g.matcap)}function b(x,g){const _=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(_.matrixWorld),x.nearDistance.value=_.shadow.camera.near,x.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function GH(t,e,n,r){let i={},a={},s=[];const o=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(_,w){const M=w.program;r.uniformBlockBinding(_,M)}function c(_,w){let M=i[_.id];M===void 0&&(v(_),M=h(_),i[_.id]=M,_.addEventListener("dispose",x));const C=w.program;r.updateUBOMapping(_,C);const A=e.render.frame;a[_.id]!==A&&(m(_),a[_.id]=A)}function h(_){const w=p();_.__bindingPointIndex=w;const M=t.createBuffer(),C=_.__size,A=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,C,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,M),M}function p(){for(let _=0;_<o;_++)if(s.indexOf(_)===-1)return s.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(_){const w=i[_.id],M=_.uniforms,C=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let A=0,N=M.length;A<N;A++){const O=Array.isArray(M[A])?M[A]:[M[A]];for(let P=0,I=O.length;P<I;P++){const H=O[P];if(f(H,A,P,C)===!0){const q=H.__offset,se=Array.isArray(H.value)?H.value:[H.value];let $=0;for(let Z=0;Z<se.length;Z++){const ne=se[Z],ie=b(ne);typeof ne=="number"||typeof ne=="boolean"?(H.__data[0]=ne,t.bufferSubData(t.UNIFORM_BUFFER,q+$,H.__data)):ne.isMatrix3?(H.__data[0]=ne.elements[0],H.__data[1]=ne.elements[1],H.__data[2]=ne.elements[2],H.__data[3]=0,H.__data[4]=ne.elements[3],H.__data[5]=ne.elements[4],H.__data[6]=ne.elements[5],H.__data[7]=0,H.__data[8]=ne.elements[6],H.__data[9]=ne.elements[7],H.__data[10]=ne.elements[8],H.__data[11]=0):(ne.toArray(H.__data,$),$+=ie.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,q,H.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function f(_,w,M,C){const A=_.value,N=w+"_"+M;if(C[N]===void 0)return typeof A=="number"||typeof A=="boolean"?C[N]=A:C[N]=A.clone(),!0;{const O=C[N];if(typeof A=="number"||typeof A=="boolean"){if(O!==A)return C[N]=A,!0}else if(O.equals(A)===!1)return O.copy(A),!0}return!1}function v(_){const w=_.uniforms;let M=0;const C=16;for(let N=0,O=w.length;N<O;N++){const P=Array.isArray(w[N])?w[N]:[w[N]];for(let I=0,H=P.length;I<H;I++){const q=P[I],se=Array.isArray(q.value)?q.value:[q.value];for(let $=0,Z=se.length;$<Z;$++){const ne=se[$],ie=b(ne),D=M%C;D!==0&&C-D<ie.boundary&&(M+=C-D),q.__data=new Float32Array(ie.storage/Float32Array.BYTES_PER_ELEMENT),q.__offset=M,M+=ie.storage}}}const A=M%C;return A>0&&(M+=C-A),_.__size=M,_.__cache={},this}function b(_){const w={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(w.boundary=4,w.storage=4):_.isVector2?(w.boundary=8,w.storage=8):_.isVector3||_.isColor?(w.boundary=16,w.storage=12):_.isVector4?(w.boundary=16,w.storage=16):_.isMatrix3?(w.boundary=48,w.storage=48):_.isMatrix4?(w.boundary=64,w.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),w}function x(_){const w=_.target;w.removeEventListener("dispose",x);const M=s.indexOf(w.__bindingPointIndex);s.splice(M,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete a[w.id]}function g(){for(const _ in i)t.deleteBuffer(i[_]);s=[],i={},a={}}return{bind:l,update:c,dispose:g}}let bS=class{constructor(e={}){const{canvas:n=jN(),context:r=null,depth:i=!0,stencil:a=!0,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let m;r!==null?m=r.getContextAttributes().alpha:m=s;const f=new Uint32Array(4),v=new Int32Array(4);let b=null,x=null;const g=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Yn,this._useLegacyLights=!1,this.toneMapping=za,this.toneMappingExposure=1;const w=this;let M=!1,C=0,A=0,N=null,O=-1,P=null;const I=new tn,H=new tn;let q=null;const se=new et(0);let $=0,Z=n.width,ne=n.height,ie=1,D=null,F=null;const W=new tn(0,0,Z,ne),K=new tn(0,0,Z,ne);let re=!1;const ee=new Qp;let le=!1,Le=!1,Ce=null;const Re=new Mt,tt=new Ie,Qe=new G,Ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function he(){return N===null?ie:1}let Q=r;function ke(V,ce){for(let fe=0;fe<V.length;fe++){const ge=V[fe],de=n.getContext(ge,ce);if(de!==null)return de}return null}try{const V={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Wp}`),n.addEventListener("webglcontextlost",J,!1),n.addEventListener("webglcontextrestored",B,!1),n.addEventListener("webglcontextcreationerror",te,!1),Q===null){const ce=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&ce.shift(),Q=ke(ce,V),Q===null)throw ke(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Q instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Q.getShaderPrecisionFormat===void 0&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let Te,Se,Fe,we,Xe,j,U,me,De,Ae,ze,rt,je,Ge,ht,bt,Oe,Ft,wt,pt,Be,Ke,mt,k;function z(){Te=new sV(Q),Se=new eV(Q,Te,e),Te.init(Se),Ke=new ak(Q,Te,Se),Fe=new $H(Q,Te,Se),we=new cV(Q),Xe=new PH,j=new jH(Q,Te,Fe,Xe,Se,Ke,we),U=new nV(w),me=new aV(w),De=new v$(Q,Se),mt=new Jj(Q,Te,De,Se),Ae=new oV(Q,De,we,mt),ze=new pV(Q,Ae,De,we),wt=new hV(Q,Se,j),bt=new tV(Xe),rt=new CH(w,U,me,Te,Se,mt,bt),je=new WH(w,Xe),Ge=new LH,ht=new UH(Te,Se),Ft=new Qj(w,U,me,Fe,ze,m,l),Oe=new BH(w,ze,Se),k=new GH(Q,we,Se,Fe),pt=new Kj(Q,Te,we,Se),Be=new lV(Q,Te,we,Se),we.programs=rt.programs,w.capabilities=Se,w.extensions=Te,w.properties=Xe,w.renderLists=Ge,w.shadowMap=Oe,w.state=Fe,w.info=we}z();const Y=new HH(w,Q);this.xr=Y,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const V=Te.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=Te.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(V){V!==void 0&&(ie=V,this.setSize(Z,ne,!1))},this.getSize=function(V){return V.set(Z,ne)},this.setSize=function(V,ce,fe=!0){if(Y.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Z=V,ne=ce,n.width=Math.floor(V*ie),n.height=Math.floor(ce*ie),fe===!0&&(n.style.width=V+"px",n.style.height=ce+"px"),this.setViewport(0,0,V,ce)},this.getDrawingBufferSize=function(V){return V.set(Z*ie,ne*ie).floor()},this.setDrawingBufferSize=function(V,ce,fe){Z=V,ne=ce,ie=fe,n.width=Math.floor(V*fe),n.height=Math.floor(ce*fe),this.setViewport(0,0,V,ce)},this.getCurrentViewport=function(V){return V.copy(I)},this.getViewport=function(V){return V.copy(W)},this.setViewport=function(V,ce,fe,ge){V.isVector4?W.set(V.x,V.y,V.z,V.w):W.set(V,ce,fe,ge),Fe.viewport(I.copy(W).multiplyScalar(ie).floor())},this.getScissor=function(V){return V.copy(K)},this.setScissor=function(V,ce,fe,ge){V.isVector4?K.set(V.x,V.y,V.z,V.w):K.set(V,ce,fe,ge),Fe.scissor(H.copy(K).multiplyScalar(ie).floor())},this.getScissorTest=function(){return re},this.setScissorTest=function(V){Fe.setScissorTest(re=V)},this.setOpaqueSort=function(V){D=V},this.setTransparentSort=function(V){F=V},this.getClearColor=function(V){return V.copy(Ft.getClearColor())},this.setClearColor=function(){Ft.setClearColor.apply(Ft,arguments)},this.getClearAlpha=function(){return Ft.getClearAlpha()},this.setClearAlpha=function(){Ft.setClearAlpha.apply(Ft,arguments)},this.clear=function(V=!0,ce=!0,fe=!0){let ge=0;if(V){let de=!1;if(N!==null){const Ne=N.texture.format;de=Ne===rS||Ne===nS||Ne===tS}if(de){const Ne=N.texture.type,nt=Ne===Fa||Ne===gs||Ne===dv||Ne===Eo||Ne===J_||Ne===K_,ct=Ft.getClearColor(),ot=Ft.getClearAlpha(),yt=ct.r,Et=ct.g,Pt=ct.b;nt?(f[0]=yt,f[1]=Et,f[2]=Pt,f[3]=ot,Q.clearBufferuiv(Q.COLOR,0,f)):(v[0]=yt,v[1]=Et,v[2]=Pt,v[3]=ot,Q.clearBufferiv(Q.COLOR,0,v))}else ge|=Q.COLOR_BUFFER_BIT}ce&&(ge|=Q.DEPTH_BUFFER_BIT),fe&&(ge|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",J,!1),n.removeEventListener("webglcontextrestored",B,!1),n.removeEventListener("webglcontextcreationerror",te,!1),Ge.dispose(),ht.dispose(),Xe.dispose(),U.dispose(),me.dispose(),ze.dispose(),mt.dispose(),k.dispose(),rt.dispose(),Y.dispose(),Y.removeEventListener("sessionstart",ft),Y.removeEventListener("sessionend",$e),Ce&&(Ce.dispose(),Ce=null),Ye.stop()};function J(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function B(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const V=we.autoReset,ce=Oe.enabled,fe=Oe.autoUpdate,ge=Oe.needsUpdate,de=Oe.type;z(),we.autoReset=V,Oe.enabled=ce,Oe.autoUpdate=fe,Oe.needsUpdate=ge,Oe.type=de}function te(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function ue(V){const ce=V.target;ce.removeEventListener("dispose",ue),ye(ce)}function ye(V){pe(V),Xe.remove(V)}function pe(V){const ce=Xe.get(V).programs;ce!==void 0&&(ce.forEach(function(fe){rt.releaseProgram(fe)}),V.isShaderMaterial&&rt.releaseShaderCache(V))}this.renderBufferDirect=function(V,ce,fe,ge,de,Ne){ce===null&&(ce=Ue);const nt=de.isMesh&&de.matrixWorld.determinant()<0,ct=Wn(V,ce,fe,ge,de);Fe.setMaterial(ge,nt);let ot=fe.index,yt=1;if(ge.wireframe===!0){if(ot=Ae.getWireframeAttribute(fe),ot===void 0)return;yt=2}const Et=fe.drawRange,Pt=fe.attributes.position;let In=Et.start*yt,nn=(Et.start+Et.count)*yt;Ne!==null&&(In=Math.max(In,Ne.start*yt),nn=Math.min(nn,(Ne.start+Ne.count)*yt)),ot!==null?(In=Math.max(In,0),nn=Math.min(nn,ot.count)):Pt!=null&&(In=Math.max(In,0),nn=Math.min(nn,Pt.count));const An=nn-In;if(An<0||An===1/0)return;mt.setup(de,ge,ct,fe,ot);let zt,_t=pt;if(ot!==null&&(zt=De.get(ot),_t=Be,_t.setIndex(zt)),de.isMesh)ge.wireframe===!0?(Fe.setLineWidth(ge.wireframeLinewidth*he()),_t.setMode(Q.LINES)):_t.setMode(Q.TRIANGLES);else if(de.isLine){let St=ge.linewidth;St===void 0&&(St=1),Fe.setLineWidth(St*he()),de.isLineSegments?_t.setMode(Q.LINES):de.isLineLoop?_t.setMode(Q.LINE_LOOP):_t.setMode(Q.LINE_STRIP)}else de.isPoints?_t.setMode(Q.POINTS):de.isSprite&&_t.setMode(Q.TRIANGLES);if(de.isBatchedMesh)_t.renderMultiDraw(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount);else if(de.isInstancedMesh)_t.renderInstances(In,An,de.count);else if(fe.isInstancedBufferGeometry){const St=fe._maxInstanceCount!==void 0?fe._maxInstanceCount:1/0,On=Math.min(fe.instanceCount,St);_t.renderInstances(In,An,On)}else _t.render(In,An)};function xe(V,ce,fe){V.transparent===!0&&V.side===Vi&&V.forceSinglePass===!1?(V.side=Wr,V.needsUpdate=!0,mn(V,ce,fe),V.side=As,V.needsUpdate=!0,mn(V,ce,fe),V.side=Vi):mn(V,ce,fe)}this.compile=function(V,ce,fe=null){fe===null&&(fe=V),x=ht.get(fe),x.init(),_.push(x),fe.traverseVisible(function(de){de.isLight&&de.layers.test(ce.layers)&&(x.pushLight(de),de.castShadow&&x.pushShadow(de))}),V!==fe&&V.traverseVisible(function(de){de.isLight&&de.layers.test(ce.layers)&&(x.pushLight(de),de.castShadow&&x.pushShadow(de))}),x.setupLights(w._useLegacyLights);const ge=new Set;return V.traverse(function(de){const Ne=de.material;if(Ne)if(Array.isArray(Ne))for(let nt=0;nt<Ne.length;nt++){const ct=Ne[nt];xe(ct,fe,de),ge.add(ct)}else xe(Ne,fe,de),ge.add(Ne)}),_.pop(),x=null,ge},this.compileAsync=function(V,ce,fe=null){const ge=this.compile(V,ce,fe);return new Promise(de=>{function Ne(){if(ge.forEach(function(nt){Xe.get(nt).currentProgram.isReady()&&ge.delete(nt)}),ge.size===0){de(V);return}setTimeout(Ne,10)}Te.get("KHR_parallel_shader_compile")!==null?Ne():setTimeout(Ne,10)})};let _e=null;function Ee(V){_e&&_e(V)}function ft(){Ye.stop()}function $e(){Ye.start()}const Ye=new JN;Ye.setAnimationLoop(Ee),typeof self<"u"&&Ye.setContext(self),this.setAnimationLoop=function(V){_e=V,Y.setAnimationLoop(V),V===null?Ye.stop():Ye.start()},Y.addEventListener("sessionstart",ft),Y.addEventListener("sessionend",$e),this.render=function(V,ce){if(ce!==void 0&&ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),ce.parent===null&&ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),Y.enabled===!0&&Y.isPresenting===!0&&(Y.cameraAutoUpdate===!0&&Y.updateCamera(ce),ce=Y.getCamera()),V.isScene===!0&&V.onBeforeRender(w,V,ce,N),x=ht.get(V,_.length),x.init(),_.push(x),Re.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),ee.setFromProjectionMatrix(Re),Le=this.localClippingEnabled,le=bt.init(this.clippingPlanes,Le),b=Ge.get(V,g.length),b.init(),g.push(b),it(V,ce,0,w.sortObjects),b.finish(),w.sortObjects===!0&&b.sort(D,F),this.info.render.frame++,le===!0&&bt.beginShadows();const fe=x.state.shadowsArray;if(Oe.render(fe,V,ce),le===!0&&bt.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ft.render(b,V),x.setupLights(w._useLegacyLights),ce.isArrayCamera){const ge=ce.cameras;for(let de=0,Ne=ge.length;de<Ne;de++){const nt=ge[de];gt(b,V,nt,nt.viewport)}}else gt(b,V,ce);N!==null&&(j.updateMultisampleRenderTarget(N),j.updateRenderTargetMipmap(N)),V.isScene===!0&&V.onAfterRender(w,V,ce),mt.resetDefaultState(),O=-1,P=null,_.pop(),_.length>0?x=_[_.length-1]:x=null,g.pop(),g.length>0?b=g[g.length-1]:b=null};function it(V,ce,fe,ge){if(V.visible===!1)return;if(V.layers.test(ce.layers)){if(V.isGroup)fe=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(ce);else if(V.isLight)x.pushLight(V),V.castShadow&&x.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||ee.intersectsSprite(V)){ge&&Qe.setFromMatrixPosition(V.matrixWorld).applyMatrix4(Re);const Ne=ze.update(V),nt=V.material;nt.visible&&b.push(V,Ne,nt,fe,Qe.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||ee.intersectsObject(V))){const Ne=ze.update(V),nt=V.material;if(ge&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),Qe.copy(V.boundingSphere.center)):(Ne.boundingSphere===null&&Ne.computeBoundingSphere(),Qe.copy(Ne.boundingSphere.center)),Qe.applyMatrix4(V.matrixWorld).applyMatrix4(Re)),Array.isArray(nt)){const ct=Ne.groups;for(let ot=0,yt=ct.length;ot<yt;ot++){const Et=ct[ot],Pt=nt[Et.materialIndex];Pt&&Pt.visible&&b.push(V,Ne,Pt,fe,Qe.z,Et)}}else nt.visible&&b.push(V,Ne,nt,fe,Qe.z,null)}}const de=V.children;for(let Ne=0,nt=de.length;Ne<nt;Ne++)it(de[Ne],ce,fe,ge)}function gt(V,ce,fe,ge){const de=V.opaque,Ne=V.transmissive,nt=V.transparent;x.setupLightsView(fe),le===!0&&bt.setGlobalState(w.clippingPlanes,fe),Ne.length>0&&Wt(de,Ne,ce,fe),ge&&Fe.viewport(I.copy(ge)),de.length>0&&Gt(de,ce,fe),Ne.length>0&&Gt(Ne,ce,fe),nt.length>0&&Gt(nt,ce,fe),Fe.buffers.depth.setTest(!0),Fe.buffers.depth.setMask(!0),Fe.buffers.color.setMask(!0),Fe.setPolygonOffset(!1)}function Wt(V,ce,fe,ge){if((fe.isScene===!0?fe.overrideMaterial:null)!==null)return;const de=Se.isWebGL2;Ce===null&&(Ce=new ma(1,1,{generateMipmaps:!0,type:Te.has("EXT_color_buffer_half_float")?Vr:Fa,minFilter:Io,samples:de?4:0})),w.getDrawingBufferSize(tt),de?Ce.setSize(tt.x,tt.y):Ce.setSize(C0(tt.x),C0(tt.y));const Ne=w.getRenderTarget();w.setRenderTarget(Ce),w.getClearColor(se),$=w.getClearAlpha(),$<1&&w.setClearColor(16777215,.5),w.clear();const nt=w.toneMapping;w.toneMapping=za,Gt(V,fe,ge),j.updateMultisampleRenderTarget(Ce),j.updateRenderTargetMipmap(Ce);let ct=!1;for(let ot=0,yt=ce.length;ot<yt;ot++){const Et=ce[ot],Pt=Et.object,In=Et.geometry,nn=Et.material,An=Et.group;if(nn.side===Vi&&Pt.layers.test(ge.layers)){const zt=nn.side;nn.side=Wr,nn.needsUpdate=!0,qt(Pt,fe,ge,In,nn,An),nn.side=zt,nn.needsUpdate=!0,ct=!0}}ct===!0&&(j.updateMultisampleRenderTarget(Ce),j.updateRenderTargetMipmap(Ce)),w.setRenderTarget(Ne),w.setClearColor(se,$),w.toneMapping=nt}function Gt(V,ce,fe){const ge=ce.isScene===!0?ce.overrideMaterial:null;for(let de=0,Ne=V.length;de<Ne;de++){const nt=V[de],ct=nt.object,ot=nt.geometry,yt=ge===null?nt.material:ge,Et=nt.group;ct.layers.test(fe.layers)&&qt(ct,ce,fe,ot,yt,Et)}}function qt(V,ce,fe,ge,de,Ne){V.onBeforeRender(w,ce,fe,ge,de,Ne),V.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),de.onBeforeRender(w,ce,fe,ge,V,Ne),de.transparent===!0&&de.side===Vi&&de.forceSinglePass===!1?(de.side=Wr,de.needsUpdate=!0,w.renderBufferDirect(fe,ce,ge,de,V,Ne),de.side=As,de.needsUpdate=!0,w.renderBufferDirect(fe,ce,ge,de,V,Ne),de.side=Vi):w.renderBufferDirect(fe,ce,ge,de,V,Ne),V.onAfterRender(w,ce,fe,ge,de,Ne)}function mn(V,ce,fe){ce.isScene!==!0&&(ce=Ue);const ge=Xe.get(V),de=x.state.lights,Ne=x.state.shadowsArray,nt=de.state.version,ct=rt.getParameters(V,de.state,Ne,ce,fe),ot=rt.getProgramCacheKey(ct);let yt=ge.programs;ge.environment=V.isMeshStandardMaterial?ce.environment:null,ge.fog=ce.fog,ge.envMap=(V.isMeshStandardMaterial?me:U).get(V.envMap||ge.environment),yt===void 0&&(V.addEventListener("dispose",ue),yt=new Map,ge.programs=yt);let Et=yt.get(ot);if(Et!==void 0){if(ge.currentProgram===Et&&ge.lightsStateVersion===nt)return Rr(V,ct),Et}else ct.uniforms=rt.getUniforms(V),V.onBuild(fe,ct,w),V.onBeforeCompile(ct,w),Et=rt.acquireProgram(ct,ot),yt.set(ot,Et),ge.uniforms=ct.uniforms;const Pt=ge.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Pt.clippingPlanes=bt.uniform),Rr(V,ct),ge.needsLights=hi(V),ge.lightsStateVersion=nt,ge.needsLights&&(Pt.ambientLightColor.value=de.state.ambient,Pt.lightProbe.value=de.state.probe,Pt.directionalLights.value=de.state.directional,Pt.directionalLightShadows.value=de.state.directionalShadow,Pt.spotLights.value=de.state.spot,Pt.spotLightShadows.value=de.state.spotShadow,Pt.rectAreaLights.value=de.state.rectArea,Pt.ltc_1.value=de.state.rectAreaLTC1,Pt.ltc_2.value=de.state.rectAreaLTC2,Pt.pointLights.value=de.state.point,Pt.pointLightShadows.value=de.state.pointShadow,Pt.hemisphereLights.value=de.state.hemi,Pt.directionalShadowMap.value=de.state.directionalShadowMap,Pt.directionalShadowMatrix.value=de.state.directionalShadowMatrix,Pt.spotShadowMap.value=de.state.spotShadowMap,Pt.spotLightMatrix.value=de.state.spotLightMatrix,Pt.spotLightMap.value=de.state.spotLightMap,Pt.pointShadowMap.value=de.state.pointShadowMap,Pt.pointShadowMatrix.value=de.state.pointShadowMatrix),ge.currentProgram=Et,ge.uniformsList=null,Et}function $t(V){if(V.uniformsList===null){const ce=V.currentProgram.getUniforms();V.uniformsList=Xg.seqWithValue(ce.seq,V.uniforms)}return V.uniformsList}function Rr(V,ce){const fe=Xe.get(V);fe.outputColorSpace=ce.outputColorSpace,fe.batching=ce.batching,fe.instancing=ce.instancing,fe.instancingColor=ce.instancingColor,fe.skinning=ce.skinning,fe.morphTargets=ce.morphTargets,fe.morphNormals=ce.morphNormals,fe.morphColors=ce.morphColors,fe.morphTargetsCount=ce.morphTargetsCount,fe.numClippingPlanes=ce.numClippingPlanes,fe.numIntersection=ce.numClipIntersection,fe.vertexAlphas=ce.vertexAlphas,fe.vertexTangents=ce.vertexTangents,fe.toneMapping=ce.toneMapping}function Wn(V,ce,fe,ge,de){ce.isScene!==!0&&(ce=Ue),j.resetTextureUnits();const Ne=ce.fog,nt=ge.isMeshStandardMaterial?ce.environment:null,ct=N===null?w.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Va,ot=(ge.isMeshStandardMaterial?me:U).get(ge.envMap||nt),yt=ge.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,Et=!!fe.attributes.tangent&&(!!ge.normalMap||ge.anisotropy>0),Pt=!!fe.morphAttributes.position,In=!!fe.morphAttributes.normal,nn=!!fe.morphAttributes.color;let An=za;ge.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(An=w.toneMapping);const zt=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,_t=zt!==void 0?zt.length:0,St=Xe.get(ge),On=x.state.lights;if(le===!0&&(Le===!0||V!==P)){const Nr=V===P&&ge.id===O;bt.setState(ge,V,Nr)}let er=!1;ge.version===St.__version?(St.needsLights&&St.lightsStateVersion!==On.state.version||St.outputColorSpace!==ct||de.isBatchedMesh&&St.batching===!1||!de.isBatchedMesh&&St.batching===!0||de.isInstancedMesh&&St.instancing===!1||!de.isInstancedMesh&&St.instancing===!0||de.isSkinnedMesh&&St.skinning===!1||!de.isSkinnedMesh&&St.skinning===!0||de.isInstancedMesh&&St.instancingColor===!0&&de.instanceColor===null||de.isInstancedMesh&&St.instancingColor===!1&&de.instanceColor!==null||St.envMap!==ot||ge.fog===!0&&St.fog!==Ne||St.numClippingPlanes!==void 0&&(St.numClippingPlanes!==bt.numPlanes||St.numIntersection!==bt.numIntersection)||St.vertexAlphas!==yt||St.vertexTangents!==Et||St.morphTargets!==Pt||St.morphNormals!==In||St.morphColors!==nn||St.toneMapping!==An||Se.isWebGL2===!0&&St.morphTargetsCount!==_t)&&(er=!0):(er=!0,St.__version=ge.version);let Lr=St.currentProgram;er===!0&&(Lr=mn(ge,ce,de));let qa=!1,Dn=!1,Os=!1;const Gn=Lr.getUniforms(),_a=St.uniforms;if(Fe.useProgram(Lr.program)&&(qa=!0,Dn=!0,Os=!0),ge.id!==O&&(O=ge.id,Dn=!0),qa||P!==V){Gn.setValue(Q,"projectionMatrix",V.projectionMatrix),Gn.setValue(Q,"viewMatrix",V.matrixWorldInverse);const Nr=Gn.map.cameraPosition;Nr!==void 0&&Nr.setValue(Q,Qe.setFromMatrixPosition(V.matrixWorld)),Se.logarithmicDepthBuffer&&Gn.setValue(Q,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial)&&Gn.setValue(Q,"isOrthographic",V.isOrthographicCamera===!0),P!==V&&(P=V,Dn=!0,Os=!0)}if(de.isSkinnedMesh){Gn.setOptional(Q,de,"bindMatrix"),Gn.setOptional(Q,de,"bindMatrixInverse");const Nr=de.skeleton;Nr&&(Se.floatVertexTextures?(Nr.boneTexture===null&&Nr.computeBoneTexture(),Gn.setValue(Q,"boneTexture",Nr.boneTexture,j)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}de.isBatchedMesh&&(Gn.setOptional(Q,de,"batchingTexture"),Gn.setValue(Q,"batchingTexture",de._matricesTexture,j));const Ds=fe.morphAttributes;if((Ds.position!==void 0||Ds.normal!==void 0||Ds.color!==void 0&&Se.isWebGL2===!0)&&wt.update(de,fe,Lr),(Dn||St.receiveShadow!==de.receiveShadow)&&(St.receiveShadow=de.receiveShadow,Gn.setValue(Q,"receiveShadow",de.receiveShadow)),ge.isMeshGouraudMaterial&&ge.envMap!==null&&(_a.envMap.value=ot,_a.flipEnvMap.value=ot.isCubeTexture&&ot.isRenderTargetTexture===!1?-1:1),Dn&&(Gn.setValue(Q,"toneMappingExposure",w.toneMappingExposure),St.needsLights&&_n(_a,Os),Ne&&ge.fog===!0&&je.refreshFogUniforms(_a,Ne),je.refreshMaterialUniforms(_a,ge,ie,ne,Ce),Xg.upload(Q,$t(St),_a,j)),ge.isShaderMaterial&&ge.uniformsNeedUpdate===!0&&(Xg.upload(Q,$t(St),_a,j),ge.uniformsNeedUpdate=!1),ge.isSpriteMaterial&&Gn.setValue(Q,"center",de.center),Gn.setValue(Q,"modelViewMatrix",de.modelViewMatrix),Gn.setValue(Q,"normalMatrix",de.normalMatrix),Gn.setValue(Q,"modelMatrix",de.matrixWorld),ge.isShaderMaterial||ge.isRawShaderMaterial){const Nr=ge.uniformsGroups;for(let kr=0,Hv=Nr.length;kr<Hv;kr++)if(Se.isWebGL2){const df=Nr[kr];k.update(df,Lr),k.bind(df,Lr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Lr}function _n(V,ce){V.ambientLightColor.needsUpdate=ce,V.lightProbe.needsUpdate=ce,V.directionalLights.needsUpdate=ce,V.directionalLightShadows.needsUpdate=ce,V.pointLights.needsUpdate=ce,V.pointLightShadows.needsUpdate=ce,V.spotLights.needsUpdate=ce,V.spotLightShadows.needsUpdate=ce,V.rectAreaLights.needsUpdate=ce,V.hemisphereLights.needsUpdate=ce}function hi(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(V,ce,fe){Xe.get(V.texture).__webglTexture=ce,Xe.get(V.depthTexture).__webglTexture=fe;const ge=Xe.get(V);ge.__hasExternalTextures=!0,ge.__hasExternalTextures&&(ge.__autoAllocateDepthBuffer=fe===void 0,ge.__autoAllocateDepthBuffer||Te.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ge.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(V,ce){const fe=Xe.get(V);fe.__webglFramebuffer=ce,fe.__useDefaultFramebuffer=ce===void 0},this.setRenderTarget=function(V,ce=0,fe=0){N=V,C=ce,A=fe;let ge=!0,de=null,Ne=!1,nt=!1;if(V){const ct=Xe.get(V);ct.__useDefaultFramebuffer!==void 0?(Fe.bindFramebuffer(Q.FRAMEBUFFER,null),ge=!1):ct.__webglFramebuffer===void 0?j.setupRenderTarget(V):ct.__hasExternalTextures&&j.rebindTextures(V,Xe.get(V.texture).__webglTexture,Xe.get(V.depthTexture).__webglTexture);const ot=V.texture;(ot.isData3DTexture||ot.isDataArrayTexture||ot.isCompressedArrayTexture)&&(nt=!0);const yt=Xe.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(yt[ce])?de=yt[ce][fe]:de=yt[ce],Ne=!0):Se.isWebGL2&&V.samples>0&&j.useMultisampledRTT(V)===!1?de=Xe.get(V).__webglMultisampledFramebuffer:Array.isArray(yt)?de=yt[fe]:de=yt,I.copy(V.viewport),H.copy(V.scissor),q=V.scissorTest}else I.copy(W).multiplyScalar(ie).floor(),H.copy(K).multiplyScalar(ie).floor(),q=re;if(Fe.bindFramebuffer(Q.FRAMEBUFFER,de)&&Se.drawBuffers&&ge&&Fe.drawBuffers(V,de),Fe.viewport(I),Fe.scissor(H),Fe.setScissorTest(q),Ne){const ct=Xe.get(V.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+ce,ct.__webglTexture,fe)}else if(nt){const ct=Xe.get(V.texture),ot=ce||0;Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,ct.__webglTexture,fe||0,ot)}O=-1},this.readRenderTargetPixels=function(V,ce,fe,ge,de,Ne,nt){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ct=Xe.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&nt!==void 0&&(ct=ct[nt]),ct){Fe.bindFramebuffer(Q.FRAMEBUFFER,ct);try{const ot=V.texture,yt=ot.format,Et=ot.type;if(yt!==Ar&&Ke.convert(yt)!==Q.getParameter(Q.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Pt=Et===Vr&&(Te.has("EXT_color_buffer_half_float")||Se.isWebGL2&&Te.has("EXT_color_buffer_float"));if(Et!==Fa&&Ke.convert(Et)!==Q.getParameter(Q.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Et===ur&&(Se.isWebGL2||Te.has("OES_texture_float")||Te.has("WEBGL_color_buffer_float")))&&!Pt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce>=0&&ce<=V.width-ge&&fe>=0&&fe<=V.height-de&&Q.readPixels(ce,fe,ge,de,Ke.convert(yt),Ke.convert(Et),Ne)}finally{const ot=N!==null?Xe.get(N).__webglFramebuffer:null;Fe.bindFramebuffer(Q.FRAMEBUFFER,ot)}}},this.copyFramebufferToTexture=function(V,ce,fe=0){const ge=Math.pow(2,-fe),de=Math.floor(ce.image.width*ge),Ne=Math.floor(ce.image.height*ge);j.setTexture2D(ce,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,fe,0,0,V.x,V.y,de,Ne),Fe.unbindTexture()},this.copyTextureToTexture=function(V,ce,fe,ge=0){const de=ce.image.width,Ne=ce.image.height,nt=Ke.convert(fe.format),ct=Ke.convert(fe.type);j.setTexture2D(fe,0),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,fe.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,fe.unpackAlignment),ce.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,ge,V.x,V.y,de,Ne,nt,ct,ce.image.data):ce.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,ge,V.x,V.y,ce.mipmaps[0].width,ce.mipmaps[0].height,nt,ce.mipmaps[0].data):Q.texSubImage2D(Q.TEXTURE_2D,ge,V.x,V.y,nt,ct,ce.image),ge===0&&fe.generateMipmaps&&Q.generateMipmap(Q.TEXTURE_2D),Fe.unbindTexture()},this.copyTextureToTexture3D=function(V,ce,fe,ge,de=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ne=V.max.x-V.min.x+1,nt=V.max.y-V.min.y+1,ct=V.max.z-V.min.z+1,ot=Ke.convert(ge.format),yt=Ke.convert(ge.type);let Et;if(ge.isData3DTexture)j.setTexture3D(ge,0),Et=Q.TEXTURE_3D;else if(ge.isDataArrayTexture||ge.isCompressedArrayTexture)j.setTexture2DArray(ge,0),Et=Q.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,ge.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ge.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,ge.unpackAlignment);const Pt=Q.getParameter(Q.UNPACK_ROW_LENGTH),In=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),nn=Q.getParameter(Q.UNPACK_SKIP_PIXELS),An=Q.getParameter(Q.UNPACK_SKIP_ROWS),zt=Q.getParameter(Q.UNPACK_SKIP_IMAGES),_t=fe.isCompressedTexture?fe.mipmaps[de]:fe.image;Q.pixelStorei(Q.UNPACK_ROW_LENGTH,_t.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,_t.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,V.min.x),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,V.min.y),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,V.min.z),fe.isDataTexture||fe.isData3DTexture?Q.texSubImage3D(Et,de,ce.x,ce.y,ce.z,Ne,nt,ct,ot,yt,_t.data):fe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(Et,de,ce.x,ce.y,ce.z,Ne,nt,ct,ot,_t.data)):Q.texSubImage3D(Et,de,ce.x,ce.y,ce.z,Ne,nt,ct,ot,yt,_t),Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Pt),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,In),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,nn),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,An),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,zt),de===0&&ge.generateMipmaps&&Q.generateMipmap(Et),Fe.unbindTexture()},this.initTexture=function(V){V.isCubeTexture?j.setTextureCube(V,0):V.isData3DTexture?j.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?j.setTexture2DArray(V,0):j.setTexture2D(V,0),Fe.unbindTexture()},this.resetState=function(){C=0,A=0,N=null,Fe.reset(),mt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return da}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===pv?"display-p3":"srgb",n.unpackColorSpace=Yt.workingColorSpace===qp?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Yn?Ao:sS}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Ao?Yn:Va}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}};class ok extends bS{}ok.prototype.isWebGL1Renderer=!0;let lk=class ck{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new et(e),this.density=n}clone(){return new ck(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}},uk=class dk{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new et(e),this.near=n,this.far=r}clone(){return new dk(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}},xp=class extends Jt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}},gv=class{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=vp,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Mi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Mi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Mi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}};const Dr=new G;let bp=class hk{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Dr.fromBufferAttribute(this,n),Dr.applyMatrix4(e),this.setXYZ(n,Dr.x,Dr.y,Dr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Dr.fromBufferAttribute(this,n),Dr.applyNormalMatrix(e),this.setXYZ(n,Dr.x,Dr.y,Dr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Dr.fromBufferAttribute(this,n),Dr.transformDirection(e),this.setXYZ(n,Dr.x,Dr.y,Dr.z);return this}setX(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ri(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ri(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ri(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ri(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array),a=Nt(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new Qt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new hk(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},wS=class extends pr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},Wc;const Xd=new G,Gc=new G,qc=new G,Xc=new Ie,Yd=new Ie,pk=new Mt,Vm=new G,Zd=new G,Hm=new G,fA=new Ie,V1=new Ie,mA=new Ie;class fk extends Jt{constructor(e=new wS){if(super(),this.isSprite=!0,this.type="Sprite",Wc===void 0){Wc=new Ot;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new gv(n,5);Wc.setIndex([0,1,2,0,2,3]),Wc.setAttribute("position",new bp(r,3,0,!1)),Wc.setAttribute("uv",new bp(r,2,3,!1))}this.geometry=Wc,this.material=e,this.center=new Ie(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Gc.setFromMatrixScale(this.matrixWorld),pk.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),qc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Gc.multiplyScalar(-qc.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const s=this.center;Wm(Vm.set(-.5,-.5,0),qc,s,Gc,i,a),Wm(Zd.set(.5,-.5,0),qc,s,Gc,i,a),Wm(Hm.set(.5,.5,0),qc,s,Gc,i,a),fA.set(0,0),V1.set(1,0),mA.set(1,1);let o=e.ray.intersectTriangle(Vm,Zd,Hm,!1,Xd);if(o===null&&(Wm(Zd.set(-.5,.5,0),qc,s,Gc,i,a),V1.set(0,1),o=e.ray.intersectTriangle(Vm,Hm,Zd,!1,Xd),o===null))return;const l=e.ray.origin.distanceTo(Xd);l<e.near||l>e.far||n.push({distance:l,point:Xd.clone(),uv:Ul.getInterpolation(Xd,Vm,Zd,Hm,fA,V1,mA,new Ie),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Wm(t,e,n,r,i,a){Xc.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Yd.x=a*Xc.x-i*Xc.y,Yd.y=i*Xc.x+a*Xc.y):Yd.copy(Xc),t.copy(e),t.x+=Yd.x,t.y+=Yd.y,t.applyMatrix4(pk)}const Gm=new G,gA=new G;class mk extends Jt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let a;for(a=0;a<i.length&&!(n<i[a].distance);a++);return i.splice(a,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),e<a)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Gm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Gm);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Gm.setFromMatrixPosition(e.matrixWorld),gA.setFromMatrixPosition(this.matrixWorld);const r=Gm.distanceTo(gA)/e.zoom;n[0].object.visible=!0;let i,a;for(i=1,a=n.length;i<a;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),r>=s)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const s=r[i];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const vA=new G,yA=new tn,xA=new tn,qH=new G,bA=new Mt,qm=new G,H1=new Cr,wA=new Mt,W1=new ld;class gk extends Vn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Nb,this.bindMatrix=new Mt,this.bindMatrixInverse=new Mt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Gr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,qm),this.boundingBox.expandByPoint(qm)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Cr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,qm),this.boundingSphere.expandByPoint(qm)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),H1.copy(this.boundingSphere),H1.applyMatrix4(i),e.ray.intersectsSphere(H1)!==!1&&(wA.copy(i).invert(),W1.copy(e.ray).applyMatrix4(wA),!(this.boundingBox!==null&&W1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,W1)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new tn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Nb?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===yN?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;yA.fromBufferAttribute(i.attributes.skinIndex,e),xA.fromBufferAttribute(i.attributes.skinWeight,e),vA.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const s=xA.getComponent(a);if(s!==0){const o=yA.getComponent(a);bA.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(qH.copy(vA).applyMatrix4(bA),s)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}let _S=class extends Jt{constructor(){super(),this.isBone=!0,this.type="Bone"}},ql=class extends or{constructor(e=null,n=1,r=1,i,a,s,o,l,c=Ln,h=Ln,p,m){super(null,s,o,l,c,h,i,a,p,m),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};const _A=new Mt,XH=new Mt;let vk=class yk{constructor(e=[],n=[]){this.uuid=Mi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Mt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Mt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:XH;_A.multiplyMatrices(o,n[a]),_A.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new yk(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new ql(n,e,e,Ar,ur);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let s=n[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new _S),this.bones.push(s),this.boneInverses.push(new Mt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,a=n.length;i<a;i++){const s=n[i];e.bones.push(s.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}},Zu=class extends Qt{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}};const Yc=new Mt,SA=new Mt,Xm=[],MA=new Gr,YH=new Mt,Qd=new Vn,Jd=new Cr;class xk extends Vn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Zu(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,YH)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Gr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Yc),MA.copy(e.boundingBox).applyMatrix4(Yc),this.boundingBox.union(MA)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Cr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Yc),Jd.copy(e.boundingSphere).applyMatrix4(Yc),this.boundingSphere.union(Jd)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Qd.geometry=this.geometry,Qd.material=this.material,Qd.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Jd.copy(this.boundingSphere),Jd.applyMatrix4(r),e.ray.intersectsSphere(Jd)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,Yc),SA.multiplyMatrices(r,Yc),Qd.matrixWorld=SA,Qd.raycast(e,Xm);for(let s=0,o=Xm.length;s<o;s++){const l=Xm[s];l.instanceId=a,l.object=this,n.push(l)}Xm.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Zu(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function ZH(t,e){return t.z-e.z}function QH(t,e){return e.z-t.z}class JH{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const a=r[this.index];i.push(a),this.index++,a.start=e.start,a.count=e.count,a.z=n}reset(){this.list.length=0,this.index=0}}const Zc="batchId",Qs=new Mt,EA=new Mt,KH=new Mt,TA=new Mt,G1=new Qp,Ym=new Gr,ul=new Cr,Kd=new G,q1=new JH,_r=new Vn,Zm=[];function e8(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let a=0;a<i;a++)for(let s=0;s<r;s++)e.setComponent(a+n,s,t.getComponent(a,s))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class bk extends Vn{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Ot,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new ql(n,e,e,Ar,ur);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const l=e.getAttribute(o),{array:c,itemSize:h,normalized:p}=l,m=new c.constructor(r*h),f=new l.constructor(m,h,p);f.setUsage(l.usage),n.setAttribute(o,f)}if(e.getIndex()!==null){const o=r>65536?new Uint32Array(a):new Uint16Array(a);n.setIndex(new Qt(o,1))}const s=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(Zc,new Qt(s,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Zc))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Zc}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===Zc)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=n.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gr);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Qs),this.getBoundingBoxAt(i,Ym).applyMatrix4(Qs),n.union(Ym))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Cr);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Qs),this.getBoundingSphereAt(i,ul).applyMatrix4(Qs),n.union(ul))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let a=null;const s=this._reservedRanges,o=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(a=s[s.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,a===null?i.vertexStart=0:i.vertexStart=a.vertexStart+a.vertexCount;const c=e.getIndex(),h=c!==null;if(h&&(r===-1?i.indexCount=c.count:i.indexCount=r,a===null?i.indexStart=0:i.indexStart=a.indexStart+a.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const p=this._visibility,m=this._active,f=this._matricesTexture,v=this._matricesTexture.image.data;p.push(!0),m.push(!0);const b=this._geometryCount;this._geometryCount++,KH.toArray(v,b*16),f.needsUpdate=!0,s.push(i),o.push({start:h?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Gr,sphereInitialized:!1,sphere:new Cr});const x=this.geometry.getAttribute(Zc);for(let g=0;g<i.vertexCount;g++)x.setX(i.vertexStart+g,b);return x.needsUpdate=!0,this.setGeometryAt(b,e),b}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),s=n.getIndex(),o=this._reservedRanges[e];if(i&&s.count>o.indexCount||n.attributes.position.count>o.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.vertexCount;for(const f in r.attributes){if(f===Zc)continue;const v=n.getAttribute(f),b=r.getAttribute(f);e8(v,b,l);const x=v.itemSize;for(let g=v.count,_=c;g<_;g++){const w=l+g;for(let M=0;M<x;M++)b.setComponent(w,M,0)}b.needsUpdate=!0}if(i){const f=o.indexStart;for(let v=0;v<s.count;v++)a.setX(f+v,l+s.getX(v));for(let v=s.count,b=o.indexCount;v<b;v++)a.setX(f+v,l);a.needsUpdate=!0}const h=this._bounds[e];n.boundingBox!==null?(h.box.copy(n.boundingBox),h.boxInitialized=!0):h.boxInitialized=!1,n.boundingSphere!==null?(h.sphere.copy(n.boundingSphere),h.sphereInitialized=!0):h.sphereInitialized=!1;const p=this._drawRanges[e],m=n.getAttribute("position");return p.count=i?s.count:m.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const r=this._bounds[e],i=r.box,a=this.geometry;if(r.boxInitialized===!1){i.makeEmpty();const s=a.index,o=a.attributes.position,l=this._drawRanges[e];for(let c=l.start,h=l.start+l.count;c<h;c++){let p=c;s&&(p=s.getX(p)),i.expandByPoint(Kd.fromBufferAttribute(o,p))}r.boxInitialized=!0}return n.copy(i),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const r=this._bounds[e],i=r.sphere,a=this.geometry;if(r.sphereInitialized===!1){i.makeEmpty(),this.getBoundingBoxAt(e,Ym),Ym.getCenter(i.center);const s=a.index,o=a.attributes.position,l=this._drawRanges[e];let c=0;for(let h=l.start,p=l.start+l.count;h<p;h++){let m=h;s&&(m=s.getX(m)),Kd.fromBufferAttribute(o,m),c=Math.max(c,i.center.distanceToSquared(Kd))}i.radius=Math.sqrt(c),r.sphereInitialized=!0}return n.copy(i),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,a=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?this:(n.toArray(a,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,a=this._geometryCount;return e>=a||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,a=this._drawRanges,s=this._geometryCount,o=this.matrixWorld,l=this.geometry;_r.material=this.material,_r.geometry.index=l.index,_r.geometry.attributes=l.attributes,_r.geometry.boundingBox===null&&(_r.geometry.boundingBox=new Gr),_r.geometry.boundingSphere===null&&(_r.geometry.boundingSphere=new Cr);for(let c=0;c<s;c++){if(!r[c]||!i[c])continue;const h=a[c];_r.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(c,_r.matrixWorld).premultiply(o),this.getBoundingBoxAt(c,_r.geometry.boundingBox),this.getBoundingSphereAt(c,_r.geometry.boundingSphere),_r.raycast(e,Zm);for(let p=0,m=Zm.length;p<m;p++){const f=Zm[p];f.object=this,f.batchId=c,n.push(f)}Zm.length=0}_r.material=null,_r.geometry.index=null,_r.geometry.attributes={},_r.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,h=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(TA.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),G1.setFromProjectionMatrix(TA,e.isWebGPURenderer?qu:da));let f=0;if(this.sortObjects){EA.copy(this.matrixWorld).invert(),Kd.setFromMatrixPosition(r.matrixWorld).applyMatrix4(EA);for(let x=0,g=l.length;x<g;x++)if(l[x]){this.getMatrixAt(x,Qs),this.getBoundingSphereAt(x,ul).applyMatrix4(Qs);let _=!1;if(m&&(_=!G1.intersectsSphere(ul)),!_){const w=Kd.distanceTo(ul.center);q1.push(p[x],w)}}const v=q1.list,b=this.customSort;b===null?v.sort(a.transparent?QH:ZH):b.call(this,v,r);for(let x=0,g=v.length;x<g;x++){const _=v[x];c[f]=_.start*o,h[f]=_.count,f++}q1.reset()}else for(let v=0,b=l.length;v<b;v++)if(l[v]){let x=!1;if(m&&(this.getMatrixAt(v,Qs),this.getBoundingSphereAt(v,ul).applyMatrix4(Qs),x=!G1.intersectsSphere(ul)),!x){const g=p[v];c[f]=g.start*o,h[f]=g.count,f++}}this._multiDrawCount=f,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,a,s){this.onBeforeRender(e,null,i,a,s)}}let Yr=class extends pr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}};const AA=new G,CA=new G,PA=new Mt,X1=new ld,Qm=new Cr;let Oo=class extends Jt{constructor(e=new Ot,n=new Yr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)AA.fromBufferAttribute(n,i-1),CA.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=AA.distanceTo(CA);e.setAttribute("lineDistance",new lt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Qm.copy(r.boundingSphere),Qm.applyMatrix4(i),Qm.radius+=a,e.ray.intersectsSphere(Qm)===!1)return;PA.copy(i).invert(),X1.copy(e.ray).applyMatrix4(PA);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new G,h=new G,p=new G,m=new G,f=this.isLineSegments?2:1,v=r.index,b=r.attributes.position;if(v!==null){const x=Math.max(0,s.start),g=Math.min(v.count,s.start+s.count);for(let _=x,w=g-1;_<w;_+=f){const M=v.getX(_),C=v.getX(_+1);if(c.fromBufferAttribute(b,M),h.fromBufferAttribute(b,C),X1.distanceSqToSegment(c,h,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(m);A<e.near||A>e.far||n.push({distance:A,point:p.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,s.start),g=Math.min(b.count,s.start+s.count);for(let _=x,w=g-1;_<w;_+=f){if(c.fromBufferAttribute(b,_),h.fromBufferAttribute(b,_+1),X1.distanceSqToSegment(c,h,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(m);M<e.near||M>e.far||n.push({distance:M,point:p.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,a=r.length;i<a;i++){const s=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=i}}}}};const RA=new G,LA=new G;let Wa=class extends Oo{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)RA.fromBufferAttribute(n,i),LA.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+RA.distanceTo(LA);e.setAttribute("lineDistance",new lt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}};class wk extends Oo{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}let SS=class extends pr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}};const NA=new Mt,uw=new ld,Jm=new Cr,Km=new G;class _k extends Jt{constructor(e=new Ot,n=new SS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Jm.copy(r.boundingSphere),Jm.applyMatrix4(i),Jm.radius+=a,e.ray.intersectsSphere(Jm)===!1)return;NA.copy(i).invert(),uw.copy(e.ray).applyMatrix4(NA);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,s.start),m=Math.min(c.count,s.start+s.count);for(let f=p,v=m;f<v;f++){const b=c.getX(f);Km.fromBufferAttribute(h,b),kA(Km,b,l,i,e,n,this)}}else{const p=Math.max(0,s.start),m=Math.min(h.count,s.start+s.count);for(let f=p,v=m;f<v;f++)Km.fromBufferAttribute(h,f),kA(Km,f,l,i,e,n,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,a=r.length;i<a;i++){const s=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=i}}}}}function kA(t,e,n,r,i,a,s){const o=uw.distanceSqToPoint(t);if(o<n){const l=new G;uw.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:s})}}class t8 extends or{constructor(e,n,r,i,a,s,o,l,c){super(e,n,r,i,a,s,o,l,c),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:un,this.magFilter=a!==void 0?a:un,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class n8 extends or{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Ln,this.minFilter=Ln,this.generateMipmaps=!1,this.needsUpdate=!0}}let vv=class extends or{constructor(e,n,r,i,a,s,o,l,c,h,p,m){super(null,s,o,l,c,h,i,a,p,m),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}};class r8 extends vv{constructor(e,n,r,i,a,s){super(e,n,r,a,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Tr}}class i8 extends vv{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,ja),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class a8 extends or{constructor(e,n,r,i,a,s,o,l,c){super(e,n,r,i,a,s,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}let ba=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),a=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(i),n.push(a),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const a=r.length;let s;n?s=n:s=e*r[a-1];let o=0,l=a-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-s,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(a-1);const h=r[i],p=r[i+1]-h,m=(s-h)/p;return(i+m)/(a-1)}getTangent(e,n){let r=e-1e-4,i=e+1e-4;r<0&&(r=0),i>1&&(i=1);const a=this.getPoint(r),s=this.getPoint(i),o=n||(a.isVector2?new Ie:new G);return o.copy(s).sub(a).normalize(),o}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new G,i=[],a=[],s=[],o=new G,l=new Mt;for(let f=0;f<=e;f++){const v=f/e;i[f]=this.getTangentAt(v,new G)}a[0]=new G,s[0]=new G;let c=Number.MAX_VALUE;const h=Math.abs(i[0].x),p=Math.abs(i[0].y),m=Math.abs(i[0].z);h<=c&&(c=h,r.set(1,0,0)),p<=c&&(c=p,r.set(0,1,0)),m<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let f=1;f<=e;f++){if(a[f]=a[f-1].clone(),s[f]=s[f-1].clone(),o.crossVectors(i[f-1],i[f]),o.length()>Number.EPSILON){o.normalize();const v=Math.acos(Tn(i[f-1].dot(i[f]),-1,1));a[f].applyMatrix4(l.makeRotationAxis(o,v))}s[f].crossVectors(i[f],a[f])}if(n===!0){let f=Math.acos(Tn(a[0].dot(a[e]),-1,1));f/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(f=-f);for(let v=1;v<=e;v++)a[v].applyMatrix4(l.makeRotationAxis(i[v],f*v)),s[v].crossVectors(i[v],a[v])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},yv=class extends ba{constructor(e=0,n=0,r=1,i=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,n){const r=n||new Ie,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),m=l-this.aX,f=c-this.aY;l=m*h-f*p+this.aX,c=m*p+f*h+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}};class Sk extends yv{constructor(e,n,r,i,a,s){super(e,n,r,r,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function MS(){let t=0,e=0,n=0,r=0;function i(a,s,o,l){t=a,e=o,n=-3*a+3*s-2*o-l,r=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,c){i(s,o,c*(o-a),c*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,c,h,p){let m=(s-a)/c-(o-a)/(c+h)+(o-s)/h,f=(o-s)/h-(l-s)/(h+p)+(l-o)/p;m*=h,f*=h,i(s,o,m,f)},calc:function(a){const s=a*a,o=s*a;return t+e*a+n*s+r*o}}}const eg=new G,Y1=new MS,Z1=new MS,Q1=new MS;class Mk extends ba{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new G){const r=n,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let c,h;this.closed||o>0?c=i[(o-1)%a]:(eg.subVectors(i[0],i[1]).add(i[0]),c=eg);const p=i[o%a],m=i[(o+1)%a];if(this.closed||o+2<a?h=i[(o+2)%a]:(eg.subVectors(i[a-1],i[a-2]).add(i[a-1]),h=eg),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(p),f),b=Math.pow(p.distanceToSquared(m),f),x=Math.pow(m.distanceToSquared(h),f);b<1e-4&&(b=1),v<1e-4&&(v=b),x<1e-4&&(x=b),Y1.initNonuniformCatmullRom(c.x,p.x,m.x,h.x,v,b,x),Z1.initNonuniformCatmullRom(c.y,p.y,m.y,h.y,v,b,x),Q1.initNonuniformCatmullRom(c.z,p.z,m.z,h.z,v,b,x)}else this.curveType==="catmullrom"&&(Y1.initCatmullRom(c.x,p.x,m.x,h.x,this.tension),Z1.initCatmullRom(c.y,p.y,m.y,h.y,this.tension),Q1.initCatmullRom(c.z,p.z,m.z,h.z,this.tension));return r.set(Y1.calc(l),Z1.calc(l),Q1.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new G().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function IA(t,e,n,r,i){const a=(r-e)*.5,s=(i-n)*.5,o=t*t,l=t*o;return(2*n-2*r+a+s)*l+(-3*n+3*r-2*a-s)*o+a*t+n}function s8(t,e){const n=1-t;return n*n*e}function o8(t,e){return 2*(1-t)*t*e}function l8(t,e){return t*t*e}function Dh(t,e,n,r){return s8(t,e)+o8(t,n)+l8(t,r)}function c8(t,e){const n=1-t;return n*n*n*e}function u8(t,e){const n=1-t;return 3*n*n*t*e}function d8(t,e){return 3*(1-t)*t*t*e}function h8(t,e){return t*t*t*e}function Uh(t,e,n,r,i){return c8(t,e)+u8(t,n)+d8(t,r)+h8(t,i)}let ES=class extends ba{constructor(e=new Ie,n=new Ie,r=new Ie,i=new Ie){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ie){const r=n,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(Uh(e,i.x,a.x,s.x,o.x),Uh(e,i.y,a.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}};class Ek extends ba{constructor(e=new G,n=new G,r=new G,i=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new G){const r=n,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(Uh(e,i.x,a.x,s.x,o.x),Uh(e,i.y,a.y,s.y,o.y),Uh(e,i.z,a.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}let TS=class extends ba{constructor(e=new Ie,n=new Ie){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ie){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ie){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};class Tk extends ba{constructor(e=new G,n=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new G){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new G){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}let AS=class extends ba{constructor(e=new Ie,n=new Ie,r=new Ie){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ie){const r=n,i=this.v0,a=this.v1,s=this.v2;return r.set(Dh(e,i.x,a.x,s.x),Dh(e,i.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},CS=class extends ba{constructor(e=new G,n=new G,r=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new G){const r=n,i=this.v0,a=this.v1,s=this.v2;return r.set(Dh(e,i.x,a.x,s.x),Dh(e,i.y,a.y,s.y),Dh(e,i.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},PS=class extends ba{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ie){const r=n,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,l=i[s===0?s:s-1],c=i[s],h=i[s>i.length-2?i.length-1:s+1],p=i[s>i.length-3?i.length-1:s+2];return r.set(IA(o,l.x,c.x,h.x,p.x),IA(o,l.y,c.y,h.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ie().fromArray(i))}return this}};var R0=Object.freeze({__proto__:null,ArcCurve:Sk,CatmullRomCurve3:Mk,CubicBezierCurve:ES,CubicBezierCurve3:Ek,EllipseCurve:yv,LineCurve:TS,LineCurve3:Tk,QuadraticBezierCurve:AS,QuadraticBezierCurve3:CS,SplineCurve:PS});class Ak extends ba{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new R0[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const s=i[a]-r,o=this.curves[a],l=o.getLength(),c=l===0?0:1-s/l;return o.getPointAt(c,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let c=0;c<l.length;c++){const h=l[c];r&&r.equals(h)||(n.push(h),r=h)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new R0[i.type]().fromJSON(i))}return this}}let wp=class extends Ak{constructor(e){super(),this.type="Path",this.currentPoint=new Ie,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new TS(this.currentPoint.clone(),new Ie(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const a=new AS(this.currentPoint.clone(),new Ie(e,n),new Ie(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,a,s){const o=new ES(this.currentPoint.clone(),new Ie(e,n),new Ie(r,i),new Ie(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new PS(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,r,i,a,s),this}absarc(e,n,r,i,a,s){return this.absellipse(e,n,r,r,i,a,s),this}ellipse(e,n,r,i,a,s,o,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,n+h,r,i,a,s,o,l),this}absellipse(e,n,r,i,a,s,o,l){const c=new yv(e,n,r,i,a,s,o,l);if(this.curves.length>0){const p=c.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},RS=class Ck extends Ot{constructor(e=[new Ie(0,-.5),new Ie(.5,0),new Ie(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Tn(i,0,Math.PI*2);const a=[],s=[],o=[],l=[],c=[],h=1/n,p=new G,m=new Ie,f=new G,v=new G,b=new G;let x=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,f.x=g*1,f.y=-x,f.z=g*0,b.copy(f),f.normalize(),l.push(f.x,f.y,f.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,f.x=g*1,f.y=-x,f.z=g*0,v.copy(f),f.x+=b.x,f.y+=b.y,f.z+=b.z,f.normalize(),l.push(f.x,f.y,f.z),b.copy(v)}for(let _=0;_<=n;_++){const w=r+_*h*i,M=Math.sin(w),C=Math.cos(w);for(let A=0;A<=e.length-1;A++){p.x=e[A].x*M,p.y=e[A].y,p.z=e[A].x*C,s.push(p.x,p.y,p.z),m.x=_/n,m.y=A/(e.length-1),o.push(m.x,m.y);const N=l[3*A+0]*M,O=l[3*A+1],P=l[3*A+0]*C;c.push(N,O,P)}}for(let _=0;_<n;_++)for(let w=0;w<e.length-1;w++){const M=w+_*e.length,C=M,A=M+e.length,N=M+e.length+1,O=M+1;a.push(C,A,O),a.push(N,O,A)}this.setIndex(a),this.setAttribute("position",new lt(s,3)),this.setAttribute("uv",new lt(o,2)),this.setAttribute("normal",new lt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ck(e.points,e.segments,e.phiStart,e.phiLength)}},Pk=class Rk extends RS{constructor(e=1,n=1,r=4,i=8){const a=new wp;a.absarc(0,-n/2,e,Math.PI*1.5,0),a.absarc(0,n/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new Rk(e.radius,e.length,e.capSegments,e.radialSegments)}},Lk=class Nk extends Ot{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const a=[],s=[],o=[],l=[],c=new G,h=new Ie;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let p=0,m=3;p<=n;p++,m+=3){const f=r+p/n*i;c.x=e*Math.cos(f),c.y=e*Math.sin(f),s.push(c.x,c.y,c.z),o.push(0,0,1),h.x=(s[m]/e+1)/2,h.y=(s[m+1]/e+1)/2,l.push(h.x,h.y)}for(let p=1;p<=n;p++)a.push(p,p+1,0);this.setIndex(a),this.setAttribute("position",new lt(s,3)),this.setAttribute("normal",new lt(o,3)),this.setAttribute("uv",new lt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nk(e.radius,e.segments,e.thetaStart,e.thetaLength)}},xv=class kk extends Ot{constructor(e=1,n=1,r=1,i=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const h=[],p=[],m=[],f=[];let v=0;const b=[],x=r/2;let g=0;_(),s===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(h),this.setAttribute("position",new lt(p,3)),this.setAttribute("normal",new lt(m,3)),this.setAttribute("uv",new lt(f,2));function _(){const M=new G,C=new G;let A=0;const N=(n-e)/r;for(let O=0;O<=a;O++){const P=[],I=O/a,H=I*(n-e)+e;for(let q=0;q<=i;q++){const se=q/i,$=se*l+o,Z=Math.sin($),ne=Math.cos($);C.x=H*Z,C.y=-I*r+x,C.z=H*ne,p.push(C.x,C.y,C.z),M.set(Z,N,ne).normalize(),m.push(M.x,M.y,M.z),f.push(se,1-I),P.push(v++)}b.push(P)}for(let O=0;O<i;O++)for(let P=0;P<a;P++){const I=b[P][O],H=b[P+1][O],q=b[P+1][O+1],se=b[P][O+1];h.push(I,H,se),h.push(H,q,se),A+=6}c.addGroup(g,A,0),g+=A}function w(M){const C=v,A=new Ie,N=new G;let O=0;const P=M===!0?e:n,I=M===!0?1:-1;for(let q=1;q<=i;q++)p.push(0,x*I,0),m.push(0,I,0),f.push(.5,.5),v++;const H=v;for(let q=0;q<=i;q++){const se=q/i*l+o,$=Math.cos(se),Z=Math.sin(se);N.x=P*Z,N.y=x*I,N.z=P*$,p.push(N.x,N.y,N.z),m.push(0,I,0),A.x=$*.5+.5,A.y=Z*.5*I+.5,f.push(A.x,A.y),v++}for(let q=0;q<i;q++){const se=C+q,$=H+q;M===!0?h.push($,$+1,se):h.push($+1,$,se),O+=3}c.addGroup(g,O,M===!0?1:2),g+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kk(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Ik=class Ok extends xv{constructor(e=1,n=1,r=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,n,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new Ok(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},ud=class Dk extends Ot{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const a=[],s=[];o(i),c(r),h(),this.setAttribute("position",new lt(a,3)),this.setAttribute("normal",new lt(a.slice(),3)),this.setAttribute("uv",new lt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(_){const w=new G,M=new G,C=new G;for(let A=0;A<n.length;A+=3)f(n[A+0],w),f(n[A+1],M),f(n[A+2],C),l(w,M,C,_)}function l(_,w,M,C){const A=C+1,N=[];for(let O=0;O<=A;O++){N[O]=[];const P=_.clone().lerp(M,O/A),I=w.clone().lerp(M,O/A),H=A-O;for(let q=0;q<=H;q++)q===0&&O===A?N[O][q]=P:N[O][q]=P.clone().lerp(I,q/H)}for(let O=0;O<A;O++)for(let P=0;P<2*(A-O)-1;P++){const I=Math.floor(P/2);P%2===0?(m(N[O][I+1]),m(N[O+1][I]),m(N[O][I])):(m(N[O][I+1]),m(N[O+1][I+1]),m(N[O+1][I]))}}function c(_){const w=new G;for(let M=0;M<a.length;M+=3)w.x=a[M+0],w.y=a[M+1],w.z=a[M+2],w.normalize().multiplyScalar(_),a[M+0]=w.x,a[M+1]=w.y,a[M+2]=w.z}function h(){const _=new G;for(let w=0;w<a.length;w+=3){_.x=a[w+0],_.y=a[w+1],_.z=a[w+2];const M=x(_)/2/Math.PI+.5,C=g(_)/Math.PI+.5;s.push(M,1-C)}v(),p()}function p(){for(let _=0;_<s.length;_+=6){const w=s[_+0],M=s[_+2],C=s[_+4],A=Math.max(w,M,C),N=Math.min(w,M,C);A>.9&&N<.1&&(w<.2&&(s[_+0]+=1),M<.2&&(s[_+2]+=1),C<.2&&(s[_+4]+=1))}}function m(_){a.push(_.x,_.y,_.z)}function f(_,w){const M=_*3;w.x=e[M+0],w.y=e[M+1],w.z=e[M+2]}function v(){const _=new G,w=new G,M=new G,C=new G,A=new Ie,N=new Ie,O=new Ie;for(let P=0,I=0;P<a.length;P+=9,I+=6){_.set(a[P+0],a[P+1],a[P+2]),w.set(a[P+3],a[P+4],a[P+5]),M.set(a[P+6],a[P+7],a[P+8]),A.set(s[I+0],s[I+1]),N.set(s[I+2],s[I+3]),O.set(s[I+4],s[I+5]),C.copy(_).add(w).add(M).divideScalar(3);const H=x(C);b(A,I+0,_,H),b(N,I+2,w,H),b(O,I+4,M,H)}}function b(_,w,M,C){C<0&&_.x===1&&(s[w]=_.x-1),M.x===0&&M.z===0&&(s[w]=C/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dk(e.vertices,e.indices,e.radius,e.details)}},Uk=class zk extends ud{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new zk(e.radius,e.detail)}};const tg=new G,ng=new G,J1=new G,rg=new Ul;class Fk extends Ot{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),i=Math.cos(Wl*n),a=e.getIndex(),s=e.getAttribute("position"),o=a?a.count:s.count,l=[0,0,0],c=["a","b","c"],h=new Array(3),p={},m=[];for(let f=0;f<o;f+=3){a?(l[0]=a.getX(f),l[1]=a.getX(f+1),l[2]=a.getX(f+2)):(l[0]=f,l[1]=f+1,l[2]=f+2);const{a:v,b,c:x}=rg;if(v.fromBufferAttribute(s,l[0]),b.fromBufferAttribute(s,l[1]),x.fromBufferAttribute(s,l[2]),rg.getNormal(J1),h[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,h[1]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,h[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let g=0;g<3;g++){const _=(g+1)%3,w=h[g],M=h[_],C=rg[c[g]],A=rg[c[_]],N=`${w}_${M}`,O=`${M}_${w}`;O in p&&p[O]?(J1.dot(p[O].normal)<=i&&(m.push(C.x,C.y,C.z),m.push(A.x,A.y,A.z)),p[O]=null):N in p||(p[N]={index0:l[g],index1:l[_],normal:J1.clone()})}}for(const f in p)if(p[f]){const{index0:v,index1:b}=p[f];tg.fromBufferAttribute(s,v),ng.fromBufferAttribute(s,b),m.push(tg.x,tg.y,tg.z),m.push(ng.x,ng.y,ng.z)}this.setAttribute("position",new lt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Xl=class extends wp{constructor(e){super(e),this.uuid=Mi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new wp().fromJSON(i))}return this}};const p8={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let a=Bk(t,0,i,n,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,c,h,p,m,f;if(r&&(a=y8(t,e,a,n)),t.length>80*n){o=c=t[0],l=h=t[1];for(let v=n;v<i;v+=n)p=t[v],m=t[v+1],p<o&&(o=p),m<l&&(l=m),p>c&&(c=p),m>h&&(h=m);f=Math.max(c-o,h-l),f=f!==0?32767/f:0}return _p(a,s,n,o,l,f,0),s}};function Bk(t,e,n,r,i){let a,s;if(i===P8(t,e,n,r)>0)for(a=e;a<n;a+=r)s=OA(a,t[a],t[a+1],s);else for(a=n-r;a>=e;a-=r)s=OA(a,t[a],t[a+1],s);return s&&bv(s,s.next)&&(Mp(s),s=s.next),s}function rc(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(bv(n,n.next)||yn(n.prev,n,n.next)===0)){if(Mp(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function _p(t,e,n,r,i,a,s){if(!t)return;!s&&a&&S8(t,r,i,a);let o=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,a?m8(t,r,i,a):f8(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Mp(t),t=c.next,o=c.next;continue}if(t=c,t===o){s?s===1?(t=g8(rc(t),e,n),_p(t,e,n,r,i,a,2)):s===2&&v8(t,e,n,r,i,a):_p(rc(t),e,n,r,i,a,1);break}}}function f8(t){const e=t.prev,n=t,r=t.next;if(yn(e,n,r)>=0)return!1;const i=e.x,a=n.x,s=r.x,o=e.y,l=n.y,c=r.y,h=i<a?i<s?i:s:a<s?a:s,p=o<l?o<c?o:c:l<c?l:c,m=i>a?i>s?i:s:a>s?a:s,f=o>l?o>c?o:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=h&&v.x<=m&&v.y>=p&&v.y<=f&&Mu(i,o,a,l,s,c,v.x,v.y)&&yn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function m8(t,e,n,r){const i=t.prev,a=t,s=t.next;if(yn(i,a,s)>=0)return!1;const o=i.x,l=a.x,c=s.x,h=i.y,p=a.y,m=s.y,f=o<l?o<c?o:c:l<c?l:c,v=h<p?h<m?h:m:p<m?p:m,b=o>l?o>c?o:c:l>c?l:c,x=h>p?h>m?h:m:p>m?p:m,g=dw(f,v,e,n,r),_=dw(b,x,e,n,r);let w=t.prevZ,M=t.nextZ;for(;w&&w.z>=g&&M&&M.z<=_;){if(w.x>=f&&w.x<=b&&w.y>=v&&w.y<=x&&w!==i&&w!==s&&Mu(o,h,l,p,c,m,w.x,w.y)&&yn(w.prev,w,w.next)>=0||(w=w.prevZ,M.x>=f&&M.x<=b&&M.y>=v&&M.y<=x&&M!==i&&M!==s&&Mu(o,h,l,p,c,m,M.x,M.y)&&yn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;w&&w.z>=g;){if(w.x>=f&&w.x<=b&&w.y>=v&&w.y<=x&&w!==i&&w!==s&&Mu(o,h,l,p,c,m,w.x,w.y)&&yn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;M&&M.z<=_;){if(M.x>=f&&M.x<=b&&M.y>=v&&M.y<=x&&M!==i&&M!==s&&Mu(o,h,l,p,c,m,M.x,M.y)&&yn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function g8(t,e,n){let r=t;do{const i=r.prev,a=r.next.next;!bv(i,a)&&$k(i,r,r.next,a)&&Sp(i,a)&&Sp(a,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(a.i/n|0),Mp(r),Mp(r.next),r=t=a),r=r.next}while(r!==t);return rc(r)}function v8(t,e,n,r,i,a){let s=t;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&T8(s,o)){let l=jk(s,o);s=rc(s,s.next),l=rc(l,l.next),_p(s,e,n,r,i,a,0),_p(l,e,n,r,i,a,0);return}o=o.next}s=s.next}while(s!==t)}function y8(t,e,n,r){const i=[];let a,s,o,l,c;for(a=0,s=e.length;a<s;a++)o=e[a]*r,l=a<s-1?e[a+1]*r:t.length,c=Bk(t,o,l,r,!1),c===c.next&&(c.steiner=!0),i.push(E8(c));for(i.sort(x8),a=0;a<i.length;a++)n=b8(i[a],n);return n}function x8(t,e){return t.x-e.x}function b8(t,e){const n=w8(t,e);if(!n)return e;const r=jk(n,t);return rc(r,r.next),rc(n,n.next)}function w8(t,e){let n=e,r=-1/0,i;const a=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const m=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(m<=a&&m>r&&(r=m,i=n.x<n.next.x?n:n.next,m===a))return i}n=n.next}while(n!==e);if(!i)return null;const o=i,l=i.x,c=i.y;let h=1/0,p;n=i;do a>=n.x&&n.x>=l&&a!==n.x&&Mu(s<c?a:r,s,l,c,s<c?r:a,s,n.x,n.y)&&(p=Math.abs(s-n.y)/(a-n.x),Sp(n,t)&&(p<h||p===h&&(n.x>i.x||n.x===i.x&&_8(i,n)))&&(i=n,h=p)),n=n.next;while(n!==o);return i}function _8(t,e){return yn(t.prev,t,e.prev)<0&&yn(e.next,t,t.next)<0}function S8(t,e,n,r){let i=t;do i.z===0&&(i.z=dw(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,M8(i)}function M8(t){let e,n,r,i,a,s,o,l,c=1;do{for(n=t,t=null,a=null,s=0;n;){for(s++,r=n,o=0,e=0;e<c&&(o++,r=r.nextZ,!!r);e++);for(l=c;o>0||l>0&&r;)o!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,c*=2}while(s>1);return t}function dw(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function E8(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Mu(t,e,n,r,i,a,s,o){return(i-s)*(e-o)>=(t-s)*(a-o)&&(t-s)*(r-o)>=(n-s)*(e-o)&&(n-s)*(a-o)>=(i-s)*(r-o)}function T8(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!A8(t,e)&&(Sp(t,e)&&Sp(e,t)&&C8(t,e)&&(yn(t.prev,t,e.prev)||yn(t,e.prev,e))||bv(t,e)&&yn(t.prev,t,t.next)>0&&yn(e.prev,e,e.next)>0)}function yn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function bv(t,e){return t.x===e.x&&t.y===e.y}function $k(t,e,n,r){const i=ag(yn(t,e,n)),a=ag(yn(t,e,r)),s=ag(yn(n,r,t)),o=ag(yn(n,r,e));return!!(i!==a&&s!==o||i===0&&ig(t,n,e)||a===0&&ig(t,r,e)||s===0&&ig(n,t,r)||o===0&&ig(n,e,r))}function ig(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function ag(t){return t>0?1:t<0?-1:0}function A8(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&$k(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Sp(t,e){return yn(t.prev,t,t.next)<0?yn(t,e,t.next)>=0&&yn(t,t.prev,e)>=0:yn(t,e,t.prev)<0||yn(t,t.next,e)<0}function C8(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function jk(t,e){const n=new hw(t.i,t.x,t.y),r=new hw(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function OA(t,e,n,r){const i=new hw(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Mp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function hw(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P8(t,e,n,r){let i=0;for(let a=e,s=n-r;a<n;a+=r)i+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return i}let Co=class Vk{static area(e){const n=e.length;let r=0;for(let i=n-1,a=0;a<n;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return Vk.area(e)<0}static triangulateShape(e,n){const r=[],i=[],a=[];DA(e),UA(r,e);let s=e.length;n.forEach(DA);for(let l=0;l<n.length;l++)i.push(s),s+=n[l].length,UA(r,n[l]);const o=p8.triangulate(r,i);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}};function DA(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function UA(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}let Hk=class Wk extends Ot{constructor(e=new Xl([new Ie(.5,.5),new Ie(-.5,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];s(c)}this.setAttribute("position",new lt(i,3)),this.setAttribute("uv",new lt(a,2)),this.computeVertexNormals();function s(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1,p=n.depth!==void 0?n.depth:1;let m=n.bevelEnabled!==void 0?n.bevelEnabled:!0,f=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:f-.1,b=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:R8;let w,M=!1,C,A,N,O;g&&(w=g.getSpacedPoints(h),M=!0,m=!1,C=g.computeFrenetFrames(h,!1),A=new G,N=new G,O=new G),m||(x=0,f=0,v=0,b=0);const P=o.extractPoints(c);let I=P.shape;const H=P.holes;if(!Co.isClockWise(I)){I=I.reverse();for(let he=0,Q=H.length;he<Q;he++){const ke=H[he];Co.isClockWise(ke)&&(H[he]=ke.reverse())}}const q=Co.triangulateShape(I,H),se=I;for(let he=0,Q=H.length;he<Q;he++){const ke=H[he];I=I.concat(ke)}function $(he,Q,ke){return Q||console.error("THREE.ExtrudeGeometry: vec does not exist"),he.clone().addScaledVector(Q,ke)}const Z=I.length,ne=q.length;function ie(he,Q,ke){let Te,Se,Fe;const we=he.x-Q.x,Xe=he.y-Q.y,j=ke.x-he.x,U=ke.y-he.y,me=we*we+Xe*Xe,De=we*U-Xe*j;if(Math.abs(De)>Number.EPSILON){const Ae=Math.sqrt(me),ze=Math.sqrt(j*j+U*U),rt=Q.x-Xe/Ae,je=Q.y+we/Ae,Ge=ke.x-U/ze,ht=ke.y+j/ze,bt=((Ge-rt)*U-(ht-je)*j)/(we*U-Xe*j);Te=rt+we*bt-he.x,Se=je+Xe*bt-he.y;const Oe=Te*Te+Se*Se;if(Oe<=2)return new Ie(Te,Se);Fe=Math.sqrt(Oe/2)}else{let Ae=!1;we>Number.EPSILON?j>Number.EPSILON&&(Ae=!0):we<-Number.EPSILON?j<-Number.EPSILON&&(Ae=!0):Math.sign(Xe)===Math.sign(U)&&(Ae=!0),Ae?(Te=-Xe,Se=we,Fe=Math.sqrt(me)):(Te=we,Se=Xe,Fe=Math.sqrt(me/2))}return new Ie(Te/Fe,Se/Fe)}const D=[];for(let he=0,Q=se.length,ke=Q-1,Te=he+1;he<Q;he++,ke++,Te++)ke===Q&&(ke=0),Te===Q&&(Te=0),D[he]=ie(se[he],se[ke],se[Te]);const F=[];let W,K=D.concat();for(let he=0,Q=H.length;he<Q;he++){const ke=H[he];W=[];for(let Te=0,Se=ke.length,Fe=Se-1,we=Te+1;Te<Se;Te++,Fe++,we++)Fe===Se&&(Fe=0),we===Se&&(we=0),W[Te]=ie(ke[Te],ke[Fe],ke[we]);F.push(W),K=K.concat(W)}for(let he=0;he<x;he++){const Q=he/x,ke=f*Math.cos(Q*Math.PI/2),Te=v*Math.sin(Q*Math.PI/2)+b;for(let Se=0,Fe=se.length;Se<Fe;Se++){const we=$(se[Se],D[Se],Te);Ce(we.x,we.y,-ke)}for(let Se=0,Fe=H.length;Se<Fe;Se++){const we=H[Se];W=F[Se];for(let Xe=0,j=we.length;Xe<j;Xe++){const U=$(we[Xe],W[Xe],Te);Ce(U.x,U.y,-ke)}}}const re=v+b;for(let he=0;he<Z;he++){const Q=m?$(I[he],K[he],re):I[he];M?(N.copy(C.normals[0]).multiplyScalar(Q.x),A.copy(C.binormals[0]).multiplyScalar(Q.y),O.copy(w[0]).add(N).add(A),Ce(O.x,O.y,O.z)):Ce(Q.x,Q.y,0)}for(let he=1;he<=h;he++)for(let Q=0;Q<Z;Q++){const ke=m?$(I[Q],K[Q],re):I[Q];M?(N.copy(C.normals[he]).multiplyScalar(ke.x),A.copy(C.binormals[he]).multiplyScalar(ke.y),O.copy(w[he]).add(N).add(A),Ce(O.x,O.y,O.z)):Ce(ke.x,ke.y,p/h*he)}for(let he=x-1;he>=0;he--){const Q=he/x,ke=f*Math.cos(Q*Math.PI/2),Te=v*Math.sin(Q*Math.PI/2)+b;for(let Se=0,Fe=se.length;Se<Fe;Se++){const we=$(se[Se],D[Se],Te);Ce(we.x,we.y,p+ke)}for(let Se=0,Fe=H.length;Se<Fe;Se++){const we=H[Se];W=F[Se];for(let Xe=0,j=we.length;Xe<j;Xe++){const U=$(we[Xe],W[Xe],Te);M?Ce(U.x,U.y+w[h-1].y,w[h-1].x+ke):Ce(U.x,U.y,p+ke)}}}ee(),le();function ee(){const he=i.length/3;if(m){let Q=0,ke=Z*Q;for(let Te=0;Te<ne;Te++){const Se=q[Te];Re(Se[2]+ke,Se[1]+ke,Se[0]+ke)}Q=h+x*2,ke=Z*Q;for(let Te=0;Te<ne;Te++){const Se=q[Te];Re(Se[0]+ke,Se[1]+ke,Se[2]+ke)}}else{for(let Q=0;Q<ne;Q++){const ke=q[Q];Re(ke[2],ke[1],ke[0])}for(let Q=0;Q<ne;Q++){const ke=q[Q];Re(ke[0]+Z*h,ke[1]+Z*h,ke[2]+Z*h)}}r.addGroup(he,i.length/3-he,0)}function le(){const he=i.length/3;let Q=0;Le(se,Q),Q+=se.length;for(let ke=0,Te=H.length;ke<Te;ke++){const Se=H[ke];Le(Se,Q),Q+=Se.length}r.addGroup(he,i.length/3-he,1)}function Le(he,Q){let ke=he.length;for(;--ke>=0;){const Te=ke;let Se=ke-1;Se<0&&(Se=he.length-1);for(let Fe=0,we=h+x*2;Fe<we;Fe++){const Xe=Z*Fe,j=Z*(Fe+1),U=Q+Te+Xe,me=Q+Se+Xe,De=Q+Se+j,Ae=Q+Te+j;tt(U,me,De,Ae)}}}function Ce(he,Q,ke){l.push(he),l.push(Q),l.push(ke)}function Re(he,Q,ke){Qe(he),Qe(Q),Qe(ke);const Te=i.length/3,Se=_.generateTopUV(r,i,Te-3,Te-2,Te-1);Ue(Se[0]),Ue(Se[1]),Ue(Se[2])}function tt(he,Q,ke,Te){Qe(he),Qe(Q),Qe(Te),Qe(Q),Qe(ke),Qe(Te);const Se=i.length/3,Fe=_.generateSideWallUV(r,i,Se-6,Se-3,Se-2,Se-1);Ue(Fe[0]),Ue(Fe[1]),Ue(Fe[3]),Ue(Fe[1]),Ue(Fe[2]),Ue(Fe[3])}function Qe(he){i.push(l[he*3+0]),i.push(l[he*3+1]),i.push(l[he*3+2])}function Ue(he){a.push(he.x),a.push(he.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return L8(n,r,e)}static fromJSON(e,n){const r=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=n[e.shapes[a]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new R0[i.type]().fromJSON(i)),new Wk(r,e.options)}};const R8={generateTopUV:function(t,e,n,r,i){const a=e[n*3],s=e[n*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],h=e[i*3+1];return[new Ie(a,s),new Ie(o,l),new Ie(c,h)]},generateSideWallUV:function(t,e,n,r,i,a){const s=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[r*3],h=e[r*3+1],p=e[r*3+2],m=e[i*3],f=e[i*3+1],v=e[i*3+2],b=e[a*3],x=e[a*3+1],g=e[a*3+2];return Math.abs(o-h)<Math.abs(s-c)?[new Ie(s,1-l),new Ie(c,1-p),new Ie(m,1-v),new Ie(b,1-g)]:[new Ie(o,1-l),new Ie(h,1-p),new Ie(f,1-v),new Ie(x,1-g)]}};function L8(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}let LS=class Gk extends ud{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Gk(e.radius,e.detail)}},NS=class qk extends ud{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new qk(e.radius,e.detail)}},Xk=class Yk extends Ot{constructor(e=.5,n=1,r=32,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],h=[];let p=e;const m=(n-e)/i,f=new G,v=new Ie;for(let b=0;b<=i;b++){for(let x=0;x<=r;x++){const g=a+x/r*s;f.x=p*Math.cos(g),f.y=p*Math.sin(g),l.push(f.x,f.y,f.z),c.push(0,0,1),v.x=(f.x/n+1)/2,v.y=(f.y/n+1)/2,h.push(v.x,v.y)}p+=m}for(let b=0;b<i;b++){const x=b*(r+1);for(let g=0;g<r;g++){const _=g+x,w=_,M=_+r+1,C=_+r+2,A=_+1;o.push(w,M,A),o.push(M,C,A)}}this.setIndex(o),this.setAttribute("position",new lt(l,3)),this.setAttribute("normal",new lt(c,3)),this.setAttribute("uv",new lt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yk(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}},Zk=class Qk extends Ot{constructor(e=new Xl([new Ie(0,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(o,l,h),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new lt(i,3)),this.setAttribute("normal",new lt(a,3)),this.setAttribute("uv",new lt(s,2));function c(h){const p=i.length/3,m=h.extractPoints(n);let f=m.shape;const v=m.holes;Co.isClockWise(f)===!1&&(f=f.reverse());for(let x=0,g=v.length;x<g;x++){const _=v[x];Co.isClockWise(_)===!0&&(v[x]=_.reverse())}const b=Co.triangulateShape(f,v);for(let x=0,g=v.length;x<g;x++){const _=v[x];f=f.concat(_)}for(let x=0,g=f.length;x<g;x++){const _=f[x];i.push(_.x,_.y,0),a.push(0,0,1),s.push(_.x,_.y)}for(let x=0,g=b.length;x<g;x++){const _=b[x],w=_[0]+p,M=_[1]+p,C=_[2]+p;r.push(w,M,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return N8(n,e)}static fromJSON(e,n){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=n[e.shapes[i]];r.push(s)}return new Qk(r,e.curveSegments)}};function N8(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}let kS=class Jk extends Ot{constructor(e=1,n=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let c=0;const h=[],p=new G,m=new G,f=[],v=[],b=[],x=[];for(let g=0;g<=r;g++){const _=[],w=g/r;let M=0;g===0&&s===0?M=.5/n:g===r&&l===Math.PI&&(M=-.5/n);for(let C=0;C<=n;C++){const A=C/n;p.x=-e*Math.cos(i+A*a)*Math.sin(s+w*o),p.y=e*Math.cos(s+w*o),p.z=e*Math.sin(i+A*a)*Math.sin(s+w*o),v.push(p.x,p.y,p.z),m.copy(p).normalize(),b.push(m.x,m.y,m.z),x.push(A+M,1-w),_.push(c++)}h.push(_)}for(let g=0;g<r;g++)for(let _=0;_<n;_++){const w=h[g][_+1],M=h[g][_],C=h[g+1][_],A=h[g+1][_+1];(g!==0||s>0)&&f.push(w,M,A),(g!==r-1||l<Math.PI)&&f.push(M,C,A)}this.setIndex(f),this.setAttribute("position",new lt(v,3)),this.setAttribute("normal",new lt(b,3)),this.setAttribute("uv",new lt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jk(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},Kk=class eI extends ud{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new eI(e.radius,e.detail)}},tI=class nI extends Ot{constructor(e=1,n=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const s=[],o=[],l=[],c=[],h=new G,p=new G,m=new G;for(let f=0;f<=r;f++)for(let v=0;v<=i;v++){const b=v/i*a,x=f/r*Math.PI*2;p.x=(e+n*Math.cos(x))*Math.cos(b),p.y=(e+n*Math.cos(x))*Math.sin(b),p.z=n*Math.sin(x),o.push(p.x,p.y,p.z),h.x=e*Math.cos(b),h.y=e*Math.sin(b),m.subVectors(p,h).normalize(),l.push(m.x,m.y,m.z),c.push(v/i),c.push(f/r)}for(let f=1;f<=r;f++)for(let v=1;v<=i;v++){const b=(i+1)*f+v-1,x=(i+1)*(f-1)+v-1,g=(i+1)*(f-1)+v,_=(i+1)*f+v;s.push(b,x,_),s.push(x,g,_)}this.setIndex(s),this.setAttribute("position",new lt(o,3)),this.setAttribute("normal",new lt(l,3)),this.setAttribute("uv",new lt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nI(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},rI=class iI extends Ot{constructor(e=1,n=.4,r=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:a,q:s},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],h=[],p=new G,m=new G,f=new G,v=new G,b=new G,x=new G,g=new G;for(let w=0;w<=r;++w){const M=w/r*a*Math.PI*2;_(M,a,s,e,f),_(M+.01,a,s,e,v),x.subVectors(v,f),g.addVectors(v,f),b.crossVectors(x,g),g.crossVectors(b,x),b.normalize(),g.normalize();for(let C=0;C<=i;++C){const A=C/i*Math.PI*2,N=-n*Math.cos(A),O=n*Math.sin(A);p.x=f.x+(N*g.x+O*b.x),p.y=f.y+(N*g.y+O*b.y),p.z=f.z+(N*g.z+O*b.z),l.push(p.x,p.y,p.z),m.subVectors(p,f).normalize(),c.push(m.x,m.y,m.z),h.push(w/r),h.push(C/i)}}for(let w=1;w<=r;w++)for(let M=1;M<=i;M++){const C=(i+1)*(w-1)+(M-1),A=(i+1)*w+(M-1),N=(i+1)*w+M,O=(i+1)*(w-1)+M;o.push(C,A,O),o.push(A,N,O)}this.setIndex(o),this.setAttribute("position",new lt(l,3)),this.setAttribute("normal",new lt(c,3)),this.setAttribute("uv",new lt(h,2));function _(w,M,C,A,N){const O=Math.cos(w),P=Math.sin(w),I=C/M*w,H=Math.cos(I);N.x=A*(2+H)*.5*O,N.y=A*(2+H)*P*.5,N.z=A*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iI(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},aI=class sI extends Ot{constructor(e=new CS(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),n=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:a};const s=e.computeFrenetFrames(n,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new G,l=new G,c=new Ie;let h=new G;const p=[],m=[],f=[],v=[];b(),this.setIndex(v),this.setAttribute("position",new lt(p,3)),this.setAttribute("normal",new lt(m,3)),this.setAttribute("uv",new lt(f,2));function b(){for(let w=0;w<n;w++)x(w);x(a===!1?n:0),_(),g()}function x(w){h=e.getPointAt(w/n,h);const M=s.normals[w],C=s.binormals[w];for(let A=0;A<=i;A++){const N=A/i*Math.PI*2,O=Math.sin(N),P=-Math.cos(N);l.x=P*M.x+O*C.x,l.y=P*M.y+O*C.y,l.z=P*M.z+O*C.z,l.normalize(),m.push(l.x,l.y,l.z),o.x=h.x+r*l.x,o.y=h.y+r*l.y,o.z=h.z+r*l.z,p.push(o.x,o.y,o.z)}}function g(){for(let w=1;w<=n;w++)for(let M=1;M<=i;M++){const C=(i+1)*(w-1)+(M-1),A=(i+1)*w+(M-1),N=(i+1)*w+M,O=(i+1)*(w-1)+M;v.push(C,A,O),v.push(A,N,O)}}function _(){for(let w=0;w<=n;w++)for(let M=0;M<=i;M++)c.x=w/n,c.y=M/i,f.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new sI(new R0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}};class oI extends Ot{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new G,a=new G;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,h=l.length;c<h;++c){const p=l[c],m=p.start,f=p.count;for(let v=m,b=m+f;v<b;v+=3)for(let x=0;x<3;x++){const g=o.getX(v+x),_=o.getX(v+(x+1)%3);i.fromBufferAttribute(s,g),a.fromBufferAttribute(s,_),zA(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let c=0;c<3;c++){const h=3*o+c,p=3*o+(c+1)%3;i.fromBufferAttribute(s,h),a.fromBufferAttribute(s,p),zA(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new lt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function zA(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var FA=Object.freeze({__proto__:null,BoxGeometry:Xp,CapsuleGeometry:Pk,CircleGeometry:Lk,ConeGeometry:Ik,CylinderGeometry:xv,DodecahedronGeometry:Uk,EdgesGeometry:Fk,ExtrudeGeometry:Hk,IcosahedronGeometry:LS,LatheGeometry:RS,OctahedronGeometry:NS,PlaneGeometry:mS,PolyhedronGeometry:ud,RingGeometry:Xk,ShapeGeometry:Zk,SphereGeometry:kS,TetrahedronGeometry:Kk,TorusGeometry:tI,TorusKnotGeometry:rI,TubeGeometry:aI,WireframeGeometry:oI});class lI extends pr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class cI extends ga{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}let IS=class extends pr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wo,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}};class uI extends IS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Tn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new et(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}let dI=class extends pr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wo,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},hI=class extends pr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wo,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},pI=class extends pr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wo,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}},fI=class extends pr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wo,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},mI=class extends pr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wo,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}},gI=class extends Yr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}};function Fl(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function vI(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yI(t){function e(i,a){return t[i]-t[a]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function pw(t,e,n){const r=t.length,i=new t.constructor(r);for(let a=0,s=0;s!==r;++a){const o=n[a]*e;for(let l=0;l!==e;++l)i[s++]=t[o+l]}return i}function OS(t,e,n,r){let i=1,a=t[0];for(;a!==void 0&&a[r]===void 0;)a=t[i++];if(a===void 0)return;let s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(e.push(a.time),n.push.apply(n,s)),a=t[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(e.push(a.time),s.toArray(n,n.length)),a=t[i++];while(a!==void 0);else do s=a[r],s!==void 0&&(e.push(a.time),n.push(s)),a=t[i++];while(a!==void 0)}function k8(t,e,n,r,i=30){const a=t.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const c=a.tracks[l],h=c.getValueSize(),p=[],m=[];for(let f=0;f<c.times.length;++f){const v=c.times[f]*i;if(!(v<n||v>=r)){p.push(c.times[f]);for(let b=0;b<h;++b)m.push(c.values[f*h+b])}}p.length!==0&&(c.times=Fl(p,c.times.constructor),c.values=Fl(m,c.values.constructor),s.push(c))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function I8(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,a=e/r;for(let s=0;s<i;++s){const o=n.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===o.name&&g.ValueTypeName===l});if(c===void 0)continue;let h=0;const p=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let m=0;const f=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=f/3);const v=o.times.length-1;let b;if(a<=o.times[0]){const g=h,_=p-h;b=o.values.slice(g,_)}else if(a>=o.times[v]){const g=v*p+h,_=g+p-h;b=o.values.slice(g,_)}else{const g=o.createInterpolant(),_=h,w=p-h;g.evaluate(a),b=g.resultBuffer.slice(_,w)}l==="quaternion"&&new li().fromArray(b).normalize().conjugate().toArray(b);const x=c.times.length;for(let g=0;g<x;++g){const _=g*f+m;if(l==="quaternion")li.multiplyQuaternionsFlat(c.values,_,b,0,c.values,_);else{const w=f-m*2;for(let M=0;M<w;++M)c.values[_+M]-=b[M]}}}return t.blendMode=aS,t}const O8={convertArray:Fl,isTypedArray:vI,getKeyframeOrder:yI,sortedArray:pw,flattenJSON:OS,subclip:k8,makeClipAdditive:I8};let Jp=class{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],a=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<a)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(a=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=a)){const o=n[1];e<o&&(r=2,a=o);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=n[--r-1],e>=a)break t}s=r,r=0;break n}break e}for(;r<s;){const o=r+s>>>1;e<n[o]?s=o:r=o+1}if(i=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)n[s]=r[a+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},xI=class extends Jp{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Il,endingEnd:Il}}intervalChanged_(e,n,r){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],l=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case Ol:a=e,o=2*n-r;break;case pp:a=i.length-2,o=n+i[a]-i[a+1];break;default:a=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ol:s=e,l=2*r-n;break;case pp:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=n}const c=(r-n)*.5,h=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-r),this._offsetPrev=a*h,this._offsetNext=s*h}interpolate_(e,n,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,h=this._offsetPrev,p=this._offsetNext,m=this._weightPrev,f=this._weightNext,v=(r-n)/(i-n),b=v*v,x=b*v,g=-m*x+2*m*b-m*v,_=(1+m)*x+(-1.5-2*m)*b+(-.5+m)*v+1,w=(-1-f)*x+(1.5+f)*b+.5*v,M=f*x-f*b;for(let C=0;C!==o;++C)a[C]=g*s[h+C]+_*s[c+C]+w*s[l+C]+M*s[p+C];return a}},DS=class extends Jp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,h=(r-n)/(i-n),p=1-h;for(let m=0;m!==o;++m)a[m]=s[c+m]*p+s[l+m]*h;return a}},bI=class extends Jp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}},wa=class{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Fl(n,this.TimeBufferType),this.values=Fl(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Fl(e.times,Array),values:Fl(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new bI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new DS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new xI(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case dp:n=this.InterpolantFactoryMethodDiscrete;break;case hp:n=this.InterpolantFactoryMethodLinear;break;case Wg:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return dp;case this.InterpolantFactoryMethodLinear:return hp;case this.InterpolantFactoryMethodSmooth:return Wg}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let a=0,s=i-1;for(;a!==i&&r[a]<e;)++a;for(;s!==-1&&r[s]>n;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=r.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(i!==void 0&&vI(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Wg,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const c=e[o],h=e[o+1];if(c!==h&&(o!==1||c!==e[0]))if(i)l=!0;else{const p=o*r,m=p-r,f=p+r;for(let v=0;v!==r;++v){const b=n[p+v];if(b!==n[m+v]||b!==n[f+v]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const p=o*r,m=s*r;for(let f=0;f!==r;++f)n[m+f]=n[p+f]}++s}}if(a>0){e[s]=e[a];for(let o=a*r,l=s*r,c=0;c!==r;++c)n[l+c]=n[o+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}};wa.prototype.TimeBufferType=Float32Array;wa.prototype.ValueBufferType=Float32Array;wa.prototype.DefaultInterpolation=hp;let uc=class extends wa{};uc.prototype.ValueTypeName="bool";uc.prototype.ValueBufferType=Array;uc.prototype.DefaultInterpolation=dp;uc.prototype.InterpolantFactoryMethodLinear=void 0;uc.prototype.InterpolantFactoryMethodSmooth=void 0;let US=class extends wa{};US.prototype.ValueTypeName="color";let Ep=class extends wa{};Ep.prototype.ValueTypeName="number";let wI=class extends Jp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(r-n)/(i-n);let c=e*o;for(let h=c+o;c!==h;c+=4)li.slerpFlat(a,0,s,c-o,s,c,l);return a}},dd=class extends wa{InterpolantFactoryMethodLinear(e){return new wI(this.times,this.values,this.getValueSize(),e)}};dd.prototype.ValueTypeName="quaternion";dd.prototype.DefaultInterpolation=hp;dd.prototype.InterpolantFactoryMethodSmooth=void 0;let dc=class extends wa{};dc.prototype.ValueTypeName="string";dc.prototype.ValueBufferType=Array;dc.prototype.DefaultInterpolation=dp;dc.prototype.InterpolantFactoryMethodLinear=void 0;dc.prototype.InterpolantFactoryMethodSmooth=void 0;let Tp=class extends wa{};Tp.prototype.ValueTypeName="vector";let Ap=class{constructor(e,n=-1,r,i=hv){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Mi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,o=r.length;s!==o;++s)n.push(U8(r[s]).scale(i));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=r.length;a!==s;++a)n.push(wa.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const a=n.length,s=[];for(let o=0;o<a;o++){let l=[],c=[];l.push((o+a-1)%a,o,(o+1)%a),c.push(0,1,0);const h=yI(l);l=pw(l,1,h),c=pw(c,1,h),!i&&l[0]===0&&(l.push(a),c.push(c[0])),s.push(new Ep(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],h=c.name.match(a);if(h&&h.length>1){const p=h[1];let m=i[p];m||(i[p]=m=[]),m.push(c)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,f,v){if(m.length!==0){const b=[],x=[];OS(m,b,x,f),b.length!==0&&v.push(new h(p,b,x))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let f;for(f=0;f<p.length;f++)if(p[f].morphTargets)for(let v=0;v<p[f].morphTargets.length;v++)m[p[f].morphTargets[v]]=-1;for(const v in m){const b=[],x=[];for(let g=0;g!==p[f].morphTargets.length;++g){const _=p[f];b.push(_.time),x.push(_.morphTarget===v?1:0)}i.push(new Ep(".morphTargetInfluence["+v+"]",b,x))}l=m.length*s}else{const m=".bones["+n[h].name+"]";r(Tp,m+".position",p,"pos",i),r(dd,m+".quaternion",p,"rot",i),r(Tp,m+".scale",p,"scl",i)}}return i.length===0?null:new this(a,l,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function D8(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ep;case"vector":case"vector2":case"vector3":case"vector4":return Tp;case"color":return US;case"quaternion":return dd;case"bool":case"boolean":return uc;case"string":return dc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function U8(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=D8(t.type);if(t.times===void 0){const n=[],r=[];OS(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const vs={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};let zS=class{constructor(e,n,r){const i=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(h){o++,a===!1&&i.onStart!==void 0&&i.onStart(h,s,o),a=!0},this.itemEnd=function(h){s++,i.onProgress!==void 0&&i.onProgress(h,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,p){return c.push(h,p),this},this.removeHandler=function(h){const p=c.indexOf(h);return p!==-1&&c.splice(p,2),this},this.getHandler=function(h){for(let p=0,m=c.length;p<m;p+=2){const f=c[p],v=c[p+1];if(f.global&&(f.lastIndex=0),f.test(h))return v}return null}}};const _I=new zS;let ui=class{constructor(e){this.manager=e!==void 0?e:_I,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,a){r.load(e,i,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};ui.DEFAULT_MATERIAL_NAME="__DEFAULT";const as={};class z8 extends Error{constructor(e,n){super(e),this.response=n}}let Cs=class extends ui{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=vs.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(as[e]!==void 0){as[e].push({onLoad:n,onProgress:r,onError:i});return}as[e]=[],as[e].push({onLoad:n,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=as[e],p=c.body.getReader(),m=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),f=m?parseInt(m):0,v=f!==0;let b=0;const x=new ReadableStream({start(g){_();function _(){p.read().then(({done:w,value:M})=>{if(w)g.close();else{b+=M.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:b,total:f});for(let A=0,N=h.length;A<N;A++){const O=h[A];O.onProgress&&O.onProgress(C)}g.enqueue(M),_()}})}}});return new Response(x)}else throw new z8(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return c.json();default:if(o===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(o),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(f=>m.decode(f))}}}).then(c=>{vs.add(e,c);const h=as[e];delete as[e];for(let p=0,m=h.length;p<m;p++){const f=h[p];f.onLoad&&f.onLoad(c)}}).catch(c=>{const h=as[e];if(h===void 0)throw this.manager.itemError(e),c;delete as[e];for(let p=0,m=h.length;p<m;p++){const f=h[p];f.onError&&f.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}};class F8 extends ui{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new Cs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Ap.parse(e[r]);n.push(i)}return n}}class B8 extends ui{constructor(e){super(e)}load(e,n,r,i){const a=this,s=[],o=new vv,l=new Cs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function h(p){l.load(e[p],function(m){const f=a.parse(m,!0);s[p]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},c+=1,c===6&&(f.mipmapCount===1&&(o.minFilter=un),o.image=s,o.format=f.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let p=0,m=e.length;p<m;++p)h(p);else l.load(e,function(p){const m=a.parse(p,!0);if(m.isCubemap){const f=m.mipmaps.length/m.mipmapCount;for(let v=0;v<f;v++){s[v]={mipmaps:[]};for(let b=0;b<m.mipmapCount;b++)s[v].mipmaps.push(m.mipmaps[v*m.mipmapCount+b]),s[v].format=m.format,s[v].width=m.width,s[v].height=m.height}o.image=s}else o.image.width=m.width,o.image.height=m.height,o.mipmaps=m.mipmaps;m.mipmapCount===1&&(o.minFilter=un),o.format=m.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}let Cp=class extends ui{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=vs.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s;const o=yp("img");function l(){h(),vs.add(e,this),n&&n(this),a.manager.itemEnd(e)}function c(p){h(),i&&i(p),a.manager.itemError(e),a.manager.itemEnd(e)}function h(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}},SI=class extends ui{constructor(e){super(e)}load(e,n,r,i){const a=new Zp;a.colorSpace=Yn;const s=new Cp(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(c){s.load(e[c],function(h){a.images[c]=h,o++,o===6&&(a.needsUpdate=!0,n&&n(a))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return a}},FS=class extends ui{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new ql,o=new Cs(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let c;try{c=a.parse(l)}catch(h){if(i!==void 0)i(h);else{console.error(h);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:Tr,s.wrapT=c.wrapT!==void 0?c.wrapT:Tr,s.magFilter=c.magFilter!==void 0?c.magFilter:un,s.minFilter=c.minFilter!==void 0?c.minFilter:un,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?s.colorSpace=c.colorSpace:c.encoding!==void 0&&(s.encoding=c.encoding),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=Io),c.mipmapCount===1&&(s.minFilter=un),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,n&&n(s,c)},r,i),s}},wv=class extends ui{constructor(e){super(e)}load(e,n,r,i){const a=new or,s=new Cp(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,n!==void 0&&n(a)},r,i),a}},qo=class extends Jt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new et(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}},MI=class extends qo{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Jt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new et(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}};const K1=new Mt,BA=new G,$A=new G;let BS=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ie(512,512),this.map=null,this.mapPass=null,this.matrix=new Mt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Qp,this._frameExtents=new Ie(1,1),this._viewportCount=1,this._viewports=[new tn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;BA.setFromMatrixPosition(e.matrixWorld),n.position.copy(BA),$A.setFromMatrixPosition(e.target.matrixWorld),n.lookAt($A),n.updateMatrixWorld(),K1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(K1),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(K1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}};class $8 extends BS{constructor(){super(new $n(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Xu*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||n.far;(r!==n.fov||i!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=i,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}let EI=class extends qo{constructor(e,n,r=0,i=Math.PI/3,a=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Jt.DEFAULT_UP),this.updateMatrix(),this.target=new Jt,this.distance=r,this.angle=i,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new $8}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};const jA=new Mt,eh=new G,ex=new G;class j8 extends BS{constructor(){super(new $n(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ie(4,2),this._viewportCount=6,this._viewports=[new tn(2,1,1,1),new tn(0,1,1,1),new tn(3,1,1,1),new tn(1,1,1,1),new tn(3,0,1,1),new tn(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),eh.setFromMatrixPosition(e.matrixWorld),r.position.copy(eh),ex.copy(r.position),ex.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(ex),r.updateMatrixWorld(),i.makeTranslation(-eh.x,-eh.y,-eh.z),jA.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jA)}}let TI=class extends qo{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new j8}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}};class V8 extends BS{constructor(){super(new cc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}let AI=class extends qo{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Jt.DEFAULT_UP),this.updateMatrix(),this.target=new Jt,this.shadow=new V8}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},CI=class extends qo{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}},PI=class extends qo{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}},RI=class{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*a),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*a)),n.addScaledVector(s[6],.315392*(3*a*a-1)),n.addScaledVector(s[7],1.092548*(r*a)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*a),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*a),n.addScaledVector(s[6],.743125*a*a-.247708),n.addScaledVector(s[7],2*.429043*r*a),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,a=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*a,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*r*a,n[8]=.546274*(r*r-i*i)}},LI=class extends qo{constructor(e=new RI,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}},NI=class kI extends ui{constructor(e){super(e),this.textures={}}load(e,n,r,i){const a=this,s=new Cs(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(a){return n[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),n[a]}const i=kI.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=r(s.value);break;case"c":i.uniforms[a].value=new et().setHex(s.value);break;case"v2":i.uniforms[a].value=new Ie().fromArray(s.value);break;case"v3":i.uniforms[a].value=new G().fromArray(s.value);break;case"v4":i.uniforms[a].value=new tn().fromArray(s.value);break;case"m3":i.uniforms[a].value=new Dt().fromArray(s.value);break;case"m4":i.uniforms[a].value=new Mt().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Ie().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ie().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:lI,SpriteMaterial:wS,RawShaderMaterial:cI,ShaderMaterial:ga,PointsMaterial:SS,MeshPhysicalMaterial:uI,MeshStandardMaterial:IS,MeshPhongMaterial:dI,MeshToonMaterial:hI,MeshNormalMaterial:pI,MeshLambertMaterial:fI,MeshDepthMaterial:yS,MeshDistanceMaterial:xS,MeshBasicMaterial:Go,MeshMatcapMaterial:mI,LineDashedMaterial:gI,LineBasicMaterial:Yr,Material:pr};return new n[e]}},fw=class{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}},II=class extends Ot{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},OI=class extends ui{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new Cs(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,f){if(n[f]!==void 0)return n[f];const v=m.interleavedBuffers[f],b=a(m,v.buffer),x=bu(v.type,b),g=new gv(x,v.stride);return g.uuid=v.uuid,n[f]=g,g}function a(m,f){if(r[f]!==void 0)return r[f];const v=m.arrayBuffers[f],b=new Uint32Array(v).buffer;return r[f]=b,b}const s=e.isInstancedBufferGeometry?new II:new Ot,o=e.data.index;if(o!==void 0){const m=bu(o.type,o.array);s.setIndex(new Qt(m,1))}const l=e.data.attributes;for(const m in l){const f=l[m];let v;if(f.isInterleavedBufferAttribute){const b=i(e.data,f.data);v=new bp(b,f.itemSize,f.offset,f.normalized)}else{const b=bu(f.type,f.array),x=f.isInstancedBufferAttribute?Zu:Qt;v=new x(b,f.itemSize,f.normalized)}f.name!==void 0&&(v.name=f.name),f.usage!==void 0&&v.setUsage(f.usage),s.setAttribute(m,v)}const c=e.data.morphAttributes;if(c)for(const m in c){const f=c[m],v=[];for(let b=0,x=f.length;b<x;b++){const g=f[b];let _;if(g.isInterleavedBufferAttribute){const w=i(e.data,g.data);_=new bp(w,g.itemSize,g.offset,g.normalized)}else{const w=bu(g.type,g.array);_=new Qt(w,g.itemSize,g.normalized)}g.name!==void 0&&(_.name=g.name),v.push(_)}s.morphAttributes[m]=v}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,f=h.length;m!==f;++m){const v=h[m];s.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new G;p.center!==void 0&&m.fromArray(p.center),s.boundingSphere=new Cr(m,p.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}};class H8 extends ui{constructor(e){super(e)}load(e,n,r,i){const a=this,s=this.path===""?fw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Cs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?fw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Cs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,n),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,l,o,r),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),n!==void 0){let p=!1;for(const m in s)if(s[m].data instanceof HTMLImageElement){p=!0;break}p===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,o,s,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new Xl().fromJSON(e[r]);n[a.uuid]=a}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new vk().fromJSON(e[a],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new OI;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in FA?o=FA[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const a=new NI;a.setTextures(n);for(let s=0,o=e.length;s<o;s++){const l=e[s];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=Ap.parse(i);n[a.uuid]=a}return n}parseImages(e,n){const r=this,i={};let a;function s(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(h)}else return l.data?{data:bu(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new zS(n);a=new Cp(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const p=e[c],m=p.url;if(Array.isArray(m)){const f=[];for(let v=0,b=m.length;v<b;v++){const x=m[v],g=o(x);g!==null&&(g instanceof HTMLImageElement?f.push(g):f.push(new ql(g.data,g.width,g.height)))}i[p.uuid]=new Dl(f)}else{const f=o(p.url);i[p.uuid]=new Dl(f)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(l)}else return s.data?{data:bu(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Cp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const h=[];for(let p=0,m=c.length;p<m;p++){const f=c[p],v=await a(f);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new ql(v.data,v.width,v.height)))}r[l.uuid]=new Dl(h)}else{const h=await a(l.url);r[l.uuid]=new Dl(h)}}}return r}parseTextures(e,n){function r(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let h;Array.isArray(c)?(h=new Zp,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new ql:h=new or,c&&(h.needsUpdate=!0)),h.source=l,h.uuid=o.uuid,o.name!==void 0&&(h.name=o.name),o.mapping!==void 0&&(h.mapping=r(o.mapping,W8)),o.channel!==void 0&&(h.channel=o.channel),o.offset!==void 0&&h.offset.fromArray(o.offset),o.repeat!==void 0&&h.repeat.fromArray(o.repeat),o.center!==void 0&&h.center.fromArray(o.center),o.rotation!==void 0&&(h.rotation=o.rotation),o.wrap!==void 0&&(h.wrapS=r(o.wrap[0],VA),h.wrapT=r(o.wrap[1],VA)),o.format!==void 0&&(h.format=o.format),o.internalFormat!==void 0&&(h.internalFormat=o.internalFormat),o.type!==void 0&&(h.type=o.type),o.colorSpace!==void 0&&(h.colorSpace=o.colorSpace),o.encoding!==void 0&&(h.encoding=o.encoding),o.minFilter!==void 0&&(h.minFilter=r(o.minFilter,HA)),o.magFilter!==void 0&&(h.magFilter=r(o.magFilter,HA)),o.anisotropy!==void 0&&(h.anisotropy=o.anisotropy),o.flipY!==void 0&&(h.flipY=o.flipY),o.generateMipmaps!==void 0&&(h.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(h.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(h.compareFunction=o.compareFunction),o.userData!==void 0&&(h.userData=o.userData),i[o.uuid]=h}return i}parseObject(e,n,r,i,a){let s;function o(m){return n[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),n[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const f=[];for(let v=0,b=m.length;v<b;v++){const x=m[v];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),f.push(r[x])}return f}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function c(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let h,p;switch(e.type){case"Scene":s=new xp,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new et(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new uk(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new lk(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":s=new $n(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new cc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new CI(e.color,e.intensity);break;case"DirectionalLight":s=new AI(e.color,e.intensity);break;case"PointLight":s=new TI(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new PI(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new EI(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new MI(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new LI().fromJSON(e);break;case"SkinnedMesh":h=o(e.geometry),p=l(e.material),s=new gk(h,p),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":h=o(e.geometry),p=l(e.material),s=new Vn(h,p);break;case"InstancedMesh":h=o(e.geometry),p=l(e.material);const m=e.count,f=e.instanceMatrix,v=e.instanceColor;s=new xk(h,p,m),s.instanceMatrix=new Zu(new Float32Array(f.array),16),v!==void 0&&(s.instanceColor=new Zu(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":h=o(e.geometry),p=l(e.material),s=new bk(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,p),s.geometry=h,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(b=>{const x=new Gr;x.min.fromArray(b.boxMin),x.max.fromArray(b.boxMax);const g=new Cr;return g.radius=b.sphereRadius,g.center.fromArray(b.sphereCenter),{boxInitialized:b.boxInitialized,box:x,sphereInitialized:b.sphereInitialized,sphere:g}}),s._maxGeometryCount=e.maxGeometryCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":s=new mk;break;case"Line":s=new Oo(o(e.geometry),l(e.material));break;case"LineLoop":s=new wk(o(e.geometry),l(e.material));break;case"LineSegments":s=new Wa(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new _k(o(e.geometry),l(e.material));break;case"Sprite":s=new fk(l(e.material));break;case"Group":s=new Su;break;case"Bone":s=new _S;break;default:s=new Jt}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let f=0;f<m.length;f++)s.add(this.parseObject(m[f],n,r,i,a))}if(e.animations!==void 0){const m=e.animations;for(let f=0;f<m.length;f++){const v=m[f];s.animations.push(a[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const m=e.levels;for(let f=0;f<m.length;f++){const v=m[f],b=s.getObjectByProperty("uuid",v.object);b!==void 0&&s.addLevel(b,v.distance,v.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const W8={UVMapping:uv,CubeReflectionMapping:ja,CubeRefractionMapping:ko,EquirectangularReflectionMapping:Gu,EquirectangularRefractionMapping:lp,CubeUVReflectionMapping:od},VA={RepeatWrapping:cp,ClampToEdgeWrapping:Tr,MirroredRepeatWrapping:up},HA={NearestFilter:Ln,NearestMipmapNearestFilter:T0,NearestMipmapLinearFilter:kh,LinearFilter:un,LinearMipmapNearestFilter:Z_,LinearMipmapLinearFilter:Io};let G8=class extends ui{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=vs.get(e);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(c=>{n&&n(c),a.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return vs.add(e,c),n&&n(c),a.manager.itemEnd(e),c}).catch(function(c){i&&i(c),vs.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});vs.add(e,l),a.manager.itemStart(e)}},sg,$S=class{static getContext(){return sg===void 0&&(sg=new(window.AudioContext||window.webkitAudioContext)),sg}static setContext(e){sg=e}},q8=class extends ui{constructor(e){super(e)}load(e,n,r,i){const a=this,s=new Cs(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);$S.getContext().decodeAudioData(c,function(h){n(h)}).catch(o)}catch(c){o(c)}},r,i);function o(l){i?i(l):console.error(l),a.manager.itemError(e)}}};const WA=new Mt,GA=new Mt,dl=new Mt;let X8=class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new $n,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new $n,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,dl.copy(e.projectionMatrix);const r=n.eyeSep/2,i=r*n.near/n.focus,a=n.near*Math.tan(Wl*n.fov*.5)/n.zoom;let s,o;GA.elements[12]=-r,WA.elements[12]=r,s=-a*n.aspect+i,o=a*n.aspect+i,dl.elements[0]=2*n.near/(o-s),dl.elements[8]=(o+s)/(o-s),this.cameraL.projectionMatrix.copy(dl),s=-a*n.aspect-i,o=a*n.aspect-i,dl.elements[0]=2*n.near/(o-s),dl.elements[8]=(o+s)/(o-s),this.cameraR.projectionMatrix.copy(dl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(GA),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(WA)}},jS=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=qA(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=qA();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}};function qA(){return(typeof performance>"u"?Date:performance).now()}const hl=new G,XA=new li,Y8=new G,pl=new G;let Z8=class extends Jt{constructor(){super(),this.type="AudioListener",this.context=$S.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new jS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hl,XA,Y8),pl.set(0,0,-1).applyQuaternion(XA),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(hl.x,i),n.positionY.linearRampToValueAtTime(hl.y,i),n.positionZ.linearRampToValueAtTime(hl.z,i),n.forwardX.linearRampToValueAtTime(pl.x,i),n.forwardY.linearRampToValueAtTime(pl.y,i),n.forwardZ.linearRampToValueAtTime(pl.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(hl.x,hl.y,hl.z),n.setOrientation(pl.x,pl.y,pl.z,r.x,r.y,r.z)}},DI=class extends Jt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const fl=new G,YA=new li,Q8=new G,ml=new G;let J8=class extends DI{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(fl,YA,Q8),ml.set(0,0,1).applyQuaternion(YA);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(fl.x,r),n.positionY.linearRampToValueAtTime(fl.y,r),n.positionZ.linearRampToValueAtTime(fl.z,r),n.orientationX.linearRampToValueAtTime(ml.x,r),n.orientationY.linearRampToValueAtTime(ml.y,r),n.orientationZ.linearRampToValueAtTime(ml.z,r)}else n.setPosition(fl.x,fl.y,fl.z),n.setOrientation(ml.x,ml.y,ml.z)}},K8=class{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}},UI=class{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,a,s;switch(n){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)r[a+o]=r[o];s=n}else{s+=n;const o=n/s;this._mixBufferRegion(r,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-a,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let a=r,s=i;a!==s;++a)n[a]=n[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){li.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,a){const s=this._workIndex*a;li.multiplyQuaternionsFlat(e,s,e,n,e,r),li.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,a){const s=1-i;for(let o=0;o!==a;++o){const l=n+o;e[l]=e[l]*s+e[r+o]*i}}_lerpAdditive(e,n,r,i,a){for(let s=0;s!==a;++s){const o=n+s;e[o]=e[o]+e[r+s]*i}}};const VS="\\[\\]\\.:\\/",eW=new RegExp("["+VS+"]","g"),HS="[^"+VS+"]",tW="[^"+VS.replace("\\.","")+"]",nW=/((?:WC+[\/:])*)/.source.replace("WC",HS),rW=/(WCOD+)?/.source.replace("WCOD",tW),iW=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",HS),aW=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",HS),sW=new RegExp("^"+nW+rW+iW+aW+"$"),oW=["material","materials","bones","map"];let lW=class{constructor(e,n,r){const i=r||en.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}},en=class au{constructor(e,n,r){this.path=n,this.parsedPath=r||au.parseTrackName(n),this.node=au.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new au.Composite(e,n,r):new au(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(eW,"")}static parseTrackName(e){const n=sW.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);oW.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===n||o.uuid===n)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let a=n.propertyIndex;if(e||(e=au.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};en.Composite=lW;en.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};en.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};en.prototype.GetterByBindingType=[en.prototype._getValue_direct,en.prototype._getValue_array,en.prototype._getValue_arrayElement,en.prototype._getValue_toArray];en.prototype.SetterByBindingTypeAndVersioning=[[en.prototype._setValue_direct,en.prototype._setValue_direct_setNeedsUpdate,en.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[en.prototype._setValue_array,en.prototype._setValue_array_setNeedsUpdate,en.prototype._setValue_array_setMatrixWorldNeedsUpdate],[en.prototype._setValue_arrayElement,en.prototype._setValue_arrayElement_setNeedsUpdate,en.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[en.prototype._setValue_fromArray,en.prototype._setValue_fromArray_setNeedsUpdate,en.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];let cW=class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Mi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,c=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const m=arguments[h],f=m.uuid;let v=n[f];if(v===void 0){v=l++,n[f]=v,e.push(m);for(let b=0,x=s;b!==x;++b)a[b].push(new en(m,r[b],i[b]))}else if(v<c){o=e[v];const b=--c,x=e[b];n[x.uuid]=v,e[v]=x,n[f]=b,e[b]=m;for(let g=0,_=s;g!==_;++g){const w=a[g],M=w[b];let C=w[v];w[v]=M,C===void 0&&(C=new en(m,r[g],i[g])),w[b]=C}}else e[v]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],c=l.uuid,h=n[c];if(h!==void 0&&h>=a){const p=a++,m=e[p];n[m.uuid]=h,e[h]=m,n[c]=p,e[p]=l;for(let f=0,v=i;f!==v;++f){const b=r[f],x=b[p],g=b[h];b[h]=x,b[p]=g}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],h=c.uuid,p=n[h];if(p!==void 0)if(delete n[h],p<a){const m=--a,f=e[m],v=--s,b=e[v];n[f.uuid]=p,e[p]=f,n[b.uuid]=m,e[m]=b,e.pop();for(let x=0,g=i;x!==g;++x){const _=r[x],w=_[m],M=_[v];_[p]=w,_[m]=M,_.pop()}}else{const m=--s,f=e[m];m>0&&(n[f.uuid]=p),e[p]=f,e.pop();for(let v=0,b=i;v!==b;++v){const x=r[v];x[p]=x[m],x.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const s=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,h=this.nCachedObjects_,p=new Array(c);i=a.length,r[e]=i,s.push(e),o.push(n),a.push(p);for(let m=h,f=l.length;m!==f;++m){const v=l[m];p[m]=new en(v,e,n)}return p}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],c=e[o];n[c]=r,s[r]=l,s.pop(),a[r]=a[o],a.pop(),i[r]=i[o],i.pop()}}},zI=class{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const a=n.tracks,s=a.length,o=new Array(s),l={endingStart:Il,endingEnd:Il};for(let c=0;c!==s;++c){const h=a[c].createInterpolant(null);o[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=AN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=a,l[1]=a+r,c[0]=e/s,c[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const s=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case aS:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(s),c[h].accumulateAdditive(o);break;case hv:default:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(s),c[h].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const s=r===CN;if(e===0)return a===-1?i:s&&(a&1)===1?n-i:i;if(r===TN){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Ol,i.endingEnd=Ol):(e?i.endingStart=this.zeroSlopeAtStart?Ol:Il:i.endingStart=pp,n?i.endingEnd=this.zeroSlopeAtEnd?Ol:Il:i.endingEnd=pp)}_scheduleFading(e,n,r){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=n,o[1]=a+e,l[1]=r,this}};const uW=new Float32Array(1);let dW=class extends ks{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let h=c[l];h===void 0&&(h={},c[l]=h);for(let p=0;p!==a;++p){const m=i[p],f=m.name;let v=h[f];if(v!==void 0)++v.referenceCount,s[p]=v;else{if(v=s[p],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,f));continue}const b=n&&n._propertyBindings[p].binding.parsedPath;v=new UI(en.create(r,f,b),m.ValueTypeName,m.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,f),s[p]=v}o[p].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,a=this._actionsByClip;let s=a[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,c=l[l.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,l[h]=c,l.pop(),e._byClipCacheIndex=null;const p=o.actionByRoot,m=(e._localRoot||this._root).uuid;delete p[m],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,s=this._bindingsByRootAndName,o=s[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new DS(new Float32Array(2),new Float32Array(2),1,uW),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=n[i];e.__cacheIndex=i,n[i]=e,a.__cacheIndex=r,n[r]=a}clipAction(e,n,r){const i=n||this._root,a=i.uuid;let s=typeof e=="string"?Ap.findByName(i,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=hv),l!==void 0){const p=l.actionByRoot[a];if(p!==void 0&&p.blendMode===r)return p;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const h=new zI(this,s,n,r);return this._bindAction(h,c),this._addInactiveAction(h,o,a),h}existingAction(e,n){const r=n||this._root,i=r.uuid,a=typeof e=="string"?Ap.findByName(r,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const c=s[o];this._deactivateAction(c);const h=c._cacheIndex,p=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,p._cacheIndex=h,n[h]=p,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const s in r){const o=r[s].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[n];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}},hW=class FI{constructor(e){this.value=e}clone(){return new FI(this.value.clone===void 0?this.value:this.value.clone())}},pW=0,fW=class extends ks{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:pW++}),this.name="",this.usage=vp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const a=Array.isArray(n[r])?n[r]:[n[r]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}},mW=class extends gv{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}},gW=class{constructor(e,n,r,i,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},WS=class{constructor(e,n,r=0,i=1/0){this.ray=new ld(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Gl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return mw(e,this,r,n),r.sort(ZA),r}intersectObjects(e,n=!0,r=[]){for(let i=0,a=e.length;i<a;i++)mw(e[i],this,r,n);return r.sort(ZA),r}};function ZA(t,e){return t.distance-e.distance}function mw(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let a=0,s=i.length;a<s;a++)mw(i[a],e,n,!0)}}let vW=class{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Tn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},yW=class{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}};const QA=new Ie;let xW=class{constructor(e=new Ie(1/0,1/0),n=new Ie(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=QA.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,QA).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};const JA=new G,og=new G;let bW=class{constructor(e=new G,n=new G){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){JA.subVectors(e,this.start),og.subVectors(this.end,this.start);const r=og.dot(og);let i=og.dot(JA)/r;return n&&(i=Tn(i,0,1)),i}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}};const KA=new G;let wW=class extends Jt{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Ot,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const c=s/l*Math.PI*2,h=o/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new lt(i,3));const a=new Yr({fog:!1,toneMapped:!1});this.cone=new Wa(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),KA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(KA),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}};const Js=new G,lg=new Mt,tx=new Mt;let _W=class extends Wa{constructor(e){const n=BI(e),r=new Ot,i=[],a=[],s=new et(0,0,1),o=new et(0,1,0);for(let c=0;c<n.length;c++){const h=n[c];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(s.r,s.g,s.b),a.push(o.r,o.g,o.b))}r.setAttribute("position",new lt(i,3)),r.setAttribute("color",new lt(a,3));const l=new Yr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");tx.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<n.length;a++){const o=n[a];o.parent&&o.parent.isBone&&(lg.multiplyMatrices(tx,o.matrixWorld),Js.setFromMatrixPosition(lg),i.setXYZ(s,Js.x,Js.y,Js.z),lg.multiplyMatrices(tx,o.parent.matrixWorld),Js.setFromMatrixPosition(lg),i.setXYZ(s+1,Js.x,Js.y,Js.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}};function BI(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,BI(t.children[n]));return e}let SW=class extends Vn{constructor(e,n,r){const i=new kS(n,4,2),a=new Go({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}};const MW=new G,eC=new et,tC=new et;let EW=class extends Jt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new NS(n);i.rotateY(Math.PI*.5),this.material=new Go({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),s=new Float32Array(a.count*3);i.setAttribute("color",new Qt(s,3)),this.add(new Vn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");eC.copy(this.light.color),tC.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const a=r<i/2?eC:tC;n.setXYZ(r,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(MW.setFromMatrixPosition(this.light.matrixWorld).negate())}},TW=class extends Wa{constructor(e=10,n=10,r=4473924,i=8947848){r=new et(r),i=new et(i);const a=n/2,s=e/n,o=e/2,l=[],c=[];for(let m=0,f=0,v=-o;m<=n;m++,v+=s){l.push(-o,0,v,o,0,v),l.push(v,0,-o,v,0,o);const b=m===a?r:i;b.toArray(c,f),f+=3,b.toArray(c,f),f+=3,b.toArray(c,f),f+=3,b.toArray(c,f),f+=3}const h=new Ot;h.setAttribute("position",new lt(l,3)),h.setAttribute("color",new lt(c,3));const p=new Yr({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},AW=class extends Wa{constructor(e=10,n=16,r=8,i=64,a=4473924,s=8947848){a=new et(a),s=new et(s);const o=[],l=[];if(n>1)for(let p=0;p<n;p++){const m=p/n*(Math.PI*2),f=Math.sin(m)*e,v=Math.cos(m)*e;o.push(0,0,0),o.push(f,0,v);const b=p&1?a:s;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let p=0;p<r;p++){const m=p&1?a:s,f=e-e/r*p;for(let v=0;v<i;v++){let b=v/i*(Math.PI*2),x=Math.sin(b)*f,g=Math.cos(b)*f;o.push(x,0,g),l.push(m.r,m.g,m.b),b=(v+1)/i*(Math.PI*2),x=Math.sin(b)*f,g=Math.cos(b)*f,o.push(x,0,g),l.push(m.r,m.g,m.b)}}const c=new Ot;c.setAttribute("position",new lt(o,3)),c.setAttribute("color",new lt(l,3));const h=new Yr({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}};const nC=new G,cg=new G,rC=new G;let CW=class extends Jt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Ot;i.setAttribute("position",new lt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new Yr({fog:!1,toneMapped:!1});this.lightPlane=new Oo(i,a),this.add(this.lightPlane),i=new Ot,i.setAttribute("position",new lt([0,0,0,0,0,1],3)),this.targetLine=new Oo(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),nC.setFromMatrixPosition(this.light.matrixWorld),cg.setFromMatrixPosition(this.light.target.matrixWorld),rC.subVectors(cg,nC),this.lightPlane.lookAt(cg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(cg),this.targetLine.scale.z=rC.length()}};const ug=new G,Mn=new Yp;let PW=class extends Wa{constructor(e){const n=new Ot,r=new Yr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(v,b){l(v),l(b)}function l(v){i.push(0,0,0),a.push(0,0,0),s[v]===void 0&&(s[v]=[]),s[v].push(i.length/3-1)}n.setAttribute("position",new lt(i,3)),n.setAttribute("color",new lt(a,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new et(16755200),h=new et(16711680),p=new et(43775),m=new et(16777215),f=new et(3355443);this.setColors(c,h,p,m,f)}setColors(e,n,r,i,a){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Mn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Pn("c",n,e,Mn,0,0,-1),Pn("t",n,e,Mn,0,0,1),Pn("n1",n,e,Mn,-r,-i,-1),Pn("n2",n,e,Mn,r,-i,-1),Pn("n3",n,e,Mn,-r,i,-1),Pn("n4",n,e,Mn,r,i,-1),Pn("f1",n,e,Mn,-r,-i,1),Pn("f2",n,e,Mn,r,-i,1),Pn("f3",n,e,Mn,-r,i,1),Pn("f4",n,e,Mn,r,i,1),Pn("u1",n,e,Mn,r*.7,i*1.1,-1),Pn("u2",n,e,Mn,-r*.7,i*1.1,-1),Pn("u3",n,e,Mn,0,i*2,-1),Pn("cf1",n,e,Mn,-r,0,1),Pn("cf2",n,e,Mn,r,0,1),Pn("cf3",n,e,Mn,0,-i,1),Pn("cf4",n,e,Mn,0,i,1),Pn("cn1",n,e,Mn,-r,0,-1),Pn("cn2",n,e,Mn,r,0,-1),Pn("cn3",n,e,Mn,0,-i,-1),Pn("cn4",n,e,Mn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Pn(t,e,n,r,i,a,s){ug.set(i,a,s).unproject(r);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,h=o.length;c<h;c++)l.setXYZ(o[c],ug.x,ug.y,ug.z)}}const dg=new Gr;let RW=class extends Wa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new Ot;a.setIndex(new Qt(r,1)),a.setAttribute("position",new Qt(i,3)),super(a,new Yr({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&dg.setFromObject(this.object),dg.isEmpty())return;const n=dg.min,r=dg.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},LW=class extends Wa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Ot;a.setIndex(new Qt(r,1)),a.setAttribute("position",new lt(i,3)),super(a,new Yr({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},NW=class extends Oo{constructor(e,n=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Ot;s.setAttribute("position",new lt(a,3)),s.computeBoundingSphere(),super(s,new Yr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ot;l.setAttribute("position",new lt(o,3)),l.computeBoundingSphere(),this.add(new Vn(l,new Go({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}};const iC=new G;let hg,nx,kW=class extends Jt{constructor(e=new G(0,0,1),n=new G(0,0,0),r=1,i=16776960,a=r*.2,s=a*.2){super(),this.type="ArrowHelper",hg===void 0&&(hg=new Ot,hg.setAttribute("position",new lt([0,0,0,0,1,0],3)),nx=new xv(0,.5,1,5,1),nx.translate(0,-.5,0)),this.position.copy(n),this.line=new Oo(hg,new Yr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Vn(nx,new Go({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{iC.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(iC,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},IW=class extends Wa{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ot;i.setAttribute("position",new lt(n,3)),i.setAttribute("color",new lt(r,3));const a=new Yr({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,n,r){const i=new et,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(n),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},OW=class{constructor(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new wp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,a,s){return this.currentPath.bezierCurveTo(e,n,r,i,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const _=[];for(let w=0,M=g.length;w<M;w++){const C=g[w],A=new Xl;A.curves=C.curves,_.push(A)}return _}function r(g,_){const w=_.length;let M=!1;for(let C=w-1,A=0;A<w;C=A++){let N=_[C],O=_[A],P=O.x-N.x,I=O.y-N.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(N=_[A],P=-P,O=_[C],I=-I),g.y<N.y||g.y>O.y)continue;if(g.y===N.y){if(g.x===N.x)return!0}else{const H=I*(g.x-N.x)-P*(g.y-N.y);if(H===0)return!0;if(H<0)continue;M=!M}}else{if(g.y!==N.y)continue;if(O.x<=g.x&&g.x<=N.x||N.x<=g.x&&g.x<=O.x)return!0}}return M}const i=Co.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const c=[];if(a.length===1)return o=a[0],l=new Xl,l.curves=o.curves,c.push(l),c;let h=!i(a[0].getPoints());h=e?!h:h;const p=[],m=[];let f=[],v=0,b;m[v]=void 0,f[v]=[];for(let g=0,_=a.length;g<_;g++)o=a[g],b=o.getPoints(),s=i(b),s=e?!s:s,s?(!h&&m[v]&&v++,m[v]={s:new Xl,p:b},m[v].s.curves=o.curves,h&&v++,f[v]=[]):f[v].push({h:o,p:b[0]});if(!m[0])return n(a);if(m.length>1){let g=!1,_=0;for(let w=0,M=m.length;w<M;w++)p[w]=[];for(let w=0,M=m.length;w<M;w++){const C=f[w];for(let A=0;A<C.length;A++){const N=C[A];let O=!0;for(let P=0;P<m.length;P++)r(N.p,m[P].p)&&(w!==P&&_++,O?(O=!1,p[P].push(N)):g=!0);O&&p[w].push(N)}}_>0&&g===!1&&(f=p)}let x;for(let g=0,_=m.length;g<_;g++){l=m[g].s,c.push(l),x=f[g];for(let w=0,M=x.length;w<M;w++)l.holes.push(x[w].h)}return c}};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Wp}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Wp);const DW=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Y_,AddEquation:po,AddOperation:hN,AdditiveAnimationBlendMode:aS,AdditiveBlending:Ab,AgXToneMapping:vN,AlphaFormat:wN,AlwaysCompare:zN,AlwaysDepth:aN,AlwaysStencilFunc:iw,AmbientLight:CI,AnimationAction:zI,AnimationClip:Ap,AnimationLoader:F8,AnimationMixer:dW,AnimationObjectGroup:cW,AnimationUtils:O8,ArcCurve:Sk,ArrayCamera:sk,ArrowHelper:kW,AttachedBindMode:Nb,Audio:DI,AudioAnalyser:K8,AudioContext:$S,AudioListener:Z8,AudioLoader:q8,AxesHelper:IW,BackSide:Wr,BasicDepthPacking:PN,BasicShadowMap:$L,BatchedMesh:bk,Bone:_S,BooleanKeyframeTrack:uc,Box2:xW,Box3:Gr,Box3Helper:LW,BoxGeometry:Xp,BoxHelper:RW,BufferAttribute:Qt,BufferGeometry:Ot,BufferGeometryLoader:OI,ByteType:xN,Cache:vs,Camera:Yp,CameraHelper:PW,CanvasTexture:a8,CapsuleGeometry:Pk,CatmullRomCurve3:Mk,CineonToneMapping:mN,CircleGeometry:Lk,ClampToEdgeWrapping:Tr,Clock:jS,Color:et,ColorKeyframeTrack:US,ColorManagement:Yt,CompressedArrayTexture:r8,CompressedCubeTexture:i8,CompressedTexture:vv,CompressedTextureLoader:B8,ConeGeometry:Ik,ConstantAlphaFactor:nN,ConstantColorFactor:eN,CubeCamera:QN,CubeReflectionMapping:ja,CubeRefractionMapping:ko,CubeTexture:Zp,CubeTextureLoader:SI,CubeUVReflectionMapping:od,CubicBezierCurve:ES,CubicBezierCurve3:Ek,CubicInterpolant:xI,CullFaceBack:Tb,CullFaceFront:BL,CullFaceFrontBack:XF,CullFaceNone:FL,Curve:ba,CurvePath:Ak,CustomBlending:jL,CustomToneMapping:gN,CylinderGeometry:xv,Cylindrical:yW,Data3DTexture:uS,DataArrayTexture:fv,DataTexture:ql,DataTextureLoader:FS,DataUtils:zl,DecrementStencilOp:sB,DecrementWrapStencilOp:lB,DefaultLoadingManager:_I,DepthFormat:To,DepthStencilFormat:nc,DepthTexture:vS,DetachedBindMode:yN,DirectionalLight:AI,DirectionalLightHelper:CW,DiscreteInterpolant:bI,DisplayP3ColorSpace:pv,DodecahedronGeometry:Uk,DoubleSide:Vi,DstAlphaFactor:YL,DstColorFactor:QL,DynamicCopyUsage:SB,DynamicDrawUsage:vB,DynamicReadUsage:bB,EdgesGeometry:Fk,EllipseCurve:yv,EqualCompare:IN,EqualDepth:oN,EqualStencilFunc:hB,EquirectangularReflectionMapping:Gu,EquirectangularRefractionMapping:lp,Euler:dS,EventDispatcher:ks,ExtrudeGeometry:Hk,FileLoader:Cs,Float16BufferAttribute:l$,Float32BufferAttribute:lt,Float64BufferAttribute:c$,FloatType:ur,Fog:uk,FogExp2:lk,FramebufferTexture:n8,FrontSide:As,Frustum:Qp,GLBufferAttribute:gW,GLSL1:EB,GLSL3:aw,GreaterCompare:ON,GreaterDepth:cN,GreaterEqualCompare:UN,GreaterEqualDepth:lN,GreaterEqualStencilFunc:gB,GreaterStencilFunc:fB,GridHelper:TW,Group:Su,HalfFloatType:Vr,HemisphereLight:MI,HemisphereLightHelper:EW,IcosahedronGeometry:LS,ImageBitmapLoader:G8,ImageLoader:Cp,ImageUtils:cS,IncrementStencilOp:aB,IncrementWrapStencilOp:oB,InstancedBufferAttribute:Zu,InstancedBufferGeometry:II,InstancedInterleavedBuffer:mW,InstancedMesh:xk,Int16BufferAttribute:s$,Int32BufferAttribute:o$,Int8BufferAttribute:r$,IntType:Q_,InterleavedBuffer:gv,InterleavedBufferAttribute:bp,Interpolant:Jp,InterpolateDiscrete:dp,InterpolateLinear:hp,InterpolateSmooth:Wg,InvertStencilOp:cB,KeepStencilOp:Ml,KeyframeTrack:wa,LOD:mk,LatheGeometry:RS,Layers:Gl,LessCompare:kN,LessDepth:sN,LessEqualCompare:oS,LessEqualDepth:op,LessEqualStencilFunc:pB,LessStencilFunc:dB,Light:qo,LightProbe:LI,Line:Oo,Line3:bW,LineBasicMaterial:Yr,LineCurve:TS,LineCurve3:Tk,LineDashedMaterial:gI,LineLoop:wk,LineSegments:Wa,LinearDisplayP3ColorSpace:qp,LinearEncoding:sS,LinearFilter:un,LinearInterpolant:DS,LinearMipMapLinearFilter:KF,LinearMipMapNearestFilter:JF,LinearMipmapLinearFilter:Io,LinearMipmapNearestFilter:Z_,LinearSRGBColorSpace:Va,LinearToneMapping:pN,LinearTransfer:fp,Loader:ui,LoaderUtils:fw,LoadingManager:zS,LoopOnce:TN,LoopPingPong:CN,LoopRepeat:AN,LuminanceAlphaFormat:SN,LuminanceFormat:_N,MOUSE:GF,Material:pr,MaterialLoader:NI,MathUtils:P0,Matrix3:Dt,Matrix4:Mt,MaxEquation:Lb,Mesh:Vn,MeshBasicMaterial:Go,MeshDepthMaterial:yS,MeshDistanceMaterial:xS,MeshLambertMaterial:fI,MeshMatcapMaterial:mI,MeshNormalMaterial:pI,MeshPhongMaterial:dI,MeshPhysicalMaterial:uI,MeshStandardMaterial:IS,MeshToonMaterial:hI,MinEquation:Rb,MirroredRepeatWrapping:up,MixOperation:dN,MultiplyBlending:Pb,MultiplyOperation:Gp,NearestFilter:Ln,NearestMipMapLinearFilter:QF,NearestMipMapNearestFilter:ZF,NearestMipmapLinearFilter:kh,NearestMipmapNearestFilter:T0,NeverCompare:NN,NeverDepth:iN,NeverStencilFunc:uB,NoBlending:bs,NoColorSpace:wi,NoToneMapping:za,NormalAnimationBlendMode:hv,NormalBlending:Hl,NotEqualCompare:DN,NotEqualDepth:uN,NotEqualStencilFunc:mB,NumberKeyframeTrack:Ep,Object3D:Jt,ObjectLoader:H8,ObjectSpaceNormalMap:LN,OctahedronGeometry:NS,OneFactor:GL,OneMinusConstantAlphaFactor:rN,OneMinusConstantColorFactor:tN,OneMinusDstAlphaFactor:ZL,OneMinusDstColorFactor:JL,OneMinusSrcAlphaFactor:E0,OneMinusSrcColorFactor:XL,OrthographicCamera:cc,P3Primaries:gp,PCFShadowMap:cv,PCFSoftShadowMap:Nh,PMREMGenerator:lw,Path:wp,PerspectiveCamera:$n,Plane:lo,PlaneGeometry:mS,PlaneHelper:NW,PointLight:TI,PointLightHelper:SW,Points:_k,PointsMaterial:SS,PolarGridHelper:AW,PolyhedronGeometry:ud,PositionalAudio:J8,PropertyBinding:en,PropertyMixer:UI,QuadraticBezierCurve:AS,QuadraticBezierCurve3:CS,Quaternion:li,QuaternionKeyframeTrack:dd,QuaternionLinearInterpolant:wI,RED_GREEN_RGTC2_Format:nw,RED_RGTC1_Format:EN,REVISION:Wp,RGBADepthPacking:RN,RGBAFormat:Ar,RGBAIntegerFormat:rS,RGBA_ASTC_10x10_Format:Zb,RGBA_ASTC_10x5_Format:qb,RGBA_ASTC_10x6_Format:Xb,RGBA_ASTC_10x8_Format:Yb,RGBA_ASTC_12x10_Format:Qb,RGBA_ASTC_12x12_Format:Jb,RGBA_ASTC_4x4_Format:Fb,RGBA_ASTC_5x4_Format:Bb,RGBA_ASTC_5x5_Format:$b,RGBA_ASTC_6x5_Format:jb,RGBA_ASTC_6x6_Format:Vb,RGBA_ASTC_8x5_Format:Hb,RGBA_ASTC_8x6_Format:Wb,RGBA_ASTC_8x8_Format:Gb,RGBA_BPTC_Format:Hg,RGBA_ETC2_EAC_Format:zb,RGBA_PVRTC_2BPPV1_Format:Db,RGBA_PVRTC_4BPPV1_Format:Ob,RGBA_S3TC_DXT1_Format:$g,RGBA_S3TC_DXT3_Format:jg,RGBA_S3TC_DXT5_Format:Vg,RGB_BPTC_SIGNED_Format:Kb,RGB_BPTC_UNSIGNED_Format:ew,RGB_ETC1_Format:iS,RGB_ETC2_Format:Ub,RGB_PVRTC_2BPPV1_Format:Ib,RGB_PVRTC_4BPPV1_Format:kb,RGB_S3TC_DXT1_Format:Bg,RGFormat:MN,RGIntegerFormat:nS,RawShaderMaterial:cI,Ray:ld,Raycaster:WS,Rec709Primaries:mp,RectAreaLight:PI,RedFormat:eS,RedIntegerFormat:tS,ReinhardToneMapping:fN,RenderTarget:HN,RepeatWrapping:cp,ReplaceStencilOp:iB,ReverseSubtractEquation:HL,RingGeometry:Xk,SIGNED_RED_GREEN_RGTC2_Format:rw,SIGNED_RED_RGTC1_Format:tw,SRGBColorSpace:Yn,SRGBTransfer:rn,Scene:xp,ShaderChunk:Lt,ShaderLib:ua,ShaderMaterial:ga,ShadowMaterial:lI,Shape:Xl,ShapeGeometry:Zk,ShapePath:OW,ShapeUtils:Co,ShortType:bN,Skeleton:vk,SkeletonHelper:_W,SkinnedMesh:gk,Source:Dl,Sphere:Cr,SphereGeometry:kS,Spherical:vW,SphericalHarmonics3:RI,SplineCurve:PS,SpotLight:EI,SpotLightHelper:wW,Sprite:fk,SpriteMaterial:wS,SrcAlphaFactor:M0,SrcAlphaSaturateFactor:KL,SrcColorFactor:qL,StaticCopyUsage:_B,StaticDrawUsage:vp,StaticReadUsage:xB,StereoCamera:X8,StreamCopyUsage:MB,StreamDrawUsage:yB,StreamReadUsage:wB,StringKeyframeTrack:dc,SubtractEquation:VL,SubtractiveBlending:Cb,TOUCH:qF,TangentSpaceNormalMap:Wo,TetrahedronGeometry:Kk,Texture:or,TextureLoader:wv,TorusGeometry:tI,TorusKnotGeometry:rI,Triangle:Ul,TriangleFanDrawMode:nB,TriangleStripDrawMode:tB,TrianglesDrawMode:eB,TubeGeometry:aI,TwoPassDoubleSide:YF,UVMapping:uv,Uint16BufferAttribute:hS,Uint32BufferAttribute:pS,Uint8BufferAttribute:i$,Uint8ClampedBufferAttribute:a$,Uniform:hW,UniformsGroup:fW,UniformsLib:qe,UniformsUtils:ZN,UnsignedByteType:Fa,UnsignedInt248Type:Eo,UnsignedIntType:gs,UnsignedShort4444Type:J_,UnsignedShort5551Type:K_,UnsignedShortType:dv,VSMShadowMap:sa,Vector2:Ie,Vector3:G,Vector4:tn,VectorKeyframeTrack:Tp,VideoTexture:t8,WebGL1Renderer:ok,WebGL3DRenderTarget:WB,WebGLArrayRenderTarget:HB,WebGLCoordinateSystem:da,WebGLCubeRenderTarget:fS,WebGLMultipleRenderTargets:GB,WebGLRenderTarget:ma,WebGLRenderer:bS,WebGLUtils:ak,WebGPUCoordinateSystem:qu,WireframeGeometry:oI,WrapAroundEnding:pp,ZeroCurvatureEnding:Il,ZeroFactor:WL,ZeroSlopeEnding:Ol,ZeroStencilOp:rB,_SRGBAFormat:A0,createCanvasElement:jN,sRGBEncoding:Ao},Symbol.toStringTag,{value:"Module"}));var $I={exports:{}},hc={};/**
* @license React
* react-reconciler-constants.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/hc.ConcurrentRoot=1;hc.ContinuousEventPriority=4;hc.DefaultEventPriority=16;hc.DiscreteEventPriority=1;hc.IdleEventPriority=536870912;hc.LegacyRoot=0;$I.exports=hc;var Eu=$I.exports;function UW(t){let e;const n=new Set,r=(o,l)=>{const c=typeof o=="function"?o(e):o;if(c!==e){const h=e;e=l?c:Object.assign({},e,c),n.forEach(p=>p(e,h))}},i=()=>e,a=(o,l=i,c=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=l(e);function p(){const m=l(e);if(!c(h,m)){const f=h;o(h=m,f)}}return n.add(p),()=>n.delete(p)},s={setState:r,getState:i,subscribe:(o,l,c)=>l||c?a(o,l,c):(n.add(o),()=>n.delete(o)),destroy:()=>n.clear()};return e=t(r,i,s),s}const zW=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),aC=zW?L.useEffect:L.useLayoutEffect;function jI(t){const e=typeof t=="function"?UW(t):t,n=(r=e.getState,i=Object.is)=>{const[,a]=L.useReducer(x=>x+1,0),s=e.getState(),o=L.useRef(s),l=L.useRef(r),c=L.useRef(i),h=L.useRef(!1),p=L.useRef();p.current===void 0&&(p.current=r(s));let m,f=!1;(o.current!==s||l.current!==r||c.current!==i||h.current)&&(m=r(s),f=!i(p.current,m)),aC(()=>{f&&(p.current=m),o.current=s,l.current=r,c.current=i,h.current=!1});const v=L.useRef(s);aC(()=>{const x=()=>{try{const _=e.getState(),w=l.current(_);c.current(p.current,w)||(o.current=_,p.current=w,a())}catch{h.current=!0,a()}},g=e.subscribe(x);return e.getState()!==v.current&&x(),g},[]);const b=f?m:p.current;return L.useDebugValue(b),b};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var VI={exports:{}},sC={exports:{}},oC={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var lC;function FW(){return lC||(lC=1,function(t){function e(D,F){var W=D.length;D.push(F);e:for(;0<W;){var K=W-1>>>1,re=D[K];if(0<i(re,F))D[K]=F,D[W]=re,W=K;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],W=D.pop();if(W!==F){D[0]=W;e:for(var K=0,re=D.length,ee=re>>>1;K<ee;){var le=2*(K+1)-1,Le=D[le],Ce=le+1,Re=D[Ce];if(0>i(Le,W))Ce<re&&0>i(Re,Le)?(D[K]=Re,D[Ce]=W,K=Ce):(D[K]=Le,D[le]=W,K=le);else if(Ce<re&&0>i(Re,W))D[K]=Re,D[Ce]=W,K=Ce;else break e}}return F}function i(D,F){var W=D.sortIndex-F.sortIndex;return W!==0?W:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,p=null,m=3,f=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=D)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function M(D){if(b=!1,w(D),!v)if(n(l)!==null)v=!0,ne(C);else{var F=n(c);F!==null&&ie(M,F.startTime-D)}}function C(D,F){v=!1,b&&(b=!1,g(O),O=-1),f=!0;var W=m;try{for(w(F),p=n(l);p!==null&&(!(p.expirationTime>F)||D&&!H());){var K=p.callback;if(typeof K=="function"){p.callback=null,m=p.priorityLevel;var re=K(p.expirationTime<=F);F=t.unstable_now(),typeof re=="function"?p.callback=re:p===n(l)&&r(l),w(F)}else r(l);p=n(l)}if(p!==null)var ee=!0;else{var le=n(c);le!==null&&ie(M,le.startTime-F),ee=!1}return ee}finally{p=null,m=W,f=!1}}var A=!1,N=null,O=-1,P=5,I=-1;function H(){return!(t.unstable_now()-I<P)}function q(){if(N!==null){var D=t.unstable_now();I=D;var F=!0;try{F=N(!0,D)}finally{F?se():(A=!1,N=null)}}else A=!1}var se;if(typeof _=="function")se=function(){_(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=q,se=function(){Z.postMessage(null)}}else se=function(){x(q,0)};function ne(D){N=D,A||(A=!0,se())}function ie(D,F){O=x(function(){D(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,ne(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var W=m;m=F;try{return D()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=m;m=D;try{return F()}finally{m=W}},t.unstable_scheduleCallback=function(D,F,W){var K=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,D){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=W+re,D={id:h++,callback:F,priorityLevel:D,startTime:W,expirationTime:re,sortIndex:-1},W>K?(D.sortIndex=W,e(c,D),n(l)===null&&D===n(c)&&(b?(g(O),O=-1):b=!0,ie(M,W-K))):(D.sortIndex=re,e(l,D),v||f||(v=!0,ne(C))),D},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(D){var F=m;return function(){var W=m;m=F;try{return D.apply(this,arguments)}finally{m=W}}}}(oC)),oC}var cC;function BW(){return cC||(cC=1,sC.exports=FW()),sC.exports}/**
* @license React
* react-reconciler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var $W=function(t){var e={},n=L,r=BW(),i=Object.assign;function a(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),M=Symbol.iterator;function C(u){return u===null||typeof u!="object"?null:(u=M&&u[M]||u["@@iterator"],typeof u=="function"?u:null)}function A(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case c:return"Fragment";case l:return"Portal";case p:return"Profiler";case h:return"StrictMode";case b:return"Suspense";case x:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case f:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case v:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case g:return d=u.displayName||null,d!==null?d:A(u.type)||"Memo";case _:d=u._payload,u=u._init;try{return A(u(d))}catch{}}return null}function N(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function O(u){var d=u,y=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,d.flags&4098&&(y=d.return),u=d.return;while(u)}return d.tag===3?y:null}function P(u){if(O(u)!==u)throw Error(a(188))}function I(u){var d=u.alternate;if(!d){if(d=O(u),d===null)throw Error(a(188));return d!==u?null:u}for(var y=u,S=d;;){var E=y.return;if(E===null)break;var R=E.alternate;if(R===null){if(S=E.return,S!==null){y=S;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===y)return P(E),u;if(R===S)return P(E),d;R=R.sibling}throw Error(a(188))}if(y.return!==S.return)y=E,S=R;else{for(var X=!1,ae=E.child;ae;){if(ae===y){X=!0,y=E,S=R;break}if(ae===S){X=!0,S=E,y=R;break}ae=ae.sibling}if(!X){for(ae=R.child;ae;){if(ae===y){X=!0,y=R,S=E;break}if(ae===S){X=!0,S=R,y=E;break}ae=ae.sibling}if(!X)throw Error(a(189))}}if(y.alternate!==S)throw Error(a(190))}if(y.tag!==3)throw Error(a(188));return y.stateNode.current===y?u:d}function H(u){return u=I(u),u!==null?q(u):null}function q(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=q(u);if(d!==null)return d;u=u.sibling}return null}function se(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var d=se(u);if(d!==null)return d}u=u.sibling}return null}var $=Array.isArray,Z=t.getPublicInstance,ne=t.getRootHostContext,ie=t.getChildHostContext,D=t.prepareForCommit,F=t.resetAfterCommit,W=t.createInstance,K=t.appendInitialChild,re=t.finalizeInitialChildren,ee=t.prepareUpdate,le=t.shouldSetTextContent,Le=t.createTextInstance,Ce=t.scheduleTimeout,Re=t.cancelTimeout,tt=t.noTimeout,Qe=t.isPrimaryRenderer,Ue=t.supportsMutation,he=t.supportsPersistence,Q=t.supportsHydration,ke=t.getInstanceFromNode,Te=t.preparePortalMount,Se=t.getCurrentEventPriority,Fe=t.detachDeletedInstance,we=t.supportsMicrotasks,Xe=t.scheduleMicrotask,j=t.supportsTestSelectors,U=t.findFiberRoot,me=t.getBoundingRect,De=t.getTextContent,Ae=t.isHiddenSubtree,ze=t.matchAccessibilityRole,rt=t.setFocusIfFocusable,je=t.setupIntersectionObserver,Ge=t.appendChild,ht=t.appendChildToContainer,bt=t.commitTextUpdate,Oe=t.commitMount,Ft=t.commitUpdate,wt=t.insertBefore,pt=t.insertInContainerBefore,Be=t.removeChild,Ke=t.removeChildFromContainer,mt=t.resetTextContent,k=t.hideInstance,z=t.hideTextInstance,Y=t.unhideInstance,J=t.unhideTextInstance,B=t.clearContainer,te=t.cloneInstance,ue=t.createContainerChildSet,ye=t.appendChildToContainerChildSet,pe=t.finalizeContainerChildren,xe=t.replaceContainerChildren,_e=t.cloneHiddenInstance,Ee=t.cloneHiddenTextInstance,ft=t.canHydrateInstance,$e=t.canHydrateTextInstance,Ye=t.canHydrateSuspenseInstance,it=t.isSuspenseInstancePending,gt=t.isSuspenseInstanceFallback,Wt=t.registerSuspenseInstanceRetry,Gt=t.getNextHydratableSibling,qt=t.getFirstHydratableChild,mn=t.getFirstHydratableChildWithinContainer,$t=t.getFirstHydratableChildWithinSuspenseInstance,Rr=t.hydrateInstance,Wn=t.hydrateTextInstance,_n=t.hydrateSuspenseInstance,hi=t.getNextHydratableInstanceAfterSuspenseInstance,V=t.commitHydratedContainer,ce=t.commitHydratedSuspenseInstance,fe=t.clearSuspenseBoundary,ge=t.clearSuspenseBoundaryFromContainer,de=t.shouldDeleteUnhydratedTailInstances,Ne=t.didNotMatchHydratedContainerTextInstance,nt=t.didNotMatchHydratedTextInstance,ct;function ot(u){if(ct===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);ct=d&&d[1]||""}return`
`+ct+u}var yt=!1;function Et(u,d){if(!u||yt)return"";yt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(He){var S=He}Reflect.construct(u,[],d)}else{try{d.call()}catch(He){S=He}u.call(d.prototype)}else{try{throw Error()}catch(He){S=He}u()}}catch(He){if(He&&S&&typeof He.stack=="string"){for(var E=He.stack.split(`
`),R=S.stack.split(`
`),X=E.length-1,ae=R.length-1;1<=X&&0<=ae&&E[X]!==R[ae];)ae--;for(;1<=X&&0<=ae;X--,ae--)if(E[X]!==R[ae]){if(X!==1||ae!==1)do if(X--,ae--,0>ae||E[X]!==R[ae]){var Me=`
`+E[X].replace(" at new "," at ");return u.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",u.displayName)),Me}while(1<=X&&0<=ae);break}}}finally{yt=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?ot(u):""}var Pt=Object.prototype.hasOwnProperty,In=[],nn=-1;function An(u){return{current:u}}function zt(u){0>nn||(u.current=In[nn],In[nn]=null,nn--)}function _t(u,d){nn++,In[nn]=u.current,u.current=d}var St={},On=An(St),er=An(!1),Lr=St;function qa(u,d){var y=u.type.contextTypes;if(!y)return St;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===d)return S.__reactInternalMemoizedMaskedChildContext;var E={},R;for(R in y)E[R]=d[R];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=E),E}function Dn(u){return u=u.childContextTypes,u!=null}function Os(){zt(er),zt(On)}function Gn(u,d,y){if(On.current!==St)throw Error(a(168));_t(On,d),_t(er,y)}function _a(u,d,y){var S=u.stateNode;if(d=d.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var E in S)if(!(E in d))throw Error(a(108,N(u)||"Unknown",E));return i({},y,S)}function Ds(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||St,Lr=On.current,_t(On,u),_t(er,er.current),!0}function Nr(u,d,y){var S=u.stateNode;if(!S)throw Error(a(169));y?(u=_a(u,d,Lr),S.__reactInternalMemoizedMergedChildContext=u,zt(er),zt(On),_t(On,u)):zt(er),_t(er,y)}var kr=Math.clz32?Math.clz32:I4,Hv=Math.log,df=Math.LN2;function I4(u){return u>>>=0,u===0?32:31-(Hv(u)/df|0)|0}var hf=64,pf=4194304;function vd(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function ff(u,d){var y=u.pendingLanes;if(y===0)return 0;var S=0,E=u.suspendedLanes,R=u.pingedLanes,X=y&268435455;if(X!==0){var ae=X&~E;ae!==0?S=vd(ae):(R&=X,R!==0&&(S=vd(R)))}else X=y&~E,X!==0?S=vd(X):R!==0&&(S=vd(R));if(S===0)return 0;if(d!==0&&d!==S&&!(d&E)&&(E=S&-S,R=d&-d,E>=R||E===16&&(R&4194240)!==0))return d;if(S&4&&(S|=y&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=S;0<d;)y=31-kr(d),E=1<<y,S|=u[y],d&=~E;return S}function O4(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D4(u,d){for(var y=u.suspendedLanes,S=u.pingedLanes,E=u.expirationTimes,R=u.pendingLanes;0<R;){var X=31-kr(R),ae=1<<X,Me=E[X];Me===-1?(!(ae&y)||ae&S)&&(E[X]=O4(ae,d)):Me<=d&&(u.expiredLanes|=ae),R&=~ae}}function Wv(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Gv(u){for(var d=[],y=0;31>y;y++)d.push(u);return d}function yd(u,d,y){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-kr(d),u[d]=y}function U4(u,d){var y=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<y;){var E=31-kr(y),R=1<<E;d[E]=0,S[E]=-1,u[E]=-1,y&=~R}}function qv(u,d){var y=u.entangledLanes|=d;for(u=u.entanglements;y;){var S=31-kr(y),E=1<<S;E&d|u[S]&d&&(u[S]|=d),y&=~E}}var jt=0;function jM(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var Xv=r.unstable_scheduleCallback,VM=r.unstable_cancelCallback,z4=r.unstable_shouldYield,F4=r.unstable_requestPaint,tr=r.unstable_now,Yv=r.unstable_ImmediatePriority,B4=r.unstable_UserBlockingPriority,Zv=r.unstable_NormalPriority,$4=r.unstable_IdlePriority,mf=null,Sa=null;function j4(u){if(Sa&&typeof Sa.onCommitFiberRoot=="function")try{Sa.onCommitFiberRoot(mf,u,void 0,(u.current.flags&128)===128)}catch{}}function V4(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Ma=typeof Object.is=="function"?Object.is:V4,Xa=null,gf=!1,Qv=!1;function HM(u){Xa===null?Xa=[u]:Xa.push(u)}function H4(u){gf=!0,HM(u)}function Ea(){if(!Qv&&Xa!==null){Qv=!0;var u=0,d=jt;try{var y=Xa;for(jt=1;u<y.length;u++){var S=y[u];do S=S(!0);while(S!==null)}Xa=null,gf=!1}catch(E){throw Xa!==null&&(Xa=Xa.slice(u+1)),Xv(Yv,Ea),E}finally{jt=d,Qv=!1}}return null}var W4=s.ReactCurrentBatchConfig;function vf(u,d){if(Ma(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var y=Object.keys(u),S=Object.keys(d);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var E=y[S];if(!Pt.call(d,E)||!Ma(u[E],d[E]))return!1}return!0}function G4(u){switch(u.tag){case 5:return ot(u.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 2:case 15:return u=Et(u.type,!1),u;case 11:return u=Et(u.type.render,!1),u;case 1:return u=Et(u.type,!0),u;default:return""}}function Zi(u,d){if(u&&u.defaultProps){d=i({},d),u=u.defaultProps;for(var y in u)d[y]===void 0&&(d[y]=u[y]);return d}return d}var yf=An(null),xf=null,vc=null,Jv=null;function Kv(){Jv=vc=xf=null}function WM(u,d,y){Qe?(_t(yf,d._currentValue),d._currentValue=y):(_t(yf,d._currentValue2),d._currentValue2=y)}function ey(u){var d=yf.current;zt(yf),Qe?u._currentValue=d:u._currentValue2=d}function ty(u,d,y){for(;u!==null;){var S=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),u===y)break;u=u.return}}function yc(u,d){xf=u,Jv=vc=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&d&&(mi=!0),u.firstContext=null)}function Ri(u){var d=Qe?u._currentValue:u._currentValue2;if(Jv!==u)if(u={context:u,memoizedValue:d,next:null},vc===null){if(xf===null)throw Error(a(308));vc=u,xf.dependencies={lanes:0,firstContext:u}}else vc=vc.next=u;return d}var Ta=null,Us=!1;function ny(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GM(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ya(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function zs(u,d){var y=u.updateQueue;y!==null&&(y=y.shared,Un!==null&&u.mode&1&&!(It&2)?(u=y.interleaved,u===null?(d.next=d,Ta===null?Ta=[y]:Ta.push(y)):(d.next=u.next,u.next=d),y.interleaved=d):(u=y.pending,u===null?d.next=d:(d.next=u.next,u.next=d),y.pending=d))}function bf(u,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194240)!==0)){var S=d.lanes;S&=u.pendingLanes,y|=S,d.lanes=y,qv(u,y)}}function qM(u,d){var y=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var E=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var X={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?E=R=X:R=R.next=X,y=y.next}while(y!==null);R===null?E=R=d:R=R.next=d}else E=R=d;y={baseState:S.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:S.shared,effects:S.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=d:u.next=d,y.lastBaseUpdate=d}function wf(u,d,y,S){var E=u.updateQueue;Us=!1;var R=E.firstBaseUpdate,X=E.lastBaseUpdate,ae=E.shared.pending;if(ae!==null){E.shared.pending=null;var Me=ae,He=Me.next;Me.next=null,X===null?R=He:X.next=He,X=Me;var st=u.alternate;st!==null&&(st=st.updateQueue,ae=st.lastBaseUpdate,ae!==X&&(ae===null?st.firstBaseUpdate=He:ae.next=He,st.lastBaseUpdate=Me))}if(R!==null){var Tt=E.baseState;X=0,st=He=Me=null,ae=R;do{var vt=ae.lane,Kt=ae.eventTime;if((S&vt)===vt){st!==null&&(st=st.next={eventTime:Kt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var ut=u,vr=ae;switch(vt=d,Kt=y,vr.tag){case 1:if(ut=vr.payload,typeof ut=="function"){Tt=ut.call(Kt,Tt,vt);break e}Tt=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=vr.payload,vt=typeof ut=="function"?ut.call(Kt,Tt,vt):ut,vt==null)break e;Tt=i({},Tt,vt);break e;case 2:Us=!0}}ae.callback!==null&&ae.lane!==0&&(u.flags|=64,vt=E.effects,vt===null?E.effects=[ae]:vt.push(ae))}else Kt={eventTime:Kt,lane:vt,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},st===null?(He=st=Kt,Me=Tt):st=st.next=Kt,X|=vt;if(ae=ae.next,ae===null){if(ae=E.shared.pending,ae===null)break;vt=ae,ae=vt.next,vt.next=null,E.lastBaseUpdate=vt,E.shared.pending=null}}while(!0);if(st===null&&(Me=Tt),E.baseState=Me,E.firstBaseUpdate=He,E.lastBaseUpdate=st,d=E.shared.interleaved,d!==null){E=d;do X|=E.lane,E=E.next;while(E!==d)}else R===null&&(E.shared.lanes=0);Ac|=X,u.lanes=X,u.memoizedState=Tt}}function XM(u,d,y){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var S=u[d],E=S.callback;if(E!==null){if(S.callback=null,S=y,typeof E!="function")throw Error(a(191,E));E.call(S)}}}var YM=new n.Component().refs;function ry(u,d,y,S){d=u.memoizedState,y=y(S,d),y=y==null?d:i({},d,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var _f={isMounted:function(u){return(u=u._reactInternals)?O(u)===u:!1},enqueueSetState:function(u,d,y){u=u._reactInternals;var S=Or(),E=$s(u),R=Ya(S,E);R.payload=d,y!=null&&(R.callback=y),zs(u,R),d=Oi(u,E,S),d!==null&&bf(d,u,E)},enqueueReplaceState:function(u,d,y){u=u._reactInternals;var S=Or(),E=$s(u),R=Ya(S,E);R.tag=1,R.payload=d,y!=null&&(R.callback=y),zs(u,R),d=Oi(u,E,S),d!==null&&bf(d,u,E)},enqueueForceUpdate:function(u,d){u=u._reactInternals;var y=Or(),S=$s(u),E=Ya(y,S);E.tag=2,d!=null&&(E.callback=d),zs(u,E),d=Oi(u,S,y),d!==null&&bf(d,u,S)}};function ZM(u,d,y,S,E,R,X){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,R,X):d.prototype&&d.prototype.isPureReactComponent?!vf(y,S)||!vf(E,R):!0}function QM(u,d,y){var S=!1,E=St,R=d.contextType;return typeof R=="object"&&R!==null?R=Ri(R):(E=Dn(d)?Lr:On.current,S=d.contextTypes,R=(S=S!=null)?qa(u,E):St),d=new d(y,R),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_f,u.stateNode=d,d._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=E,u.__reactInternalMemoizedMaskedChildContext=R),d}function JM(u,d,y,S){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,S),d.state!==u&&_f.enqueueReplaceState(d,d.state,null)}function iy(u,d,y,S){var E=u.stateNode;E.props=y,E.state=u.memoizedState,E.refs=YM,ny(u);var R=d.contextType;typeof R=="object"&&R!==null?E.context=Ri(R):(R=Dn(d)?Lr:On.current,E.context=qa(u,R)),E.state=u.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(ry(u,d,R,y),E.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(d=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),d!==E.state&&_f.enqueueReplaceState(E,E.state,null),wf(u,y,E,S),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308)}var xc=[],bc=0,Sf=null,Mf=0,Li=[],Ni=0,Qo=null,Za=1,Qa="";function Jo(u,d){xc[bc++]=Mf,xc[bc++]=Sf,Sf=u,Mf=d}function KM(u,d,y){Li[Ni++]=Za,Li[Ni++]=Qa,Li[Ni++]=Qo,Qo=u;var S=Za;u=Qa;var E=32-kr(S)-1;S&=~(1<<E),y+=1;var R=32-kr(d)+E;if(30<R){var X=E-E%5;R=(S&(1<<X)-1).toString(32),S>>=X,E-=X,Za=1<<32-kr(d)+E|y<<E|S,Qa=R+u}else Za=1<<R|y<<E|S,Qa=u}function ay(u){u.return!==null&&(Jo(u,1),KM(u,1,0))}function sy(u){for(;u===Sf;)Sf=xc[--bc],xc[bc]=null,Mf=xc[--bc],xc[bc]=null;for(;u===Qo;)Qo=Li[--Ni],Li[Ni]=null,Qa=Li[--Ni],Li[Ni]=null,Za=Li[--Ni],Li[Ni]=null}var pi=null,fi=null,pn=!1,xd=!1,Qi=null;function eE(u,d){var y=Di(5,null,null,0);y.elementType="DELETED",y.stateNode=d,y.return=u,d=u.deletions,d===null?(u.deletions=[y],u.flags|=16):d.push(y)}function tE(u,d){switch(u.tag){case 5:return d=ft(d,u.type,u.pendingProps),d!==null?(u.stateNode=d,pi=u,fi=qt(d),!0):!1;case 6:return d=$e(d,u.pendingProps),d!==null?(u.stateNode=d,pi=u,fi=null,!0):!1;case 13:if(d=Ye(d),d!==null){var y=Qo!==null?{id:Za,overflow:Qa}:null;return u.memoizedState={dehydrated:d,treeContext:y,retryLane:1073741824},y=Di(18,null,null,0),y.stateNode=d,y.return=u,u.child=y,pi=u,fi=null,!0}return!1;default:return!1}}function oy(u){return(u.mode&1)!==0&&(u.flags&128)===0}function ly(u){if(pn){var d=fi;if(d){var y=d;if(!tE(u,d)){if(oy(u))throw Error(a(418));d=Gt(y);var S=pi;d&&tE(u,d)?eE(S,y):(u.flags=u.flags&-4097|2,pn=!1,pi=u)}}else{if(oy(u))throw Error(a(418));u.flags=u.flags&-4097|2,pn=!1,pi=u}}}function nE(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;pi=u}function bd(u){if(!Q||u!==pi)return!1;if(!pn)return nE(u),pn=!0,!1;if(u.tag!==3&&(u.tag!==5||de(u.type)&&!le(u.type,u.memoizedProps))){var d=fi;if(d){if(oy(u)){for(u=fi;u;)u=Gt(u);throw Error(a(418))}for(;d;)eE(u,d),d=Gt(d)}}if(nE(u),u.tag===13){if(!Q)throw Error(a(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));fi=hi(u)}else fi=pi?Gt(u.stateNode):null;return!0}function wc(){Q&&(fi=pi=null,xd=pn=!1)}function cy(u){Qi===null?Qi=[u]:Qi.push(u)}function wd(u,d,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(a(309));var S=y.stateNode}if(!S)throw Error(a(147,u));var E=S,R=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===R?d.ref:(d=function(X){var ae=E.refs;ae===YM&&(ae=E.refs={}),X===null?delete ae[R]:ae[R]=X},d._stringRef=R,d)}if(typeof u!="string")throw Error(a(284));if(!y._owner)throw Error(a(290,u))}return u}function Ef(u,d){throw u=Object.prototype.toString.call(d),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function rE(u){var d=u._init;return d(u._payload)}function iE(u){function d(ve,oe){if(u){var be=ve.deletions;be===null?(ve.deletions=[oe],ve.flags|=16):be.push(oe)}}function y(ve,oe){if(!u)return null;for(;oe!==null;)d(ve,oe),oe=oe.sibling;return null}function S(ve,oe){for(ve=new Map;oe!==null;)oe.key!==null?ve.set(oe.key,oe):ve.set(oe.index,oe),oe=oe.sibling;return ve}function E(ve,oe){return ve=Vs(ve,oe),ve.index=0,ve.sibling=null,ve}function R(ve,oe,be){return ve.index=be,u?(be=ve.alternate,be!==null?(be=be.index,be<oe?(ve.flags|=2,oe):be):(ve.flags|=2,oe)):(ve.flags|=1048576,oe)}function X(ve){return u&&ve.alternate===null&&(ve.flags|=2),ve}function ae(ve,oe,be,Je){return oe===null||oe.tag!==6?(oe=Wy(be,ve.mode,Je),oe.return=ve,oe):(oe=E(oe,be),oe.return=ve,oe)}function Me(ve,oe,be,Je){var dt=be.type;return dt===c?st(ve,oe,be.props.children,Je,be.key):oe!==null&&(oe.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===_&&rE(dt)===oe.type)?(Je=E(oe,be.props),Je.ref=wd(ve,oe,be),Je.return=ve,Je):(Je=nm(be.type,be.key,be.props,null,ve.mode,Je),Je.ref=wd(ve,oe,be),Je.return=ve,Je)}function He(ve,oe,be,Je){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==be.containerInfo||oe.stateNode.implementation!==be.implementation?(oe=Gy(be,ve.mode,Je),oe.return=ve,oe):(oe=E(oe,be.children||[]),oe.return=ve,oe)}function st(ve,oe,be,Je,dt){return oe===null||oe.tag!==7?(oe=al(be,ve.mode,Je,dt),oe.return=ve,oe):(oe=E(oe,be),oe.return=ve,oe)}function Tt(ve,oe,be){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Wy(""+oe,ve.mode,be),oe.return=ve,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case o:return be=nm(oe.type,oe.key,oe.props,null,ve.mode,be),be.ref=wd(ve,null,oe),be.return=ve,be;case l:return oe=Gy(oe,ve.mode,be),oe.return=ve,oe;case _:var Je=oe._init;return Tt(ve,Je(oe._payload),be)}if($(oe)||C(oe))return oe=al(oe,ve.mode,be,null),oe.return=ve,oe;Ef(ve,oe)}return null}function vt(ve,oe,be,Je){var dt=oe!==null?oe.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return dt!==null?null:ae(ve,oe,""+be,Je);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case o:return be.key===dt?Me(ve,oe,be,Je):null;case l:return be.key===dt?He(ve,oe,be,Je):null;case _:return dt=be._init,vt(ve,oe,dt(be._payload),Je)}if($(be)||C(be))return dt!==null?null:st(ve,oe,be,Je,null);Ef(ve,be)}return null}function Kt(ve,oe,be,Je,dt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return ve=ve.get(be)||null,ae(oe,ve,""+Je,dt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case o:return ve=ve.get(Je.key===null?be:Je.key)||null,Me(oe,ve,Je,dt);case l:return ve=ve.get(Je.key===null?be:Je.key)||null,He(oe,ve,Je,dt);case _:var kt=Je._init;return Kt(ve,oe,be,kt(Je._payload),dt)}if($(Je)||C(Je))return ve=ve.get(be)||null,st(oe,ve,Je,dt,null);Ef(oe,Je)}return null}function ut(ve,oe,be,Je){for(var dt=null,kt=null,At=oe,Vt=oe=0,rr=null;At!==null&&Vt<be.length;Vt++){At.index>Vt?(rr=At,At=null):rr=At.sibling;var Ht=vt(ve,At,be[Vt],Je);if(Ht===null){At===null&&(At=rr);break}u&&At&&Ht.alternate===null&&d(ve,At),oe=R(Ht,oe,Vt),kt===null?dt=Ht:kt.sibling=Ht,kt=Ht,At=rr}if(Vt===be.length)return y(ve,At),pn&&Jo(ve,Vt),dt;if(At===null){for(;Vt<be.length;Vt++)At=Tt(ve,be[Vt],Je),At!==null&&(oe=R(At,oe,Vt),kt===null?dt=At:kt.sibling=At,kt=At);return pn&&Jo(ve,Vt),dt}for(At=S(ve,At);Vt<be.length;Vt++)rr=Kt(At,ve,Vt,be[Vt],Je),rr!==null&&(u&&rr.alternate!==null&&At.delete(rr.key===null?Vt:rr.key),oe=R(rr,oe,Vt),kt===null?dt=rr:kt.sibling=rr,kt=rr);return u&&At.forEach(function(Hs){return d(ve,Hs)}),pn&&Jo(ve,Vt),dt}function vr(ve,oe,be,Je){var dt=C(be);if(typeof dt!="function")throw Error(a(150));if(be=dt.call(be),be==null)throw Error(a(151));for(var kt=dt=null,At=oe,Vt=oe=0,rr=null,Ht=be.next();At!==null&&!Ht.done;Vt++,Ht=be.next()){At.index>Vt?(rr=At,At=null):rr=At.sibling;var Hs=vt(ve,At,Ht.value,Je);if(Hs===null){At===null&&(At=rr);break}u&&At&&Hs.alternate===null&&d(ve,At),oe=R(Hs,oe,Vt),kt===null?dt=Hs:kt.sibling=Hs,kt=Hs,At=rr}if(Ht.done)return y(ve,At),pn&&Jo(ve,Vt),dt;if(At===null){for(;!Ht.done;Vt++,Ht=be.next())Ht=Tt(ve,Ht.value,Je),Ht!==null&&(oe=R(Ht,oe,Vt),kt===null?dt=Ht:kt.sibling=Ht,kt=Ht);return pn&&Jo(ve,Vt),dt}for(At=S(ve,At);!Ht.done;Vt++,Ht=be.next())Ht=Kt(At,ve,Vt,Ht.value,Je),Ht!==null&&(u&&Ht.alternate!==null&&At.delete(Ht.key===null?Vt:Ht.key),oe=R(Ht,oe,Vt),kt===null?dt=Ht:kt.sibling=Ht,kt=Ht);return u&&At.forEach(function(_5){return d(ve,_5)}),pn&&Jo(ve,Vt),dt}function Ui(ve,oe,be,Je){if(typeof be=="object"&&be!==null&&be.type===c&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case o:e:{for(var dt=be.key,kt=oe;kt!==null;){if(kt.key===dt){if(dt=be.type,dt===c){if(kt.tag===7){y(ve,kt.sibling),oe=E(kt,be.props.children),oe.return=ve,ve=oe;break e}}else if(kt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===_&&rE(dt)===kt.type){y(ve,kt.sibling),oe=E(kt,be.props),oe.ref=wd(ve,kt,be),oe.return=ve,ve=oe;break e}y(ve,kt);break}else d(ve,kt);kt=kt.sibling}be.type===c?(oe=al(be.props.children,ve.mode,Je,be.key),oe.return=ve,ve=oe):(Je=nm(be.type,be.key,be.props,null,ve.mode,Je),Je.ref=wd(ve,oe,be),Je.return=ve,ve=Je)}return X(ve);case l:e:{for(kt=be.key;oe!==null;){if(oe.key===kt)if(oe.tag===4&&oe.stateNode.containerInfo===be.containerInfo&&oe.stateNode.implementation===be.implementation){y(ve,oe.sibling),oe=E(oe,be.children||[]),oe.return=ve,ve=oe;break e}else{y(ve,oe);break}else d(ve,oe);oe=oe.sibling}oe=Gy(be,ve.mode,Je),oe.return=ve,ve=oe}return X(ve);case _:return kt=be._init,Ui(ve,oe,kt(be._payload),Je)}if($(be))return ut(ve,oe,be,Je);if(C(be))return vr(ve,oe,be,Je);Ef(ve,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,oe!==null&&oe.tag===6?(y(ve,oe.sibling),oe=E(oe,be),oe.return=ve,ve=oe):(y(ve,oe),oe=Wy(be,ve.mode,Je),oe.return=ve,ve=oe),X(ve)):y(ve,oe)}return Ui}var _c=iE(!0),aE=iE(!1),_d={},ki=An(_d),Sd=An(_d),Sc=An(_d);function Aa(u){if(u===_d)throw Error(a(174));return u}function uy(u,d){_t(Sc,d),_t(Sd,u),_t(ki,_d),u=ne(d),zt(ki),_t(ki,u)}function Mc(){zt(ki),zt(Sd),zt(Sc)}function sE(u){var d=Aa(Sc.current),y=Aa(ki.current);d=ie(y,u.type,d),y!==d&&(_t(Sd,u),_t(ki,d))}function dy(u){Sd.current===u&&(zt(ki),zt(Sd))}var gn=An(0);function Tf(u){for(var d=u;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||it(y)||gt(y)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var hy=[];function py(){for(var u=0;u<hy.length;u++){var d=hy[u];Qe?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}hy.length=0}var Af=s.ReactCurrentDispatcher,Ii=s.ReactCurrentBatchConfig,Ec=0,Sn=null,fr=null,nr=null,Cf=!1,Md=!1,Ed=0,q4=0;function mr(){throw Error(a(321))}function fy(u,d){if(d===null)return!1;for(var y=0;y<d.length&&y<u.length;y++)if(!Ma(u[y],d[y]))return!1;return!0}function my(u,d,y,S,E,R){if(Ec=R,Sn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Af.current=u===null||u.memoizedState===null?Q4:J4,u=y(S,E),Md){R=0;do{if(Md=!1,Ed=0,25<=R)throw Error(a(301));R+=1,nr=fr=null,d.updateQueue=null,Af.current=K4,u=y(S,E)}while(Md)}if(Af.current=kf,d=fr!==null&&fr.next!==null,Ec=0,nr=fr=Sn=null,Cf=!1,d)throw Error(a(300));return u}function gy(){var u=Ed!==0;return Ed=0,u}function Ja(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?Sn.memoizedState=nr=u:nr=nr.next=u,nr}function Ca(){if(fr===null){var u=Sn.alternate;u=u!==null?u.memoizedState:null}else u=fr.next;var d=nr===null?Sn.memoizedState:nr.next;if(d!==null)nr=d,fr=u;else{if(u===null)throw Error(a(310));fr=u,u={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},nr===null?Sn.memoizedState=nr=u:nr=nr.next=u}return nr}function Ko(u,d){return typeof d=="function"?d(u):d}function Pf(u){var d=Ca(),y=d.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=u;var S=fr,E=S.baseQueue,R=y.pending;if(R!==null){if(E!==null){var X=E.next;E.next=R.next,R.next=X}S.baseQueue=E=R,y.pending=null}if(E!==null){R=E.next,S=S.baseState;var ae=X=null,Me=null,He=R;do{var st=He.lane;if((Ec&st)===st)Me!==null&&(Me=Me.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),S=He.hasEagerState?He.eagerState:u(S,He.action);else{var Tt={lane:st,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Me===null?(ae=Me=Tt,X=S):Me=Me.next=Tt,Sn.lanes|=st,Ac|=st}He=He.next}while(He!==null&&He!==R);Me===null?X=S:Me.next=ae,Ma(S,d.memoizedState)||(mi=!0),d.memoizedState=S,d.baseState=X,d.baseQueue=Me,y.lastRenderedState=S}if(u=y.interleaved,u!==null){E=u;do R=E.lane,Sn.lanes|=R,Ac|=R,E=E.next;while(E!==u)}else E===null&&(y.lanes=0);return[d.memoizedState,y.dispatch]}function Rf(u){var d=Ca(),y=d.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=u;var S=y.dispatch,E=y.pending,R=d.memoizedState;if(E!==null){y.pending=null;var X=E=E.next;do R=u(R,X.action),X=X.next;while(X!==E);Ma(R,d.memoizedState)||(mi=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),y.lastRenderedState=R}return[R,S]}function oE(){}function lE(u,d){var y=Sn,S=Ca(),E=d(),R=!Ma(S.memoizedState,E);if(R&&(S.memoizedState=E,mi=!0),S=S.queue,Ad(dE.bind(null,y,S,u),[u]),S.getSnapshot!==d||R||nr!==null&&nr.memoizedState.tag&1){if(y.flags|=2048,Td(9,uE.bind(null,y,S,E,d),void 0,null),Un===null)throw Error(a(349));Ec&30||cE(y,d,E)}return E}function cE(u,d,y){u.flags|=16384,u={getSnapshot:d,value:y},d=Sn.updateQueue,d===null?(d={lastEffect:null,stores:null},Sn.updateQueue=d,d.stores=[u]):(y=d.stores,y===null?d.stores=[u]:y.push(u))}function uE(u,d,y,S){d.value=y,d.getSnapshot=S,hE(d)&&Oi(u,1,-1)}function dE(u,d,y){return y(function(){hE(d)&&Oi(u,1,-1)})}function hE(u){var d=u.getSnapshot;u=u.value;try{var y=d();return!Ma(u,y)}catch{return!0}}function vy(u){var d=Ja();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:u},d.queue=u,u=u.dispatch=Z4.bind(null,Sn,u),[d.memoizedState,u]}function Td(u,d,y,S){return u={tag:u,create:d,destroy:y,deps:S,next:null},d=Sn.updateQueue,d===null?(d={lastEffect:null,stores:null},Sn.updateQueue=d,d.lastEffect=u.next=u):(y=d.lastEffect,y===null?d.lastEffect=u.next=u:(S=y.next,y.next=u,u.next=S,d.lastEffect=u)),u}function pE(){return Ca().memoizedState}function Lf(u,d,y,S){var E=Ja();Sn.flags|=u,E.memoizedState=Td(1|d,y,void 0,S===void 0?null:S)}function Nf(u,d,y,S){var E=Ca();S=S===void 0?null:S;var R=void 0;if(fr!==null){var X=fr.memoizedState;if(R=X.destroy,S!==null&&fy(S,X.deps)){E.memoizedState=Td(d,y,R,S);return}}Sn.flags|=u,E.memoizedState=Td(1|d,y,R,S)}function yy(u,d){return Lf(8390656,8,u,d)}function Ad(u,d){return Nf(2048,8,u,d)}function fE(u,d){return Nf(4,2,u,d)}function mE(u,d){return Nf(4,4,u,d)}function gE(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function vE(u,d,y){return y=y!=null?y.concat([u]):null,Nf(4,4,gE.bind(null,d,u),y)}function xy(){}function yE(u,d){var y=Ca();d=d===void 0?null:d;var S=y.memoizedState;return S!==null&&d!==null&&fy(d,S[1])?S[0]:(y.memoizedState=[u,d],u)}function xE(u,d){var y=Ca();d=d===void 0?null:d;var S=y.memoizedState;return S!==null&&d!==null&&fy(d,S[1])?S[0]:(u=u(),y.memoizedState=[u,d],u)}function X4(u,d){var y=jt;jt=y!==0&&4>y?y:4,u(!0);var S=Ii.transition;Ii.transition={};try{u(!1),d()}finally{jt=y,Ii.transition=S}}function bE(){return Ca().memoizedState}function Y4(u,d,y){var S=$s(u);y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},wE(u)?_E(d,y):(SE(u,d,y),y=Or(),u=Oi(u,S,y),u!==null&&ME(u,d,S))}function Z4(u,d,y){var S=$s(u),E={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(wE(u))_E(d,E);else{SE(u,d,E);var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var X=d.lastRenderedState,ae=R(X,y);if(E.hasEagerState=!0,E.eagerState=ae,Ma(ae,X))return}catch{}finally{}y=Or(),u=Oi(u,S,y),u!==null&&ME(u,d,S)}}function wE(u){var d=u.alternate;return u===Sn||d!==null&&d===Sn}function _E(u,d){Md=Cf=!0;var y=u.pending;y===null?d.next=d:(d.next=y.next,y.next=d),u.pending=d}function SE(u,d,y){Un!==null&&u.mode&1&&!(It&2)?(u=d.interleaved,u===null?(y.next=y,Ta===null?Ta=[d]:Ta.push(d)):(y.next=u.next,u.next=y),d.interleaved=y):(u=d.pending,u===null?y.next=y:(y.next=u.next,u.next=y),d.pending=y)}function ME(u,d,y){if(y&4194240){var S=d.lanes;S&=u.pendingLanes,y|=S,d.lanes=y,qv(u,y)}}var kf={readContext:Ri,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},Q4={readContext:Ri,useCallback:function(u,d){return Ja().memoizedState=[u,d===void 0?null:d],u},useContext:Ri,useEffect:yy,useImperativeHandle:function(u,d,y){return y=y!=null?y.concat([u]):null,Lf(4194308,4,gE.bind(null,d,u),y)},useLayoutEffect:function(u,d){return Lf(4194308,4,u,d)},useInsertionEffect:function(u,d){return Lf(4,2,u,d)},useMemo:function(u,d){var y=Ja();return d=d===void 0?null:d,u=u(),y.memoizedState=[u,d],u},useReducer:function(u,d,y){var S=Ja();return d=y!==void 0?y(d):d,S.memoizedState=S.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},S.queue=u,u=u.dispatch=Y4.bind(null,Sn,u),[S.memoizedState,u]},useRef:function(u){var d=Ja();return u={current:u},d.memoizedState=u},useState:vy,useDebugValue:xy,useDeferredValue:function(u){var d=vy(u),y=d[0],S=d[1];return yy(function(){var E=Ii.transition;Ii.transition={};try{S(u)}finally{Ii.transition=E}},[u]),y},useTransition:function(){var u=vy(!1),d=u[0];return u=X4.bind(null,u[1]),Ja().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,y){var S=Sn,E=Ja();if(pn){if(y===void 0)throw Error(a(407));y=y()}else{if(y=d(),Un===null)throw Error(a(349));Ec&30||cE(S,d,y)}E.memoizedState=y;var R={value:y,getSnapshot:d};return E.queue=R,yy(dE.bind(null,S,R,u),[u]),S.flags|=2048,Td(9,uE.bind(null,S,R,y,d),void 0,null),y},useId:function(){var u=Ja(),d=Un.identifierPrefix;if(pn){var y=Qa,S=Za;y=(S&~(1<<32-kr(S)-1)).toString(32)+y,d=":"+d+"R"+y,y=Ed++,0<y&&(d+="H"+y.toString(32)),d+=":"}else y=q4++,d=":"+d+"r"+y.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},J4={readContext:Ri,useCallback:yE,useContext:Ri,useEffect:Ad,useImperativeHandle:vE,useInsertionEffect:fE,useLayoutEffect:mE,useMemo:xE,useReducer:Pf,useRef:pE,useState:function(){return Pf(Ko)},useDebugValue:xy,useDeferredValue:function(u){var d=Pf(Ko),y=d[0],S=d[1];return Ad(function(){var E=Ii.transition;Ii.transition={};try{S(u)}finally{Ii.transition=E}},[u]),y},useTransition:function(){var u=Pf(Ko)[0],d=Ca().memoizedState;return[u,d]},useMutableSource:oE,useSyncExternalStore:lE,useId:bE,unstable_isNewReconciler:!1},K4={readContext:Ri,useCallback:yE,useContext:Ri,useEffect:Ad,useImperativeHandle:vE,useInsertionEffect:fE,useLayoutEffect:mE,useMemo:xE,useReducer:Rf,useRef:pE,useState:function(){return Rf(Ko)},useDebugValue:xy,useDeferredValue:function(u){var d=Rf(Ko),y=d[0],S=d[1];return Ad(function(){var E=Ii.transition;Ii.transition={};try{S(u)}finally{Ii.transition=E}},[u]),y},useTransition:function(){var u=Rf(Ko)[0],d=Ca().memoizedState;return[u,d]},useMutableSource:oE,useSyncExternalStore:lE,useId:bE,unstable_isNewReconciler:!1};function by(u,d){try{var y="",S=d;do y+=G4(S),S=S.return;while(S);var E=y}catch(R){E=`
Error generating stack: `+R.message+`
`+R.stack}return{value:u,source:d,stack:E}}function wy(u,d){try{console.error(d.value)}catch(y){setTimeout(function(){throw y})}}var e5=typeof WeakMap=="function"?WeakMap:Map;function EE(u,d,y){y=Ya(-1,y),y.tag=3,y.payload={element:null};var S=d.value;return y.callback=function(){Yf||(Yf=!0,zy=S),wy(u,d)},y}function TE(u,d,y){y=Ya(-1,y),y.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var E=d.value;y.payload=function(){return S(E)},y.callback=function(){wy(u,d)}}var R=u.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){wy(u,d),typeof S!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var X=d.stack;this.componentDidCatch(d.value,{componentStack:X!==null?X:""})}),y}function AE(u,d,y){var S=u.pingCache;if(S===null){S=u.pingCache=new e5;var E=new Set;S.set(d,E)}else E=S.get(d),E===void 0&&(E=new Set,S.set(d,E));E.has(y)||(E.add(y),u=f5.bind(null,u,d,y),d.then(u,u))}function CE(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function PE(u,d,y,S,E){return u.mode&1?(u.flags|=65536,u.lanes=E,u):(u===d?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(d=Ya(-1,1),d.tag=2,zs(y,d))),y.lanes|=1),u)}function Pa(u){u.flags|=4}function RE(u,d){if(u!==null&&u.child===d.child)return!0;if(d.flags&16)return!1;for(u=d.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var Cd,Pd,If,Of;if(Ue)Cd=function(u,d){for(var y=d.child;y!==null;){if(y.tag===5||y.tag===6)K(u,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Pd=function(){},If=function(u,d,y,S,E){if(u=u.memoizedProps,u!==S){var R=d.stateNode,X=Aa(ki.current);y=ee(R,y,u,S,E,X),(d.updateQueue=y)&&Pa(d)}},Of=function(u,d,y,S){y!==S&&Pa(d)};else if(he){Cd=function(u,d,y,S){for(var E=d.child;E!==null;){if(E.tag===5){var R=E.stateNode;y&&S&&(R=_e(R,E.type,E.memoizedProps,E)),K(u,R)}else if(E.tag===6)R=E.stateNode,y&&S&&(R=Ee(R,E.memoizedProps,E)),K(u,R);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)R=E.child,R!==null&&(R.return=E),Cd(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var LE=function(u,d,y,S){for(var E=d.child;E!==null;){if(E.tag===5){var R=E.stateNode;y&&S&&(R=_e(R,E.type,E.memoizedProps,E)),ye(u,R)}else if(E.tag===6)R=E.stateNode,y&&S&&(R=Ee(R,E.memoizedProps,E)),ye(u,R);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)R=E.child,R!==null&&(R.return=E),LE(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Pd=function(u,d){var y=d.stateNode;if(!RE(u,d)){u=y.containerInfo;var S=ue(u);LE(S,d,!1,!1),y.pendingChildren=S,Pa(d),pe(u,S)}},If=function(u,d,y,S,E){var R=u.stateNode,X=u.memoizedProps;if((u=RE(u,d))&&X===S)d.stateNode=R;else{var ae=d.stateNode,Me=Aa(ki.current),He=null;X!==S&&(He=ee(ae,y,X,S,E,Me)),u&&He===null?d.stateNode=R:(R=te(R,He,y,X,S,d,u,ae),re(R,y,S,E,Me)&&Pa(d),d.stateNode=R,u?Pa(d):Cd(R,d,!1,!1))}},Of=function(u,d,y,S){y!==S?(u=Aa(Sc.current),y=Aa(ki.current),d.stateNode=Le(S,u,y,d),Pa(d)):d.stateNode=u.stateNode}}else Pd=function(){},If=function(){},Of=function(){};function Rd(u,d){if(!pn)switch(u.tailMode){case"hidden":d=u.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function gr(u){var d=u.alternate!==null&&u.alternate.child===u.child,y=0,S=0;if(d)for(var E=u.child;E!==null;)y|=E.lanes|E.childLanes,S|=E.subtreeFlags&14680064,S|=E.flags&14680064,E.return=u,E=E.sibling;else for(E=u.child;E!==null;)y|=E.lanes|E.childLanes,S|=E.subtreeFlags,S|=E.flags,E.return=u,E=E.sibling;return u.subtreeFlags|=S,u.childLanes=y,d}function t5(u,d,y){var S=d.pendingProps;switch(sy(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(d),null;case 1:return Dn(d.type)&&Os(),gr(d),null;case 3:return S=d.stateNode,Mc(),zt(er),zt(On),py(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(bd(d)?Pa(d):u===null||u.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Qi!==null&&($y(Qi),Qi=null))),Pd(u,d),gr(d),null;case 5:dy(d),y=Aa(Sc.current);var E=d.type;if(u!==null&&d.stateNode!=null)If(u,d,E,S,y),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!S){if(d.stateNode===null)throw Error(a(166));return gr(d),null}if(u=Aa(ki.current),bd(d)){if(!Q)throw Error(a(175));u=Rr(d.stateNode,d.type,d.memoizedProps,y,u,d,!xd),d.updateQueue=u,u!==null&&Pa(d)}else{var R=W(E,S,y,u,d);Cd(R,d,!1,!1),d.stateNode=R,re(R,E,S,y,u)&&Pa(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return gr(d),null;case 6:if(u&&d.stateNode!=null)Of(u,d,u.memoizedProps,S);else{if(typeof S!="string"&&d.stateNode===null)throw Error(a(166));if(u=Aa(Sc.current),y=Aa(ki.current),bd(d)){if(!Q)throw Error(a(176));if(u=d.stateNode,S=d.memoizedProps,(y=Wn(u,S,d,!xd))&&(E=pi,E!==null))switch(R=(E.mode&1)!==0,E.tag){case 3:Ne(E.stateNode.containerInfo,u,S,R);break;case 5:nt(E.type,E.memoizedProps,E.stateNode,u,S,R)}y&&Pa(d)}else d.stateNode=Le(S,u,y,d)}return gr(d),null;case 13:if(zt(gn),S=d.memoizedState,pn&&fi!==null&&d.mode&1&&!(d.flags&128)){for(u=fi;u;)u=Gt(u);return wc(),d.flags|=98560,d}if(S!==null&&S.dehydrated!==null){if(S=bd(d),u===null){if(!S)throw Error(a(318));if(!Q)throw Error(a(344));if(u=d.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));_n(u,d)}else wc(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return gr(d),null}return Qi!==null&&($y(Qi),Qi=null),d.flags&128?(d.lanes=y,d):(S=S!==null,y=!1,u===null?bd(d):y=u.memoizedState!==null,S&&!y&&(d.child.flags|=8192,d.mode&1&&(u===null||gn.current&1?qn===0&&(qn=3):Vy())),d.updateQueue!==null&&(d.flags|=4),gr(d),null);case 4:return Mc(),Pd(u,d),u===null&&Te(d.stateNode.containerInfo),gr(d),null;case 10:return ey(d.type._context),gr(d),null;case 17:return Dn(d.type)&&Os(),gr(d),null;case 19:if(zt(gn),E=d.memoizedState,E===null)return gr(d),null;if(S=(d.flags&128)!==0,R=E.rendering,R===null)if(S)Rd(E,!1);else{if(qn!==0||u!==null&&u.flags&128)for(u=d.child;u!==null;){if(R=Tf(u),R!==null){for(d.flags|=128,Rd(E,!1),u=R.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),d.subtreeFlags=0,u=y,S=d.child;S!==null;)y=S,E=u,y.flags&=14680066,R=y.alternate,R===null?(y.childLanes=0,y.lanes=E,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=R.childLanes,y.lanes=R.lanes,y.child=R.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=R.memoizedProps,y.memoizedState=R.memoizedState,y.updateQueue=R.updateQueue,y.type=R.type,E=R.dependencies,y.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),S=S.sibling;return _t(gn,gn.current&1|2),d.child}u=u.sibling}E.tail!==null&&tr()>Uy&&(d.flags|=128,S=!0,Rd(E,!1),d.lanes=4194304)}else{if(!S)if(u=Tf(R),u!==null){if(d.flags|=128,S=!0,u=u.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),Rd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!R.alternate&&!pn)return gr(d),null}else 2*tr()-E.renderingStartTime>Uy&&y!==1073741824&&(d.flags|=128,S=!0,Rd(E,!1),d.lanes=4194304);E.isBackwards?(R.sibling=d.child,d.child=R):(u=E.last,u!==null?u.sibling=R:d.child=R,E.last=R)}return E.tail!==null?(d=E.tail,E.rendering=d,E.tail=d.sibling,E.renderingStartTime=tr(),d.sibling=null,u=gn.current,_t(gn,S?u&1|2:u&1),d):(gr(d),null);case 22:case 23:return jy(),S=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(d.flags|=8192),S&&d.mode&1?gi&1073741824&&(gr(d),Ue&&d.subtreeFlags&6&&(d.flags|=8192)):gr(d),null;case 24:return null;case 25:return null}throw Error(a(156,d.tag))}var n5=s.ReactCurrentOwner,mi=!1;function Ir(u,d,y,S){d.child=u===null?aE(d,null,y,S):_c(d,u.child,y,S)}function NE(u,d,y,S,E){y=y.render;var R=d.ref;return yc(d,E),S=my(u,d,y,S,R,E),y=gy(),u!==null&&!mi?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~E,Ka(u,d,E)):(pn&&y&&ay(d),d.flags|=1,Ir(u,d,S,E),d.child)}function kE(u,d,y,S,E){if(u===null){var R=y.type;return typeof R=="function"&&!Hy(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(d.tag=15,d.type=R,IE(u,d,R,S,E)):(u=nm(y.type,null,S,d,d.mode,E),u.ref=d.ref,u.return=d,d.child=u)}if(R=u.child,!(u.lanes&E)){var X=R.memoizedProps;if(y=y.compare,y=y!==null?y:vf,y(X,S)&&u.ref===d.ref)return Ka(u,d,E)}return d.flags|=1,u=Vs(R,S),u.ref=d.ref,u.return=d,d.child=u}function IE(u,d,y,S,E){if(u!==null&&vf(u.memoizedProps,S)&&u.ref===d.ref)if(mi=!1,(u.lanes&E)!==0)u.flags&131072&&(mi=!0);else return d.lanes=u.lanes,Ka(u,d,E);return _y(u,d,y,S,E)}function OE(u,d,y){var S=d.pendingProps,E=S.children,R=u!==null?u.memoizedState:null;if(S.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},_t(Tc,gi),gi|=y;else if(y&1073741824)d.memoizedState={baseLanes:0,cachePool:null},S=R!==null?R.baseLanes:y,_t(Tc,gi),gi|=S;else return u=R!==null?R.baseLanes|y:y,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null},d.updateQueue=null,_t(Tc,gi),gi|=u,null;else R!==null?(S=R.baseLanes|y,d.memoizedState=null):S=y,_t(Tc,gi),gi|=S;return Ir(u,d,E,y),d.child}function DE(u,d){var y=d.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(d.flags|=512,d.flags|=2097152)}function _y(u,d,y,S,E){var R=Dn(y)?Lr:On.current;return R=qa(d,R),yc(d,E),y=my(u,d,y,S,R,E),S=gy(),u!==null&&!mi?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~E,Ka(u,d,E)):(pn&&S&&ay(d),d.flags|=1,Ir(u,d,y,E),d.child)}function UE(u,d,y,S,E){if(Dn(y)){var R=!0;Ds(d)}else R=!1;if(yc(d,E),d.stateNode===null)u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),QM(d,y,S),iy(d,y,S,E),S=!0;else if(u===null){var X=d.stateNode,ae=d.memoizedProps;X.props=ae;var Me=X.context,He=y.contextType;typeof He=="object"&&He!==null?He=Ri(He):(He=Dn(y)?Lr:On.current,He=qa(d,He));var st=y.getDerivedStateFromProps,Tt=typeof st=="function"||typeof X.getSnapshotBeforeUpdate=="function";Tt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ae!==S||Me!==He)&&JM(d,X,S,He),Us=!1;var vt=d.memoizedState;X.state=vt,wf(d,S,X,E),Me=d.memoizedState,ae!==S||vt!==Me||er.current||Us?(typeof st=="function"&&(ry(d,y,st,S),Me=d.memoizedState),(ae=Us||ZM(d,y,ae,S,vt,Me,He))?(Tt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(d.flags|=4194308)):(typeof X.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=Me),X.props=S,X.state=Me,X.context=He,S=ae):(typeof X.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{X=d.stateNode,GM(u,d),ae=d.memoizedProps,He=d.type===d.elementType?ae:Zi(d.type,ae),X.props=He,Tt=d.pendingProps,vt=X.context,Me=y.contextType,typeof Me=="object"&&Me!==null?Me=Ri(Me):(Me=Dn(y)?Lr:On.current,Me=qa(d,Me));var Kt=y.getDerivedStateFromProps;(st=typeof Kt=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ae!==Tt||vt!==Me)&&JM(d,X,S,Me),Us=!1,vt=d.memoizedState,X.state=vt,wf(d,S,X,E);var ut=d.memoizedState;ae!==Tt||vt!==ut||er.current||Us?(typeof Kt=="function"&&(ry(d,y,Kt,S),ut=d.memoizedState),(He=Us||ZM(d,y,He,S,vt,ut,Me)||!1)?(st||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(S,ut,Me),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(S,ut,Me)),typeof X.componentDidUpdate=="function"&&(d.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof X.componentDidUpdate!="function"||ae===u.memoizedProps&&vt===u.memoizedState||(d.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ae===u.memoizedProps&&vt===u.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=ut),X.props=S,X.state=ut,X.context=Me,S=He):(typeof X.componentDidUpdate!="function"||ae===u.memoizedProps&&vt===u.memoizedState||(d.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ae===u.memoizedProps&&vt===u.memoizedState||(d.flags|=1024),S=!1)}return Sy(u,d,y,S,R,E)}function Sy(u,d,y,S,E,R){DE(u,d);var X=(d.flags&128)!==0;if(!S&&!X)return E&&Nr(d,y,!1),Ka(u,d,R);S=d.stateNode,n5.current=d;var ae=X&&typeof y.getDerivedStateFromError!="function"?null:S.render();return d.flags|=1,u!==null&&X?(d.child=_c(d,u.child,null,R),d.child=_c(d,null,ae,R)):Ir(u,d,ae,R),d.memoizedState=S.state,E&&Nr(d,y,!0),d.child}function zE(u){var d=u.stateNode;d.pendingContext?Gn(u,d.pendingContext,d.pendingContext!==d.context):d.context&&Gn(u,d.context,!1),uy(u,d.containerInfo)}function FE(u,d,y,S,E){return wc(),cy(E),d.flags|=256,Ir(u,d,y,S),d.child}var Df={dehydrated:null,treeContext:null,retryLane:0};function Uf(u){return{baseLanes:u,cachePool:null}}function BE(u,d,y){var S=d.pendingProps,E=gn.current,R=!1,X=(d.flags&128)!==0,ae;if((ae=X)||(ae=u!==null&&u.memoizedState===null?!1:(E&2)!==0),ae?(R=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(E|=1),_t(gn,E&1),u===null)return ly(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(d.mode&1?gt(u)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(E=S.children,u=S.fallback,R?(S=d.mode,R=d.child,E={mode:"hidden",children:E},!(S&1)&&R!==null?(R.childLanes=0,R.pendingProps=E):R=rm(E,S,0,null),u=al(u,S,y,null),R.return=d,u.return=d,R.sibling=u,d.child=R,d.child.memoizedState=Uf(y),d.memoizedState=Df,u):My(d,E));if(E=u.memoizedState,E!==null){if(ae=E.dehydrated,ae!==null){if(X)return d.flags&256?(d.flags&=-257,zf(u,d,y,Error(a(422)))):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):(R=S.fallback,E=d.mode,S=rm({mode:"visible",children:S.children},E,0,null),R=al(R,E,y,null),R.flags|=2,S.return=d,R.return=d,S.sibling=R,d.child=S,d.mode&1&&_c(d,u.child,null,y),d.child.memoizedState=Uf(y),d.memoizedState=Df,R);if(!(d.mode&1))d=zf(u,d,y,null);else if(gt(ae))d=zf(u,d,y,Error(a(419)));else if(S=(y&u.childLanes)!==0,mi||S){if(S=Un,S!==null){switch(y&-y){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}S=R&(S.suspendedLanes|y)?0:R,S!==0&&S!==E.retryLane&&(E.retryLane=S,Oi(u,S,-1))}Vy(),d=zf(u,d,y,Error(a(421)))}else it(ae)?(d.flags|=128,d.child=u.child,d=m5.bind(null,u),Wt(ae,d),d=null):(y=E.treeContext,Q&&(fi=$t(ae),pi=d,pn=!0,Qi=null,xd=!1,y!==null&&(Li[Ni++]=Za,Li[Ni++]=Qa,Li[Ni++]=Qo,Za=y.id,Qa=y.overflow,Qo=d)),d=My(d,d.pendingProps.children),d.flags|=4096);return d}return R?(S=jE(u,d,S.children,S.fallback,y),R=d.child,E=u.child.memoizedState,R.memoizedState=E===null?Uf(y):{baseLanes:E.baseLanes|y,cachePool:null},R.childLanes=u.childLanes&~y,d.memoizedState=Df,S):(y=$E(u,d,S.children,y),d.memoizedState=null,y)}return R?(S=jE(u,d,S.children,S.fallback,y),R=d.child,E=u.child.memoizedState,R.memoizedState=E===null?Uf(y):{baseLanes:E.baseLanes|y,cachePool:null},R.childLanes=u.childLanes&~y,d.memoizedState=Df,S):(y=$E(u,d,S.children,y),d.memoizedState=null,y)}function My(u,d){return d=rm({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function $E(u,d,y,S){var E=u.child;return u=E.sibling,y=Vs(E,{mode:"visible",children:y}),!(d.mode&1)&&(y.lanes=S),y.return=d,y.sibling=null,u!==null&&(S=d.deletions,S===null?(d.deletions=[u],d.flags|=16):S.push(u)),d.child=y}function jE(u,d,y,S,E){var R=d.mode;u=u.child;var X=u.sibling,ae={mode:"hidden",children:y};return!(R&1)&&d.child!==u?(y=d.child,y.childLanes=0,y.pendingProps=ae,d.deletions=null):(y=Vs(u,ae),y.subtreeFlags=u.subtreeFlags&14680064),X!==null?S=Vs(X,S):(S=al(S,R,E,null),S.flags|=2),S.return=d,y.return=d,y.sibling=S,d.child=y,S}function zf(u,d,y,S){return S!==null&&cy(S),_c(d,u.child,null,y),u=My(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function VE(u,d,y){u.lanes|=d;var S=u.alternate;S!==null&&(S.lanes|=d),ty(u.return,d,y)}function Ey(u,d,y,S,E){var R=u.memoizedState;R===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:E}:(R.isBackwards=d,R.rendering=null,R.renderingStartTime=0,R.last=S,R.tail=y,R.tailMode=E)}function HE(u,d,y){var S=d.pendingProps,E=S.revealOrder,R=S.tail;if(Ir(u,d,S.children,y),S=gn.current,S&2)S=S&1|2,d.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&VE(u,y,d);else if(u.tag===19)VE(u,y,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(_t(gn,S),!(d.mode&1))d.memoizedState=null;else switch(E){case"forwards":for(y=d.child,E=null;y!==null;)u=y.alternate,u!==null&&Tf(u)===null&&(E=y),y=y.sibling;y=E,y===null?(E=d.child,d.child=null):(E=y.sibling,y.sibling=null),Ey(d,!1,E,y,R);break;case"backwards":for(y=null,E=d.child,d.child=null;E!==null;){if(u=E.alternate,u!==null&&Tf(u)===null){d.child=E;break}u=E.sibling,E.sibling=y,y=E,E=u}Ey(d,!0,y,null,R);break;case"together":Ey(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Ka(u,d,y){if(u!==null&&(d.dependencies=u.dependencies),Ac|=d.lanes,!(y&d.childLanes))return null;if(u!==null&&d.child!==u.child)throw Error(a(153));if(d.child!==null){for(u=d.child,y=Vs(u,u.pendingProps),d.child=y,y.return=d;u.sibling!==null;)u=u.sibling,y=y.sibling=Vs(u,u.pendingProps),y.return=d;y.sibling=null}return d.child}function r5(u,d,y){switch(d.tag){case 3:zE(d),wc();break;case 5:sE(d);break;case 1:Dn(d.type)&&Ds(d);break;case 4:uy(d,d.stateNode.containerInfo);break;case 10:WM(d,d.type._context,d.memoizedProps.value);break;case 13:var S=d.memoizedState;if(S!==null)return S.dehydrated!==null?(_t(gn,gn.current&1),d.flags|=128,null):y&d.child.childLanes?BE(u,d,y):(_t(gn,gn.current&1),u=Ka(u,d,y),u!==null?u.sibling:null);_t(gn,gn.current&1);break;case 19:if(S=(y&d.childLanes)!==0,u.flags&128){if(S)return HE(u,d,y);d.flags|=128}var E=d.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),_t(gn,gn.current),S)break;return null;case 22:case 23:return d.lanes=0,OE(u,d,y)}return Ka(u,d,y)}function i5(u,d){switch(sy(d),d.tag){case 1:return Dn(d.type)&&Os(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Mc(),zt(er),zt(On),py(),u=d.flags,u&65536&&!(u&128)?(d.flags=u&-65537|128,d):null;case 5:return dy(d),null;case 13:if(zt(gn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(a(340));wc()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return zt(gn),null;case 4:return Mc(),null;case 10:return ey(d.type._context),null;case 22:case 23:return jy(),null;case 24:return null;default:return null}}var Ff=!1,el=!1,a5=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Bf(u,d){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){Jr(u,d,S)}else y.current=null}function WE(u,d,y){try{y()}catch(S){Jr(u,d,S)}}var GE=!1;function s5(u,d){for(D(u.containerInfo),Ze=d;Ze!==null;)if(u=Ze,d=u.child,(u.subtreeFlags&1028)!==0&&d!==null)d.return=u,Ze=d;else for(;Ze!==null;){u=Ze;try{var y=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,E=y.memoizedState,R=u.stateNode,X=R.getSnapshotBeforeUpdate(u.elementType===u.type?S:Zi(u.type,S),E);R.__reactInternalSnapshotBeforeUpdate=X}break;case 3:Ue&&B(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ae){Jr(u,u.return,ae)}if(d=u.sibling,d!==null){d.return=u.return,Ze=d;break}Ze=u.return}return y=GE,GE=!1,y}function tl(u,d,y){var S=d.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var E=S=S.next;do{if((E.tag&u)===u){var R=E.destroy;E.destroy=void 0,R!==void 0&&WE(d,y,R)}E=E.next}while(E!==S)}}function Ld(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&u)===u){var S=y.create;y.destroy=S()}y=y.next}while(y!==d)}}function Ty(u){var d=u.ref;if(d!==null){var y=u.stateNode;switch(u.tag){case 5:u=Z(y);break;default:u=y}typeof d=="function"?d(u):d.current=u}}function qE(u,d,y){if(Sa&&typeof Sa.onCommitFiberUnmount=="function")try{Sa.onCommitFiberUnmount(mf,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(u=d.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var S=u=u.next;do{var E=S,R=E.destroy;E=E.tag,R!==void 0&&(E&2||E&4)&&WE(d,y,R),S=S.next}while(S!==u)}break;case 1:if(Bf(d,y),u=d.stateNode,typeof u.componentWillUnmount=="function")try{u.props=d.memoizedProps,u.state=d.memoizedState,u.componentWillUnmount()}catch(X){Jr(d,y,X)}break;case 5:Bf(d,y);break;case 4:Ue?KE(u,d,y):he&&he&&(d=d.stateNode.containerInfo,y=ue(d),xe(d,y))}}function XE(u,d,y){for(var S=d;;)if(qE(u,S,y),S.child===null||Ue&&S.tag===4){if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function YE(u){var d=u.alternate;d!==null&&(u.alternate=null,YE(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&Fe(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function ZE(u){return u.tag===5||u.tag===3||u.tag===4}function QE(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||ZE(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function JE(u){if(Ue){e:{for(var d=u.return;d!==null;){if(ZE(d))break e;d=d.return}throw Error(a(160))}var y=d;switch(y.tag){case 5:d=y.stateNode,y.flags&32&&(mt(d),y.flags&=-33),y=QE(u),Cy(u,y,d);break;case 3:case 4:d=y.stateNode.containerInfo,y=QE(u),Ay(u,y,d);break;default:throw Error(a(161))}}}function Ay(u,d,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,d?pt(y,u,d):ht(y,u);else if(S!==4&&(u=u.child,u!==null))for(Ay(u,d,y),u=u.sibling;u!==null;)Ay(u,d,y),u=u.sibling}function Cy(u,d,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,d?wt(y,u,d):Ge(y,u);else if(S!==4&&(u=u.child,u!==null))for(Cy(u,d,y),u=u.sibling;u!==null;)Cy(u,d,y),u=u.sibling}function KE(u,d,y){for(var S=d,E=!1,R,X;;){if(!E){E=S.return;e:for(;;){if(E===null)throw Error(a(160));switch(R=E.stateNode,E.tag){case 5:X=!1;break e;case 3:R=R.containerInfo,X=!0;break e;case 4:R=R.containerInfo,X=!0;break e}E=E.return}E=!0}if(S.tag===5||S.tag===6)XE(u,S,y),X?Ke(R,S.stateNode):Be(R,S.stateNode);else if(S.tag===18)X?ge(R,S.stateNode):fe(R,S.stateNode);else if(S.tag===4){if(S.child!==null){R=S.stateNode.containerInfo,X=!0,S.child.return=S,S=S.child;continue}}else if(qE(u,S,y),S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return,S.tag===4&&(E=!1)}S.sibling.return=S.return,S=S.sibling}}function Py(u,d){if(Ue){switch(d.tag){case 0:case 11:case 14:case 15:tl(3,d,d.return),Ld(3,d),tl(5,d,d.return);return;case 1:return;case 5:var y=d.stateNode;if(y!=null){var S=d.memoizedProps;u=u!==null?u.memoizedProps:S;var E=d.type,R=d.updateQueue;d.updateQueue=null,R!==null&&Ft(y,R,E,u,S,d)}return;case 6:if(d.stateNode===null)throw Error(a(162));y=d.memoizedProps,bt(d.stateNode,u!==null?u.memoizedProps:y,y);return;case 3:Q&&u!==null&&u.memoizedState.isDehydrated&&V(d.stateNode.containerInfo);return;case 12:return;case 13:$f(d);return;case 19:$f(d);return;case 17:return}throw Error(a(163))}switch(d.tag){case 0:case 11:case 14:case 15:tl(3,d,d.return),Ld(3,d),tl(5,d,d.return);return;case 12:return;case 13:$f(d);return;case 19:$f(d);return;case 3:Q&&u!==null&&u.memoizedState.isDehydrated&&V(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(he){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,xe(d.containerInfo,d.pendingChildren);break e}throw Error(a(163))}}function $f(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new a5),d.forEach(function(S){var E=g5.bind(null,u,S);y.has(S)||(y.add(S),S.then(E,E))})}}function o5(u,d){for(Ze=d;Ze!==null;){d=Ze;var y=d.deletions;if(y!==null)for(var S=0;S<y.length;S++){var E=y[S];try{var R=u;Ue?KE(R,E,d):XE(R,E,d);var X=E.alternate;X!==null&&(X.return=null),E.return=null}catch(dt){Jr(E,d,dt)}}if(y=d.child,d.subtreeFlags&12854&&y!==null)y.return=d,Ze=y;else for(;Ze!==null;){d=Ze;try{var ae=d.flags;if(ae&32&&Ue&&mt(d.stateNode),ae&512){var Me=d.alternate;if(Me!==null){var He=Me.ref;He!==null&&(typeof He=="function"?He(null):He.current=null)}}if(ae&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var st=d.alternate;(st===null||st.memoizedState===null)&&(Dy=tr())}break;case 22:var Tt=d.memoizedState!==null,vt=d.alternate,Kt=vt!==null&&vt.memoizedState!==null;if(y=d,Ue){e:if(S=y,E=Tt,R=null,Ue)for(var ut=S;;){if(ut.tag===5){if(R===null){R=ut;var vr=ut.stateNode;E?k(vr):Y(ut.stateNode,ut.memoizedProps)}}else if(ut.tag===6){if(R===null){var Ui=ut.stateNode;E?z(Ui):J(Ui,ut.memoizedProps)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===S)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===S)break;for(;ut.sibling===null;){if(ut.return===null||ut.return===S)break e;R===ut&&(R=null),ut=ut.return}R===ut&&(R=null),ut.sibling.return=ut.return,ut=ut.sibling}}if(Tt&&!Kt&&y.mode&1){Ze=y;for(var ve=y.child;ve!==null;){for(y=Ze=ve;Ze!==null;){S=Ze;var oe=S.child;switch(S.tag){case 0:case 11:case 14:case 15:tl(4,S,S.return);break;case 1:Bf(S,S.return);var be=S.stateNode;if(typeof be.componentWillUnmount=="function"){var Je=S.return;try{be.props=S.memoizedProps,be.state=S.memoizedState,be.componentWillUnmount()}catch(dt){Jr(S,Je,dt)}}break;case 5:Bf(S,S.return);break;case 22:if(S.memoizedState!==null){nT(y);continue}}oe!==null?(oe.return=S,Ze=oe):nT(y)}ve=ve.sibling}}}switch(ae&4102){case 2:JE(d),d.flags&=-3;break;case 6:JE(d),d.flags&=-3,Py(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,Py(d.alternate,d);break;case 4:Py(d.alternate,d)}}catch(dt){Jr(d,d.return,dt)}if(y=d.sibling,y!==null){y.return=d.return,Ze=y;break}Ze=d.return}}}function l5(u,d,y){Ze=u,eT(u)}function eT(u,d,y){for(var S=(u.mode&1)!==0;Ze!==null;){var E=Ze,R=E.child;if(E.tag===22&&S){var X=E.memoizedState!==null||Ff;if(!X){var ae=E.alternate,Me=ae!==null&&ae.memoizedState!==null||el;ae=Ff;var He=el;if(Ff=X,(el=Me)&&!He)for(Ze=E;Ze!==null;)X=Ze,Me=X.child,X.tag===22&&X.memoizedState!==null?rT(E):Me!==null?(Me.return=X,Ze=Me):rT(E);for(;R!==null;)Ze=R,eT(R),R=R.sibling;Ze=E,Ff=ae,el=He}tT(u)}else E.subtreeFlags&8772&&R!==null?(R.return=E,Ze=R):tT(u)}}function tT(u){for(;Ze!==null;){var d=Ze;if(d.flags&8772){var y=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:el||Ld(5,d);break;case 1:var S=d.stateNode;if(d.flags&4&&!el)if(y===null)S.componentDidMount();else{var E=d.elementType===d.type?y.memoizedProps:Zi(d.type,y.memoizedProps);S.componentDidUpdate(E,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var R=d.updateQueue;R!==null&&XM(d,R,S);break;case 3:var X=d.updateQueue;if(X!==null){if(y=null,d.child!==null)switch(d.child.tag){case 5:y=Z(d.child.stateNode);break;case 1:y=d.child.stateNode}XM(d,X,y)}break;case 5:var ae=d.stateNode;y===null&&d.flags&4&&Oe(ae,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(Q&&d.memoizedState===null){var Me=d.alternate;if(Me!==null){var He=Me.memoizedState;if(He!==null){var st=He.dehydrated;st!==null&&ce(st)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}el||d.flags&512&&Ty(d)}catch(Tt){Jr(d,d.return,Tt)}}if(d===u){Ze=null;break}if(y=d.sibling,y!==null){y.return=d.return,Ze=y;break}Ze=d.return}}function nT(u){for(;Ze!==null;){var d=Ze;if(d===u){Ze=null;break}var y=d.sibling;if(y!==null){y.return=d.return,Ze=y;break}Ze=d.return}}function rT(u){for(;Ze!==null;){var d=Ze;try{switch(d.tag){case 0:case 11:case 15:var y=d.return;try{Ld(4,d)}catch(Me){Jr(d,y,Me)}break;case 1:var S=d.stateNode;if(typeof S.componentDidMount=="function"){var E=d.return;try{S.componentDidMount()}catch(Me){Jr(d,E,Me)}}var R=d.return;try{Ty(d)}catch(Me){Jr(d,R,Me)}break;case 5:var X=d.return;try{Ty(d)}catch(Me){Jr(d,X,Me)}}}catch(Me){Jr(d,d.return,Me)}if(d===u){Ze=null;break}var ae=d.sibling;if(ae!==null){ae.return=d.return,Ze=ae;break}Ze=d.return}}var jf=0,Vf=1,Hf=2,Wf=3,Gf=4;if(typeof Symbol=="function"&&Symbol.for){var Nd=Symbol.for;jf=Nd("selector.component"),Vf=Nd("selector.has_pseudo_class"),Hf=Nd("selector.role"),Wf=Nd("selector.test_id"),Gf=Nd("selector.text")}function Ry(u){var d=ke(u);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(a(364));return d}if(u=U(u),u===null)throw Error(a(362));return u.stateNode.current}function Ly(u,d){switch(d.$$typeof){case jf:if(u.type===d.value)return!0;break;case Vf:e:{d=d.value,u=[u,0];for(var y=0;y<u.length;){var S=u[y++],E=u[y++],R=d[E];if(S.tag!==5||!Ae(S)){for(;R!=null&&Ly(S,R);)E++,R=d[E];if(E===d.length){d=!0;break e}else for(S=S.child;S!==null;)u.push(S,E),S=S.sibling}}d=!1}return d;case Hf:if(u.tag===5&&ze(u.stateNode,d.value))return!0;break;case Gf:if((u.tag===5||u.tag===6)&&(u=De(u),u!==null&&0<=u.indexOf(d.value)))return!0;break;case Wf:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Ny(u){switch(u.$$typeof){case jf:return"<"+(A(u.value)||"Unknown")+">";case Vf:return":has("+(Ny(u)||"")+")";case Hf:return'[role="'+u.value+'"]';case Gf:return'"'+u.value+'"';case Wf:return'[data-testname="'+u.value+'"]';default:throw Error(a(365))}}function iT(u,d){var y=[];u=[u,0];for(var S=0;S<u.length;){var E=u[S++],R=u[S++],X=d[R];if(E.tag!==5||!Ae(E)){for(;X!=null&&Ly(E,X);)R++,X=d[R];if(R===d.length)y.push(E);else for(E=E.child;E!==null;)u.push(E,R),E=E.sibling}}return y}function ky(u,d){if(!j)throw Error(a(363));u=Ry(u),u=iT(u,d),d=[],u=Array.from(u);for(var y=0;y<u.length;){var S=u[y++];if(S.tag===5)Ae(S)||d.push(S.stateNode);else for(S=S.child;S!==null;)u.push(S),S=S.sibling}return d}var c5=Math.ceil,qf=s.ReactCurrentDispatcher,Iy=s.ReactCurrentOwner,Cn=s.ReactCurrentBatchConfig,It=0,Un=null,zn=null,lr=0,gi=0,Tc=An(0),qn=0,kd=null,Ac=0,Xf=0,Oy=0,Id=null,Zr=null,Dy=0,Uy=1/0;function Cc(){Uy=tr()+500}var Yf=!1,zy=null,Fs=null,Zf=!1,Bs=null,Qf=0,Od=0,Fy=null,Jf=-1,Kf=0;function Or(){return It&6?tr():Jf!==-1?Jf:Jf=tr()}function $s(u){return u.mode&1?It&2&&lr!==0?lr&-lr:W4.transition!==null?(Kf===0&&(u=hf,hf<<=1,!(hf&4194240)&&(hf=64),Kf=u),Kf):(u=jt,u!==0?u:Se()):1}function Oi(u,d,y){if(50<Od)throw Od=0,Fy=null,Error(a(185));var S=em(u,d);return S===null?null:(yd(S,d,y),(!(It&2)||S!==Un)&&(S===Un&&(!(It&2)&&(Xf|=d),qn===4&&js(S,lr)),Qr(S,y),d===1&&It===0&&!(u.mode&1)&&(Cc(),gf&&Ea())),S)}function em(u,d){u.lanes|=d;var y=u.alternate;for(y!==null&&(y.lanes|=d),y=u,u=u.return;u!==null;)u.childLanes|=d,y=u.alternate,y!==null&&(y.childLanes|=d),y=u,u=u.return;return y.tag===3?y.stateNode:null}function Qr(u,d){var y=u.callbackNode;D4(u,d);var S=ff(u,u===Un?lr:0);if(S===0)y!==null&&VM(y),u.callbackNode=null,u.callbackPriority=0;else if(d=S&-S,u.callbackPriority!==d){if(y!=null&&VM(y),d===1)u.tag===0?H4(sT.bind(null,u)):HM(sT.bind(null,u)),we?Xe(function(){It===0&&Ea()}):Xv(Yv,Ea),y=null;else{switch(jM(S)){case 1:y=Yv;break;case 4:y=B4;break;case 16:y=Zv;break;case 536870912:y=$4;break;default:y=Zv}y=mT(y,aT.bind(null,u))}u.callbackPriority=d,u.callbackNode=y}}function aT(u,d){if(Jf=-1,Kf=0,It&6)throw Error(a(327));var y=u.callbackNode;if(il()&&u.callbackNode!==y)return null;var S=ff(u,u===Un?lr:0);if(S===0)return null;if(S&30||S&u.expiredLanes||d)d=tm(u,S);else{d=S;var E=It;It|=2;var R=cT();(Un!==u||lr!==d)&&(Cc(),nl(u,d));do try{h5();break}catch(ae){lT(u,ae)}while(!0);Kv(),qf.current=R,It=E,zn!==null?d=0:(Un=null,lr=0,d=qn)}if(d!==0){if(d===2&&(E=Wv(u),E!==0&&(S=E,d=By(u,E))),d===1)throw y=kd,nl(u,0),js(u,S),Qr(u,tr()),y;if(d===6)js(u,S);else{if(E=u.current.alternate,!(S&30)&&!u5(E)&&(d=tm(u,S),d===2&&(R=Wv(u),R!==0&&(S=R,d=By(u,R))),d===1))throw y=kd,nl(u,0),js(u,S),Qr(u,tr()),y;switch(u.finishedWork=E,u.finishedLanes=S,d){case 0:case 1:throw Error(a(345));case 2:rl(u,Zr);break;case 3:if(js(u,S),(S&130023424)===S&&(d=Dy+500-tr(),10<d)){if(ff(u,0)!==0)break;if(E=u.suspendedLanes,(E&S)!==S){Or(),u.pingedLanes|=u.suspendedLanes&E;break}u.timeoutHandle=Ce(rl.bind(null,u,Zr),d);break}rl(u,Zr);break;case 4:if(js(u,S),(S&4194240)===S)break;for(d=u.eventTimes,E=-1;0<S;){var X=31-kr(S);R=1<<X,X=d[X],X>E&&(E=X),S&=~R}if(S=E,S=tr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*c5(S/1960))-S,10<S){u.timeoutHandle=Ce(rl.bind(null,u,Zr),S);break}rl(u,Zr);break;case 5:rl(u,Zr);break;default:throw Error(a(329))}}}return Qr(u,tr()),u.callbackNode===y?aT.bind(null,u):null}function By(u,d){var y=Id;return u.current.memoizedState.isDehydrated&&(nl(u,d).flags|=256),u=tm(u,d),u!==2&&(d=Zr,Zr=y,d!==null&&$y(d)),u}function $y(u){Zr===null?Zr=u:Zr.push.apply(Zr,u)}function u5(u){for(var d=u;;){if(d.flags&16384){var y=d.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var E=y[S],R=E.getSnapshot;E=E.value;try{if(!Ma(R(),E))return!1}catch{return!1}}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function js(u,d){for(d&=~Oy,d&=~Xf,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var y=31-kr(d),S=1<<y;u[y]=-1,d&=~S}}function sT(u){if(It&6)throw Error(a(327));il();var d=ff(u,0);if(!(d&1))return Qr(u,tr()),null;var y=tm(u,d);if(u.tag!==0&&y===2){var S=Wv(u);S!==0&&(d=S,y=By(u,S))}if(y===1)throw y=kd,nl(u,0),js(u,d),Qr(u,tr()),y;if(y===6)throw Error(a(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,rl(u,Zr),Qr(u,tr()),null}function oT(u){Bs!==null&&Bs.tag===0&&!(It&6)&&il();var d=It;It|=1;var y=Cn.transition,S=jt;try{if(Cn.transition=null,jt=1,u)return u()}finally{jt=S,Cn.transition=y,It=d,!(It&6)&&Ea()}}function jy(){gi=Tc.current,zt(Tc)}function nl(u,d){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==tt&&(u.timeoutHandle=tt,Re(y)),zn!==null)for(y=zn.return;y!==null;){var S=y;switch(sy(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Os();break;case 3:Mc(),zt(er),zt(On),py();break;case 5:dy(S);break;case 4:Mc();break;case 13:zt(gn);break;case 19:zt(gn);break;case 10:ey(S.type._context);break;case 22:case 23:jy()}y=y.return}if(Un=u,zn=u=Vs(u.current,null),lr=gi=d,qn=0,kd=null,Oy=Xf=Ac=0,Zr=Id=null,Ta!==null){for(d=0;d<Ta.length;d++)if(y=Ta[d],S=y.interleaved,S!==null){y.interleaved=null;var E=S.next,R=y.pending;if(R!==null){var X=R.next;R.next=E,S.next=X}y.pending=S}Ta=null}return u}function lT(u,d){do{var y=zn;try{if(Kv(),Af.current=kf,Cf){for(var S=Sn.memoizedState;S!==null;){var E=S.queue;E!==null&&(E.pending=null),S=S.next}Cf=!1}if(Ec=0,nr=fr=Sn=null,Md=!1,Ed=0,Iy.current=null,y===null||y.return===null){qn=1,kd=d,zn=null;break}e:{var R=u,X=y.return,ae=y,Me=d;if(d=lr,ae.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var He=Me,st=ae,Tt=st.tag;if(!(st.mode&1)&&(Tt===0||Tt===11||Tt===15)){var vt=st.alternate;vt?(st.updateQueue=vt.updateQueue,st.memoizedState=vt.memoizedState,st.lanes=vt.lanes):(st.updateQueue=null,st.memoizedState=null)}var Kt=CE(X);if(Kt!==null){Kt.flags&=-257,PE(Kt,X,ae,R,d),Kt.mode&1&&AE(R,He,d),d=Kt,Me=He;var ut=d.updateQueue;if(ut===null){var vr=new Set;vr.add(Me),d.updateQueue=vr}else ut.add(Me);break e}else{if(!(d&1)){AE(R,He,d),Vy();break e}Me=Error(a(426))}}else if(pn&&ae.mode&1){var Ui=CE(X);if(Ui!==null){!(Ui.flags&65536)&&(Ui.flags|=256),PE(Ui,X,ae,R,d),cy(Me);break e}}R=Me,qn!==4&&(qn=2),Id===null?Id=[R]:Id.push(R),Me=by(Me,ae),ae=X;do{switch(ae.tag){case 3:ae.flags|=65536,d&=-d,ae.lanes|=d;var ve=EE(ae,Me,d);qM(ae,ve);break e;case 1:R=Me;var oe=ae.type,be=ae.stateNode;if(!(ae.flags&128)&&(typeof oe.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(Fs===null||!Fs.has(be)))){ae.flags|=65536,d&=-d,ae.lanes|=d;var Je=TE(ae,R,d);qM(ae,Je);break e}}ae=ae.return}while(ae!==null)}dT(y)}catch(dt){d=dt,zn===y&&y!==null&&(zn=y=y.return);continue}break}while(!0)}function cT(){var u=qf.current;return qf.current=kf,u===null?kf:u}function Vy(){(qn===0||qn===3||qn===2)&&(qn=4),Un===null||!(Ac&268435455)&&!(Xf&268435455)||js(Un,lr)}function tm(u,d){var y=It;It|=2;var S=cT();Un===u&&lr===d||nl(u,d);do try{d5();break}catch(E){lT(u,E)}while(!0);if(Kv(),It=y,qf.current=S,zn!==null)throw Error(a(261));return Un=null,lr=0,qn}function d5(){for(;zn!==null;)uT(zn)}function h5(){for(;zn!==null&&!z4();)uT(zn)}function uT(u){var d=fT(u.alternate,u,gi);u.memoizedProps=u.pendingProps,d===null?dT(u):zn=d,Iy.current=null}function dT(u){var d=u;do{var y=d.alternate;if(u=d.return,d.flags&32768){if(y=i5(y,d),y!==null){y.flags&=32767,zn=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{qn=6,zn=null;return}}else if(y=t5(y,d,gi),y!==null){zn=y;return}if(d=d.sibling,d!==null){zn=d;return}zn=d=u}while(d!==null);qn===0&&(qn=5)}function rl(u,d){var y=jt,S=Cn.transition;try{Cn.transition=null,jt=1,p5(u,d,y)}finally{Cn.transition=S,jt=y}return null}function p5(u,d,y){do il();while(Bs!==null);if(It&6)throw Error(a(327));var S=u.finishedWork,E=u.finishedLanes;if(S===null)return null;if(u.finishedWork=null,u.finishedLanes=0,S===u.current)throw Error(a(177));u.callbackNode=null,u.callbackPriority=0;var R=S.lanes|S.childLanes;if(U4(u,R),u===Un&&(zn=Un=null,lr=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||Zf||(Zf=!0,mT(Zv,function(){return il(),null})),R=(S.flags&15990)!==0,S.subtreeFlags&15990||R){R=Cn.transition,Cn.transition=null;var X=jt;jt=1;var ae=It;It|=4,Iy.current=null,s5(u,S),o5(u,S),F(u.containerInfo),u.current=S,l5(S),F4(),It=ae,jt=X,Cn.transition=R}else u.current=S;if(Zf&&(Zf=!1,Bs=u,Qf=E),R=u.pendingLanes,R===0&&(Fs=null),j4(S.stateNode),Qr(u,tr()),d!==null)for(y=u.onRecoverableError,S=0;S<d.length;S++)y(d[S]);if(Yf)throw Yf=!1,u=zy,zy=null,u;return Qf&1&&u.tag!==0&&il(),R=u.pendingLanes,R&1?u===Fy?Od++:(Od=0,Fy=u):Od=0,Ea(),null}function il(){if(Bs!==null){var u=jM(Qf),d=Cn.transition,y=jt;try{if(Cn.transition=null,jt=16>u?16:u,Bs===null)var S=!1;else{if(u=Bs,Bs=null,Qf=0,It&6)throw Error(a(331));var E=It;for(It|=4,Ze=u.current;Ze!==null;){var R=Ze,X=R.child;if(Ze.flags&16){var ae=R.deletions;if(ae!==null){for(var Me=0;Me<ae.length;Me++){var He=ae[Me];for(Ze=He;Ze!==null;){var st=Ze;switch(st.tag){case 0:case 11:case 15:tl(8,st,R)}var Tt=st.child;if(Tt!==null)Tt.return=st,Ze=Tt;else for(;Ze!==null;){st=Ze;var vt=st.sibling,Kt=st.return;if(YE(st),st===He){Ze=null;break}if(vt!==null){vt.return=Kt,Ze=vt;break}Ze=Kt}}}var ut=R.alternate;if(ut!==null){var vr=ut.child;if(vr!==null){ut.child=null;do{var Ui=vr.sibling;vr.sibling=null,vr=Ui}while(vr!==null)}}Ze=R}}if(R.subtreeFlags&2064&&X!==null)X.return=R,Ze=X;else e:for(;Ze!==null;){if(R=Ze,R.flags&2048)switch(R.tag){case 0:case 11:case 15:tl(9,R,R.return)}var ve=R.sibling;if(ve!==null){ve.return=R.return,Ze=ve;break e}Ze=R.return}}var oe=u.current;for(Ze=oe;Ze!==null;){X=Ze;var be=X.child;if(X.subtreeFlags&2064&&be!==null)be.return=X,Ze=be;else e:for(X=oe;Ze!==null;){if(ae=Ze,ae.flags&2048)try{switch(ae.tag){case 0:case 11:case 15:Ld(9,ae)}}catch(dt){Jr(ae,ae.return,dt)}if(ae===X){Ze=null;break e}var Je=ae.sibling;if(Je!==null){Je.return=ae.return,Ze=Je;break e}Ze=ae.return}}if(It=E,Ea(),Sa&&typeof Sa.onPostCommitFiberRoot=="function")try{Sa.onPostCommitFiberRoot(mf,u)}catch{}S=!0}return S}finally{jt=y,Cn.transition=d}}return!1}function hT(u,d,y){d=by(y,d),d=EE(u,d,1),zs(u,d),d=Or(),u=em(u,1),u!==null&&(yd(u,1,d),Qr(u,d))}function Jr(u,d,y){if(u.tag===3)hT(u,u,y);else for(;d!==null;){if(d.tag===3){hT(d,u,y);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Fs===null||!Fs.has(S))){u=by(y,u),u=TE(d,u,1),zs(d,u),u=Or(),d=em(d,1),d!==null&&(yd(d,1,u),Qr(d,u));break}}d=d.return}}function f5(u,d,y){var S=u.pingCache;S!==null&&S.delete(d),d=Or(),u.pingedLanes|=u.suspendedLanes&y,Un===u&&(lr&y)===y&&(qn===4||qn===3&&(lr&130023424)===lr&&500>tr()-Dy?nl(u,0):Oy|=y),Qr(u,d)}function pT(u,d){d===0&&(u.mode&1?(d=pf,pf<<=1,!(pf&130023424)&&(pf=4194304)):d=1);var y=Or();u=em(u,d),u!==null&&(yd(u,d,y),Qr(u,y))}function m5(u){var d=u.memoizedState,y=0;d!==null&&(y=d.retryLane),pT(u,y)}function g5(u,d){var y=0;switch(u.tag){case 13:var S=u.stateNode,E=u.memoizedState;E!==null&&(y=E.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(a(314))}S!==null&&S.delete(d),pT(u,y)}var fT;fT=function(u,d,y){if(u!==null)if(u.memoizedProps!==d.pendingProps||er.current)mi=!0;else{if(!(u.lanes&y)&&!(d.flags&128))return mi=!1,r5(u,d,y);mi=!!(u.flags&131072)}else mi=!1,pn&&d.flags&1048576&&KM(d,Mf,d.index);switch(d.lanes=0,d.tag){case 2:var S=d.type;u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps;var E=qa(d,On.current);yc(d,y),E=my(null,d,S,u,E,y);var R=gy();return d.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Dn(S)?(R=!0,Ds(d)):R=!1,d.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,ny(d),E.updater=_f,d.stateNode=E,E._reactInternals=d,iy(d,S,u,y),d=Sy(null,d,S,!0,R,y)):(d.tag=0,pn&&R&&ay(d),Ir(null,d,E,y),d=d.child),d;case 16:S=d.elementType;e:{switch(u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps,E=S._init,S=E(S._payload),d.type=S,E=d.tag=y5(S),u=Zi(S,u),E){case 0:d=_y(null,d,S,u,y);break e;case 1:d=UE(null,d,S,u,y);break e;case 11:d=NE(null,d,S,u,y);break e;case 14:d=kE(null,d,S,Zi(S.type,u),y);break e}throw Error(a(306,S,""))}return d;case 0:return S=d.type,E=d.pendingProps,E=d.elementType===S?E:Zi(S,E),_y(u,d,S,E,y);case 1:return S=d.type,E=d.pendingProps,E=d.elementType===S?E:Zi(S,E),UE(u,d,S,E,y);case 3:e:{if(zE(d),u===null)throw Error(a(387));S=d.pendingProps,R=d.memoizedState,E=R.element,GM(u,d),wf(d,S,null,y);var X=d.memoizedState;if(S=X.element,Q&&R.isDehydrated)if(R={element:S,isDehydrated:!1,cache:X.cache,transitions:X.transitions},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){E=Error(a(423)),d=FE(u,d,S,y,E);break e}else if(S!==E){E=Error(a(424)),d=FE(u,d,S,y,E);break e}else for(Q&&(fi=mn(d.stateNode.containerInfo),pi=d,pn=!0,Qi=null,xd=!1),y=aE(d,null,S,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(wc(),S===E){d=Ka(u,d,y);break e}Ir(u,d,S,y)}d=d.child}return d;case 5:return sE(d),u===null&&ly(d),S=d.type,E=d.pendingProps,R=u!==null?u.memoizedProps:null,X=E.children,le(S,E)?X=null:R!==null&&le(S,R)&&(d.flags|=32),DE(u,d),Ir(u,d,X,y),d.child;case 6:return u===null&&ly(d),null;case 13:return BE(u,d,y);case 4:return uy(d,d.stateNode.containerInfo),S=d.pendingProps,u===null?d.child=_c(d,null,S,y):Ir(u,d,S,y),d.child;case 11:return S=d.type,E=d.pendingProps,E=d.elementType===S?E:Zi(S,E),NE(u,d,S,E,y);case 7:return Ir(u,d,d.pendingProps,y),d.child;case 8:return Ir(u,d,d.pendingProps.children,y),d.child;case 12:return Ir(u,d,d.pendingProps.children,y),d.child;case 10:e:{if(S=d.type._context,E=d.pendingProps,R=d.memoizedProps,X=E.value,WM(d,S,X),R!==null)if(Ma(R.value,X)){if(R.children===E.children&&!er.current){d=Ka(u,d,y);break e}}else for(R=d.child,R!==null&&(R.return=d);R!==null;){var ae=R.dependencies;if(ae!==null){X=R.child;for(var Me=ae.firstContext;Me!==null;){if(Me.context===S){if(R.tag===1){Me=Ya(-1,y&-y),Me.tag=2;var He=R.updateQueue;if(He!==null){He=He.shared;var st=He.pending;st===null?Me.next=Me:(Me.next=st.next,st.next=Me),He.pending=Me}}R.lanes|=y,Me=R.alternate,Me!==null&&(Me.lanes|=y),ty(R.return,y,d),ae.lanes|=y;break}Me=Me.next}}else if(R.tag===10)X=R.type===d.type?null:R.child;else if(R.tag===18){if(X=R.return,X===null)throw Error(a(341));X.lanes|=y,ae=X.alternate,ae!==null&&(ae.lanes|=y),ty(X,y,d),X=R.sibling}else X=R.child;if(X!==null)X.return=R;else for(X=R;X!==null;){if(X===d){X=null;break}if(R=X.sibling,R!==null){R.return=X.return,X=R;break}X=X.return}R=X}Ir(u,d,E.children,y),d=d.child}return d;case 9:return E=d.type,S=d.pendingProps.children,yc(d,y),E=Ri(E),S=S(E),d.flags|=1,Ir(u,d,S,y),d.child;case 14:return S=d.type,E=Zi(S,d.pendingProps),E=Zi(S.type,E),kE(u,d,S,E,y);case 15:return IE(u,d,d.type,d.pendingProps,y);case 17:return S=d.type,E=d.pendingProps,E=d.elementType===S?E:Zi(S,E),u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,Dn(S)?(u=!0,Ds(d)):u=!1,yc(d,y),QM(d,S,E),iy(d,S,E,y),Sy(null,d,S,!0,u,y);case 19:return HE(u,d,y);case 22:return OE(u,d,y)}throw Error(a(156,d.tag))};function mT(u,d){return Xv(u,d)}function v5(u,d,y,S){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(u,d,y,S){return new v5(u,d,y,S)}function Hy(u){return u=u.prototype,!(!u||!u.isReactComponent)}function y5(u){if(typeof u=="function")return Hy(u)?1:0;if(u!=null){if(u=u.$$typeof,u===v)return 11;if(u===g)return 14}return 2}function Vs(u,d){var y=u.alternate;return y===null?(y=Di(u.tag,d,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=d,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,d=u.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function nm(u,d,y,S,E,R){var X=2;if(S=u,typeof u=="function")Hy(u)&&(X=1);else if(typeof u=="string")X=5;else e:switch(u){case c:return al(y.children,E,R,d);case h:X=8,E|=8;break;case p:return u=Di(12,y,d,E|2),u.elementType=p,u.lanes=R,u;case b:return u=Di(13,y,d,E),u.elementType=b,u.lanes=R,u;case x:return u=Di(19,y,d,E),u.elementType=x,u.lanes=R,u;case w:return rm(y,E,R,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:X=10;break e;case f:X=9;break e;case v:X=11;break e;case g:X=14;break e;case _:X=16,S=null;break e}throw Error(a(130,u==null?u:typeof u,""))}return d=Di(X,y,d,E),d.elementType=u,d.type=S,d.lanes=R,d}function al(u,d,y,S){return u=Di(7,u,S,d),u.lanes=y,u}function rm(u,d,y,S){return u=Di(22,u,S,d),u.elementType=w,u.lanes=y,u.stateNode={},u}function Wy(u,d,y){return u=Di(6,u,null,d),u.lanes=y,u}function Gy(u,d,y){return d=Di(4,u.children!==null?u.children:[],u.key,d),d.lanes=y,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function x5(u,d,y,S,E){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=tt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gv(0),this.expirationTimes=Gv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gv(0),this.identifierPrefix=S,this.onRecoverableError=E,Q&&(this.mutableSourceEagerHydrationData=null)}function gT(u,d,y,S,E,R,X,ae,Me){return u=new x5(u,d,y,ae,Me),d===1?(d=1,R===!0&&(d|=8)):d=0,R=Di(3,null,null,d),u.current=R,R.stateNode=u,R.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null},ny(R),u}function vT(u){if(!u)return St;u=u._reactInternals;e:{if(O(u)!==u||u.tag!==1)throw Error(a(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Dn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(a(171))}if(u.tag===1){var y=u.type;if(Dn(y))return _a(u,y,d)}return d}function yT(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=H(d),u===null?null:u.stateNode}function xT(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<d?y:d}}function qy(u,d){xT(u,d),(u=u.alternate)&&xT(u,d)}function b5(u){return u=H(u),u===null?null:u.stateNode}function w5(){return null}return e.attemptContinuousHydration=function(u){if(u.tag===13){var d=Or();Oi(u,134217728,d),qy(u,134217728)}},e.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var d=Or(),y=$s(u);Oi(u,y,d),qy(u,y)}},e.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var y=vd(d.pendingLanes);y!==0&&(qv(d,y|1),Qr(d,tr()),!(It&6)&&(Cc(),Ea()))}break;case 13:var S=Or();oT(function(){return Oi(u,1,S)}),qy(u,1)}},e.batchedUpdates=function(u,d){var y=It;It|=1;try{return u(d)}finally{It=y,It===0&&(Cc(),gf&&Ea())}},e.createComponentSelector=function(u){return{$$typeof:jf,value:u}},e.createContainer=function(u,d,y,S,E,R,X){return gT(u,d,!1,null,y,S,E,R,X)},e.createHasPseudoClassSelector=function(u){return{$$typeof:Vf,value:u}},e.createHydrationContainer=function(u,d,y,S,E,R,X,ae,Me){return u=gT(y,S,!0,u,E,R,X,ae,Me),u.context=vT(null),y=u.current,S=Or(),E=$s(y),R=Ya(S,E),R.callback=d??null,zs(y,R),u.current.lanes=E,yd(u,E,S),Qr(u,S),u},e.createPortal=function(u,d,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:u,containerInfo:d,implementation:y}},e.createRoleSelector=function(u){return{$$typeof:Hf,value:u}},e.createTestNameSelector=function(u){return{$$typeof:Wf,value:u}},e.createTextSelector=function(u){return{$$typeof:Gf,value:u}},e.deferredUpdates=function(u){var d=jt,y=Cn.transition;try{return Cn.transition=null,jt=16,u()}finally{jt=d,Cn.transition=y}},e.discreteUpdates=function(u,d,y,S,E){var R=jt,X=Cn.transition;try{return Cn.transition=null,jt=1,u(d,y,S,E)}finally{jt=R,Cn.transition=X,It===0&&Cc()}},e.findAllNodes=ky,e.findBoundingRects=function(u,d){if(!j)throw Error(a(363));d=ky(u,d),u=[];for(var y=0;y<d.length;y++)u.push(me(d[y]));for(d=u.length-1;0<d;d--){y=u[d];for(var S=y.x,E=S+y.width,R=y.y,X=R+y.height,ae=d-1;0<=ae;ae--)if(d!==ae){var Me=u[ae],He=Me.x,st=He+Me.width,Tt=Me.y,vt=Tt+Me.height;if(S>=He&&R>=Tt&&E<=st&&X<=vt){u.splice(d,1);break}else if(S!==He||y.width!==Me.width||vt<R||Tt>X){if(!(R!==Tt||y.height!==Me.height||st<S||He>E)){He>S&&(Me.width+=He-S,Me.x=S),st<E&&(Me.width=E-He),u.splice(d,1);break}}else{Tt>R&&(Me.height+=Tt-R,Me.y=R),vt<X&&(Me.height=X-Tt),u.splice(d,1);break}}}return u},e.findHostInstance=yT,e.findHostInstanceWithNoPortals=function(u){return u=I(u),u=u!==null?se(u):null,u===null?null:u.stateNode},e.findHostInstanceWithWarning=function(u){return yT(u)},e.flushControlled=function(u){var d=It;It|=1;var y=Cn.transition,S=jt;try{Cn.transition=null,jt=1,u()}finally{jt=S,Cn.transition=y,It=d,It===0&&(Cc(),Ea())}},e.flushPassiveEffects=il,e.flushSync=oT,e.focusWithin=function(u,d){if(!j)throw Error(a(363));for(u=Ry(u),d=iT(u,d),d=Array.from(d),u=0;u<d.length;){var y=d[u++];if(!Ae(y)){if(y.tag===5&&rt(y.stateNode))return!0;for(y=y.child;y!==null;)d.push(y),y=y.sibling}}return!1},e.getCurrentUpdatePriority=function(){return jt},e.getFindAllNodesFailureDescription=function(u,d){if(!j)throw Error(a(363));var y=0,S=[];u=[Ry(u),0];for(var E=0;E<u.length;){var R=u[E++],X=u[E++],ae=d[X];if((R.tag!==5||!Ae(R))&&(Ly(R,ae)&&(S.push(Ny(ae)),X++,X>y&&(y=X)),X<d.length))for(R=R.child;R!==null;)u.push(R,X),R=R.sibling}if(y<d.length){for(u=[];y<d.length;y++)u.push(Ny(d[y]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},e.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return Z(u.child.stateNode);default:return u.child.stateNode}},e.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:b5,findFiberByHostInstance:u.findFiberByHostInstance||w5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)u=!0;else{try{mf=d.inject(u),Sa=d}catch{}u=!!d.checkDCE}}return u},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(u,d,y,S){if(!j)throw Error(a(363));u=ky(u,d);var E=je(u,y,S).disconnect;return{disconnect:function(){E()}}},e.registerMutableSourceForHydration=function(u,d){var y=d._getVersion;y=y(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,y]:u.mutableSourceEagerHydrationData.push(d,y)},e.runWithPriority=function(u,d){var y=jt;try{return jt=u,d()}finally{jt=y}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(u,d,y,S){var E=d.current,R=Or(),X=$s(E);return y=vT(y),d.context===null?d.context=y:d.pendingContext=y,d=Ya(R,X),d.payload={element:u},S=S===void 0?null:S,S!==null&&(d.callback=S),zs(E,d),u=Oi(E,X,R),u!==null&&bf(u,E,X),X},e};VI.exports=$W;var jW=VI.exports;const VW=Kw(jW);var HI={exports:{}},WI={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(D,F){var W=D.length;D.push(F);e:for(;0<W;){var K=W-1>>>1,re=D[K];if(0<i(re,F))D[K]=F,D[W]=re,W=K;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],W=D.pop();if(W!==F){D[0]=W;e:for(var K=0,re=D.length,ee=re>>>1;K<ee;){var le=2*(K+1)-1,Le=D[le],Ce=le+1,Re=D[Ce];if(0>i(Le,W))Ce<re&&0>i(Re,Le)?(D[K]=Re,D[Ce]=W,K=Ce):(D[K]=Le,D[le]=W,K=le);else if(Ce<re&&0>i(Re,W))D[K]=Re,D[Ce]=W,K=Ce;else break e}}return F}function i(D,F){var W=D.sortIndex-F.sortIndex;return W!==0?W:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,p=null,m=3,f=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=D)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function M(D){if(b=!1,w(D),!v)if(n(l)!==null)v=!0,ne(C);else{var F=n(c);F!==null&&ie(M,F.startTime-D)}}function C(D,F){v=!1,b&&(b=!1,g(O),O=-1),f=!0;var W=m;try{for(w(F),p=n(l);p!==null&&(!(p.expirationTime>F)||D&&!H());){var K=p.callback;if(typeof K=="function"){p.callback=null,m=p.priorityLevel;var re=K(p.expirationTime<=F);F=t.unstable_now(),typeof re=="function"?p.callback=re:p===n(l)&&r(l),w(F)}else r(l);p=n(l)}if(p!==null)var ee=!0;else{var le=n(c);le!==null&&ie(M,le.startTime-F),ee=!1}return ee}finally{p=null,m=W,f=!1}}var A=!1,N=null,O=-1,P=5,I=-1;function H(){return!(t.unstable_now()-I<P)}function q(){if(N!==null){var D=t.unstable_now();I=D;var F=!0;try{F=N(!0,D)}finally{F?se():(A=!1,N=null)}}else A=!1}var se;if(typeof _=="function")se=function(){_(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=q,se=function(){Z.postMessage(null)}}else se=function(){x(q,0)};function ne(D){N=D,A||(A=!0,se())}function ie(D,F){O=x(function(){D(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,ne(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var W=m;m=F;try{return D()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=m;m=D;try{return F()}finally{m=W}},t.unstable_scheduleCallback=function(D,F,W){var K=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,D){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=W+re,D={id:h++,callback:F,priorityLevel:D,startTime:W,expirationTime:re,sortIndex:-1},W>K?(D.sortIndex=W,e(c,D),n(l)===null&&D===n(c)&&(b?(g(O),O=-1):b=!0,ie(M,W-K))):(D.sortIndex=re,e(l,D),v||f||(v=!0,ne(C))),D},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(D){var F=m;return function(){var W=m;m=F;try{return D.apply(this,arguments)}finally{m=W}}}})(WI);HI.exports=WI;var uC=HI.exports;const HW=t=>typeof t=="object"&&typeof t.then=="function",Bl=[];function GI(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function qI(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const a of Bl)if(GI(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!n)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=Bl.indexOf(i);a!==-1&&Bl.splice(a,1)},promise:(HW(t)?t:t(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(Bl.push(i),!n)throw i.promise}const WW=(t,e,n)=>qI(t,e,!1,n),GW=(t,e,n)=>void qI(t,e,!0,n),qW=t=>{if(t===void 0||t.length===0)Bl.splice(0,Bl.length);else{const e=Bl.find(n=>GI(t,n.keys,n.equal));e&&e.remove()}},GS={},XI=t=>void Object.assign(GS,t);function XW(t,e){function n(c,{args:h=[],attach:p,...m},f){let v=`${c[0].toUpperCase()}${c.slice(1)}`,b;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;b=su(x,{type:c,root:f,attach:p,primitive:!0})}else{const x=GS[v];if(!x)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");b=su(new x(...h),{type:c,root:f,attach:p,memoizedProps:{args:h}})}return b.__r3f.attach===void 0&&(b instanceof Ot?b.__r3f.attach="geometry":b instanceof pr&&(b.__r3f.attach="material")),v!=="inject"&&ax(b,m),b}function r(c,h){let p=!1;if(h){var m,f;(m=h.__r3f)!=null&&m.attach?ix(c,h,h.__r3f.attach):h.isObject3D&&c.isObject3D&&(c.add(h),p=!0),p||(f=c.__r3f)==null||f.objects.push(h),h.__r3f||su(h,{}),h.__r3f.parent=c,vw(h),ou(h)}}function i(c,h,p){let m=!1;if(h){var f,v;if((f=h.__r3f)!=null&&f.attach)ix(c,h,h.__r3f.attach);else if(h.isObject3D&&c.isObject3D){h.parent=c,h.dispatchEvent({type:"added"});const b=c.children.filter(g=>g!==h),x=b.indexOf(p);c.children=[...b.slice(0,x),h,...b.slice(x)],m=!0}m||(v=c.__r3f)==null||v.objects.push(h),h.__r3f||su(h,{}),h.__r3f.parent=c,vw(h),ou(h)}}function a(c,h,p=!1){c&&[...c].forEach(m=>s(h,m,p))}function s(c,h,p){if(h){var m,f,v;if(h.__r3f&&(h.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(w=>w!==h)),(f=h.__r3f)!=null&&f.attach)mC(c,h,h.__r3f.attach);else if(h.isObject3D&&c.isObject3D){var b;c.remove(h),(b=h.__r3f)!=null&&b.root&&n7(h.__r3f.root,h)}const g=(v=h.__r3f)==null?void 0:v.primitive,_=!g&&(p===void 0?h.dispose!==null:p);if(!g){var x;a((x=h.__r3f)==null?void 0:x.objects,h,_),a(h.children,h,_)}if(delete h.__r3f,_&&h.dispose&&h.type!=="Scene"){const w=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?uC.unstable_scheduleCallback(uC.unstable_IdlePriority,w):w()}ou(c)}}function o(c,h,p,m){var f;const v=(f=c.__r3f)==null?void 0:f.parent;if(!v)return;const b=n(h,p,c.__r3f.root);if(c.children){for(const x of c.children)x.__r3f&&r(b,x);c.children=c.children.filter(x=>!x.__r3f)}c.__r3f.objects.forEach(x=>r(b,x)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||s(v,c),b.parent&&(b.__r3f.autoRemovedBeforeAppend=!0),r(v,b),b.raycast&&b.__r3f.eventCount&&b.__r3f.root.getState().internal.interaction.push(b),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=b,x.ref&&(typeof x.ref=="function"?x.ref(b):x.ref.current=b))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:VW({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,h)=>{if(!h)return;const p=c.getState().scene;p.__r3f&&(p.__r3f.root=c,r(p,h))},removeChildFromContainer:(c,h)=>{h&&s(c.getState().scene,h)},insertInContainerBefore:(c,h,p)=>{if(!h||!p)return;const m=c.getState().scene;m.__r3f&&i(m,h,p)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var h;return!!((h=c==null?void 0:c.__r3f)!=null?h:{}).handlers},prepareUpdate(c,h,p,m){var f;if(((f=c==null?void 0:c.__r3f)!=null?f:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:v=[],children:b,...x}=m,{args:g=[],children:_,...w}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((C,A)=>C!==g[A]))return[!0];const M=tO(c,x,w,!0);return M.changes.length?[!1,M]:null}},commitUpdate(c,[h,p],m,f,v,b){h?o(c,m,v,b):ax(c,p)},commitMount(c,h,p,m){var f;const v=(f=c.__r3f)!=null?f:{};c.raycast&&v.handlers&&v.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>su(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var h;const{attach:p,parent:m}=(h=c.__r3f)!=null?h:{};p&&m&&mC(m,c,p),c.isObject3D&&(c.visible=!1),ou(c)},unhideInstance(c,h){var p;const{attach:m,parent:f}=(p=c.__r3f)!=null?p:{};m&&f&&ix(f,c,m),(c.isObject3D&&h.visible==null||h.visible)&&(c.visible=!0),ou(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Eu.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&cn.fun(performance.now)?performance.now:cn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:cn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:cn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ax}}var dC,hC;const rx=t=>"colorSpace"in t||"outputColorSpace"in t,YI=()=>{var t;return(t=GS.ColorManagement)!=null?t:null},ZI=t=>t&&t.isOrthographicCamera,YW=t=>t&&t.hasOwnProperty("current"),Kp=typeof window<"u"&&((dC=window.document)!=null&&dC.createElement||((hC=window.navigator)==null?void 0:hC.product)==="ReactNative")?L.useLayoutEffect:L.useEffect;function QI(t){const e=L.useRef(t);return Kp(()=>void(e.current=t),[t]),e}function ZW({set:t}){return Kp(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}let JI=class extends L.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};JI.getDerivedStateFromError=()=>({error:!0});const KI="__default",pC=new Map,QW=t=>t&&!!t.memoized&&!!t.changes;function eO(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const th=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},cn={obj:t=>t===Object(t)&&!cn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(cn.str(t)||cn.num(t))return t===e;const a=cn.obj(t);if(a&&r==="reference")return t===e;const s=cn.arr(t);if(s&&n==="reference")return t===e;if((s||a)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(a&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!cn.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(cn.und(o)){if(s&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function JW(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function KW(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function su(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function gw(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((a,s)=>a[s],t),{target:n,key:i}}else return{target:n,key:e}}const fC=/-\d+$/;function ix(t,e,n){if(cn.str(n)){if(fC.test(n)){const a=n.replace(fC,""),{target:s,key:o}=gw(t,a);Array.isArray(s[o])||(s[o]=[])}const{target:r,key:i}=gw(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function mC(t,e,n){var r,i;if(cn.str(n)){const{target:a,key:s}=gw(t,n),o=e.__r3f.previousAttach;o===void 0?delete a[s]:a[s]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function tO(t,{children:e,key:n,ref:r,...i},{children:a,key:s,ref:o,...l}={},c=!1){var h;const p=(h=t==null?void 0:t.__r3f)!=null?h:{},m=Object.entries(i),f=[];if(c){const b=Object.keys(l);for(let x=0;x<b.length;x++)i.hasOwnProperty(b[x])||m.unshift([b[x],KI+"remove"])}m.forEach(([b,x])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&b==="object"||cn.equ(x,l[b]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(b))return f.push([b,x,!0,[]]);let _=[];b.includes("-")&&(_=b.split("-")),f.push([b,x,!1,_]);for(const w in i){const M=i[w];w.startsWith(`${b}-`)&&f.push([w,M,!1,w.split("-")])}});const v={...i};return p.memoizedProps&&p.memoizedProps.args&&(v.args=p.memoizedProps.args),p.memoizedProps&&p.memoizedProps.attach&&(v.attach=p.memoizedProps.attach),{memoized:v,changes:f}}const e7=typeof process<"u"&&!1;function ax(t,e){var n,r,i;const a=(n=t.__r3f)!=null?n:{},s=a.root,o=(r=s==null||s.getState==null?void 0:s.getState())!=null?r:{},{memoized:l,changes:c}=QW(e)?e:tO(t,e),h=a.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,f,v,b]=c[p];if(rx(t)){const _="srgb",w="srgb-linear";m==="encoding"?(m="colorSpace",f=f===3001?_:w):m==="outputEncoding"&&(m="outputColorSpace",f=f===3001?_:w)}let x=t,g=x[m];if(b.length&&(g=b.reduce((_,w)=>_[w],t),!(g&&g.set))){const[_,...w]=b.reverse();x=w.reverse().reduce((M,C)=>M[C],t),m=_}if(f===KI+"remove")if(x.constructor){let _=pC.get(x.constructor);_||(_=new x.constructor,pC.set(x.constructor,_)),f=_[m]}else f=0;if(v)f?a.handlers[m]=f:delete a.handlers[m],a.eventCount=Object.keys(a.handlers).length;else if(g&&g.set&&(g.copy||g instanceof Gl)){if(Array.isArray(f))g.fromArray?g.fromArray(f):g.set(...f);else if(g.copy&&f&&f.constructor&&(e7?g.constructor.name===f.constructor.name:g.constructor===f.constructor))g.copy(f);else if(f!==void 0){const _=g instanceof et;!_&&g.setScalar?g.setScalar(f):g instanceof Gl&&f instanceof Gl?g.mask=f.mask:g.set(f),!YI()&&!o.linear&&_&&g.convertSRGBToLinear()}}else if(x[m]=f,x[m]instanceof or&&x[m].format===Ar&&x[m].type===Fa){const _=x[m];rx(_)&&rx(o.gl)?_.colorSpace=o.gl.outputColorSpace:_.encoding=o.gl.outputEncoding}ou(t)}if(a.parent&&o.internal&&t.raycast&&h!==a.eventCount){const p=o.internal.interaction.indexOf(t);p>-1&&o.internal.interaction.splice(p,1),a.eventCount&&o.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&vw(t),t}function ou(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function vw(t){t.onUpdate==null||t.onUpdate(t)}function nO(t,e){t.manual||(ZI(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function pg(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function t7(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Eu.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Eu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Eu.ContinuousEventPriority;default:return Eu.DefaultEventPriority}}function rO(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function n7(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{rO(n.capturedMap,e,r,i)})}function r7(t){function e(l){const{internal:c}=t.getState(),h=l.offsetX-c.initialClick[0],p=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=c.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function r(l,c){const h=t.getState(),p=new Set,m=[],f=c?c(h.internal.interaction):h.internal.interaction;for(let g=0;g<f.length;g++){const _=th(f[g]);_&&(_.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(g){const _=th(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var w;_.events.compute==null||_.events.compute(l,_,(w=_.previousRoot)==null?void 0:w.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let b=f.flatMap(v).sort((g,_)=>{const w=th(g.object),M=th(_.object);return!w||!M?g.distance-_.distance:M.events.priority-w.events.priority||g.distance-_.distance}).filter(g=>{const _=pg(g);return p.has(_)?!1:(p.add(_),!0)});h.events.filter&&(b=h.events.filter(b,h));for(const g of b){let _=g.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&m.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let g of h.internal.capturedMap.get(l.pointerId).values())p.has(pg(g.intersection))||m.push(g.intersection);return m}function i(l,c,h,p){const m=t.getState();if(l.length){const f={stopped:!1};for(const v of l){const b=th(v.object)||m,{raycaster:x,pointer:g,camera:_,internal:w}=b,M=new G(g.x,g.y,0).unproject(_),C=I=>{var H,q;return(H=(q=w.capturedMap.get(I))==null?void 0:q.has(v.eventObject))!=null?H:!1},A=I=>{const H={intersection:v,target:c.target};w.capturedMap.has(I)?w.capturedMap.get(I).set(v.eventObject,H):w.capturedMap.set(I,new Map([[v.eventObject,H]])),c.target.setPointerCapture(I)},N=I=>{const H=w.capturedMap.get(I);H&&rO(w.capturedMap,v.eventObject,H,I)};let O={};for(let I in c){let H=c[I];typeof H!="function"&&(O[I]=H)}let P={...v,...O,pointer:g,intersections:l,stopped:f.stopped,delta:h,unprojectedPoint:M,ray:x.ray,camera:_,stopPropagation(){const I="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!I||I.has(v.eventObject))&&(P.stopped=f.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(H=>H.eventObject===v.eventObject))){const H=l.slice(0,l.indexOf(v));a([...H,v])}},target:{hasPointerCapture:C,setPointerCapture:A,releasePointerCapture:N},currentTarget:{hasPointerCapture:C,setPointerCapture:A,releasePointerCapture:N},nativeEvent:c};if(p(P),f.stopped===!0)break}}return l}function a(l){const{internal:c}=t.getState();for(const h of c.hovered.values())if(!l.length||!l.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const p=h.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(pg(h)),p!=null&&p.eventCount){const f={...h,intersections:l};m.onPointerOut==null||m.onPointerOut(f),m.onPointerLeave==null||m.onPointerLeave(f)}}}function s(l,c){for(let h=0;h<c.length;h++){const p=c[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:h}=t.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),a([]))})}}return function(c){const{onPointerMissed:h,internal:p}=t.getState();p.lastEvent.current=c;const m=l==="onPointerMove",f=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(c,m?n:void 0),b=f?e(c):0;l==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=v.map(g=>g.eventObject)),f&&!v.length&&b<=2&&(s(c,p.interaction),h&&h(c)),m&&a(v);function x(g){const _=g.eventObject,w=_.__r3f,M=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(m){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const C=pg(g),A=p.hovered.get(C);A?A.stopped&&g.stopPropagation():(p.hovered.set(C,g),M.onPointerOver==null||M.onPointerOver(g),M.onPointerEnter==null||M.onPointerEnter(g))}M.onPointerMove==null||M.onPointerMove(g)}else{const C=M[l];C?(!f||p.initialHits.includes(_))&&(s(c,p.interaction.filter(A=>!p.initialHits.includes(A))),C(g)):f&&p.initialHits.includes(_)&&s(c,p.interaction.filter(A=>!p.initialHits.includes(A)))}}i(v,c,b,x)}}return{handlePointer:o}}const i7=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],iO=t=>!!(t!=null&&t.render),qS=L.createContext(null),a7=(t,e)=>{const n=jI((o,l)=>{const c=new G,h=new G,p=new G;function m(x=l().camera,g=h,_=l().size){const{width:w,height:M,top:C,left:A}=_,N=w/M;g instanceof G?p.copy(g):p.set(...g);const O=x.getWorldPosition(c).distanceTo(p);if(ZI(x))return{width:w/x.zoom,height:M/x.zoom,top:C,left:A,factor:1,distance:O,aspect:N};{const P=x.fov*Math.PI/180,I=2*Math.tan(P/2)*O,H=I*(w/M);return{width:H,height:I,top:C,left:A,factor:w/H,distance:O,aspect:N}}}let f;const v=x=>o(g=>({performance:{...g.performance,current:x}})),b=new Ie;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>t(l(),x),advance:(x,g)=>e(x,g,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new jS,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();f&&clearTimeout(f),x.performance.current!==x.performance.min&&v(x.performance.min),f=setTimeout(()=>v(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:x=>o(g=>({...g,events:{...g.events,...x}})),setSize:(x,g,_,w,M)=>{const C=l().camera,A={width:x,height:g,top:w||0,left:M||0,updateStyle:_};o(N=>({size:A,viewport:{...N.viewport,...m(C,h,A)}}))},setDpr:x=>o(g=>{const _=eO(x);return{viewport:{...g.viewport,dpr:_,initialDpr:g.viewport.initialDpr||_}}}),setFrameloop:(x="always")=>{const g=l().clock;g.stop(),g.elapsedTime=0,x!=="never"&&(g.start(),g.elapsedTime=0),o(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:L.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,g,_)=>{const w=l().internal;return w.priority=w.priority+(g>0?1:0),w.subscribers.push({ref:x,priority:g,store:_}),w.subscribers=w.subscribers.sort((M,C)=>M.priority-C.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(g>0?1:0),M.subscribers=M.subscribers.filter(C=>C.ref!==x))}}}}}),r=n.getState();let i=r.size,a=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:h,set:p}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==a){var m;i=l,a=c.dpr,nO(o,l),h.setPixelRatio(c.dpr);const f=(m=l.updateStyle)!=null?m:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,f)}o!==s&&(s=o,p(f=>({viewport:{...f.viewport,...f.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};let fg,s7=new Set,o7=new Set,l7=new Set;function sx(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function nh(t,e){switch(t){case"before":return sx(s7,e);case"after":return sx(o7,e);case"tail":return sx(l7,e)}}let ox,lx;function cx(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),ox=e.internal.subscribers,fg=0;fg<ox.length;fg++)lx=ox[fg],lx.ref.current(lx.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function c7(t){let e=!1,n,r,i;function a(l){r=requestAnimationFrame(a),e=!0,n=0,nh("before",l);for(const h of t.values()){var c;i=h.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=cx(l,i))}if(nh("after",l),n===0)return nh("tail",l),e=!1,cancelAnimationFrame(r)}function s(l,c=1){var h;if(!l)return t.forEach(p=>s(p.store.getState()),c);(h=l.gl.xr)!=null&&h.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(a)))}function o(l,c=!0,h,p){if(c&&nh("before",l),h)cx(l,h,p);else for(const m of t.values())cx(l,m.store.getState());c&&nh("after",l)}return{loop:a,invalidate:s,advance:o}}function XS(){const t=L.useContext(qS);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Qu(t=n=>n,e){return XS()(t,e)}function _v(t,e=0){const n=XS(),r=n.getState().internal.subscribe,i=QI(t);return Kp(()=>r(i,e,n),[e,r,n]),null}const gC=new WeakMap;function aO(t,e){return function(n,...r){let i=gC.get(n);return i||(i=new n,gC.set(n,i)),t&&t(i),Promise.all(r.map(a=>new Promise((s,o)=>i.load(a,l=>{l.scene&&Object.assign(l,JW(l.scene)),s(l)},e,l=>o(new Error(`Could not load ${a}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function hd(t,e,n,r){const i=Array.isArray(e)?e:[e],a=WW(aO(n,r),[t,...i],{equal:cn.equ});return Array.isArray(e)?a:a[0]}hd.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return GW(aO(n),[t,...r])};hd.clear=function(t,e){const n=Array.isArray(e)?e:[e];return qW([t,...n])};const Ju=new Map,{invalidate:vC,advance:yC}=c7(Ju),{reconciler:Pp,applyProps:Qc}=XW(Ju,t7),Jc={objects:"shallow",strict:!1},u7=(t,e)=>{const n=typeof t=="function"?t(e):t;return iO(n)?n:new bS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function d7(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:a,left:s,updateStyle:o=n}=e;return{width:r,height:i,top:a,left:s,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:a,left:s}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:a,left:s,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function h7(t){const e=Ju.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||a7(vC,yC),s=n||Pp.createContainer(a,Eu.ConcurrentRoot,null,!1,null,"",i,null);e||Ju.set(t,{fiber:s,store:a});let o,l=!1,c;return{configure(h={}){let{gl:p,size:m,scene:f,events:v,onCreated:b,shadows:x=!1,linear:g=!1,flat:_=!1,legacy:w=!1,orthographic:M=!1,frameloop:C="always",dpr:A=[1,2],performance:N,raycaster:O,camera:P,onPointerMissed:I}=h,H=a.getState(),q=H.gl;H.gl||H.set({gl:q=u7(p,t)});let se=H.raycaster;se||H.set({raycaster:se=new WS});const{params:$,...Z}=O||{};if(cn.equ(Z,se,Jc)||Qc(se,{...Z}),cn.equ($,se.params,Jc)||Qc(se,{params:{...se.params,...$}}),!H.camera||H.camera===c&&!cn.equ(c,P,Jc)){c=P;const W=P instanceof Yp,K=W?P:M?new cc(0,0,0,0,.1,1e3):new $n(75,0,.1,1e3);W||(K.position.z=5,P&&Qc(K,P),!H.camera&&!(P!=null&&P.rotation)&&K.lookAt(0,0,0)),H.set({camera:K}),se.camera=K}if(!H.scene){let W;f instanceof xp?W=f:(W=new xp,f&&Qc(W,f)),H.set({scene:su(W)})}if(!H.xr){var ne;const W=(ee,le)=>{const Le=a.getState();Le.frameloop!=="never"&&yC(ee,!0,Le,le)},K=()=>{const ee=a.getState();ee.gl.xr.enabled=ee.gl.xr.isPresenting,ee.gl.xr.setAnimationLoop(ee.gl.xr.isPresenting?W:null),ee.gl.xr.isPresenting||vC(ee)},re={connect(){const ee=a.getState().gl;ee.xr.addEventListener("sessionstart",K),ee.xr.addEventListener("sessionend",K)},disconnect(){const ee=a.getState().gl;ee.xr.removeEventListener("sessionstart",K),ee.xr.removeEventListener("sessionend",K)}};typeof((ne=q.xr)==null?void 0:ne.addEventListener)=="function"&&re.connect(),H.set({xr:re})}if(q.shadowMap){const W=q.shadowMap.enabled,K=q.shadowMap.type;if(q.shadowMap.enabled=!!x,cn.boo(x))q.shadowMap.type=Nh;else if(cn.str(x)){var ie;const re={basic:$L,percentage:cv,soft:Nh,variance:sa};q.shadowMap.type=(ie=re[x])!=null?ie:Nh}else cn.obj(x)&&Object.assign(q.shadowMap,x);(W!==q.shadowMap.enabled||K!==q.shadowMap.type)&&(q.shadowMap.needsUpdate=!0)}const D=YI();D&&("enabled"in D?D.enabled=!w:"legacyMode"in D&&(D.legacyMode=w)),Qc(q,{outputEncoding:g?3e3:3001,toneMapping:_?za:Y_}),H.legacy!==w&&H.set(()=>({legacy:w})),H.linear!==g&&H.set(()=>({linear:g})),H.flat!==_&&H.set(()=>({flat:_})),p&&!cn.fun(p)&&!iO(p)&&!cn.equ(p,q,Jc)&&Qc(q,p),v&&!H.events.handlers&&H.set({events:v(a)});const F=d7(t,m);return cn.equ(F,H.size,Jc)||H.setSize(F.width,F.height,F.updateStyle,F.top,F.left),A&&H.viewport.dpr!==eO(A)&&H.setDpr(A),H.frameloop!==C&&H.setFrameloop(C),H.onPointerMissed||H.set({onPointerMissed:I}),N&&!cn.equ(N,H.performance,Jc)&&H.set(W=>({performance:{...W.performance,...N}})),o=b,l=!0,this},render(h){return l||this.configure(),Pp.updateContainer(L.createElement(p7,{store:a,children:h,onCreated:o,rootElement:t}),s,null,()=>{}),a},unmount(){sO(t)}}}function p7({store:t,children:e,onCreated:n,rootElement:r}){return Kp(()=>{const i=t.getState();i.set(a=>({internal:{...a.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),L.createElement(qS.Provider,{value:t},e)}function sO(t,e){const n=Ju.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Pp.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,s,o,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),KW(i),Ju.delete(t)}catch{}},500)})}}function f7(t,e,n){return L.createElement(m7,{key:e.uuid,children:t,container:e,state:n})}function m7({state:t={},children:e,container:n}){const{events:r,size:i,...a}=t,s=XS(),[o]=L.useState(()=>new WS),[l]=L.useState(()=>new Ie),c=L.useCallback((p,m)=>{const f={...p};Object.keys(p).forEach(b=>{(i7.includes(b)||p[b]!==m[b]&&m[b])&&delete f[b]});let v;if(m&&i){const b=m.camera;v=p.viewport.getCurrentViewport(b,new G,i),b!==p.camera&&nO(b,i)}return{...f,scene:n,raycaster:o,pointer:l,mouse:l,previousRoot:s,events:{...p.events,...m==null?void 0:m.events,...r},size:{...p.size,...i},viewport:{...p.viewport,...v},...a}},[t]),[h]=L.useState(()=>{const p=s.getState();return jI((m,f)=>({...p,scene:n,raycaster:o,pointer:l,mouse:l,previousRoot:s,events:{...p.events,...r},size:{...p.size,...i},...a,set:m,get:f,setEvents:v=>m(b=>({...b,events:{...b.events,...v}}))}))});return L.useEffect(()=>{const p=s.subscribe(m=>h.setState(f=>c(m,f)));return()=>{p(),h.destroy()}},[]),L.useEffect(()=>{h.setState(p=>c(s.getState(),p))},[c]),L.createElement(L.Fragment,null,Pp.createPortal(L.createElement(qS.Provider,{value:h},e),h,null))}Pp.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:L.version});function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ku.apply(null,arguments)}function xC(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function g7({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=L.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=L.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,h=L.useRef(!1);L.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,f]=L.useMemo(()=>{const g=()=>{if(!o.current.element)return;const{left:_,top:w,width:M,height:C,bottom:A,right:N,x:O,y:P}=o.current.element.getBoundingClientRect(),I={left:_,top:w,width:M,height:C,bottom:A,right:N,x:O,y:P};o.current.element instanceof HTMLElement&&r&&(I.height=o.current.element.offsetHeight,I.width=o.current.element.offsetWidth),Object.freeze(I),h.current&&!b7(o.current.lastBounds,I)&&s(o.current.lastBounds=I)};return[g,c?xC(g,c):g,l?xC(g,l):g]},[s,r,l,c]);function v(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",f,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function b(){o.current.element&&(o.current.resizeObserver=new i(f),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(g=>g.addEventListener("scroll",f,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{f()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const x=g=>{!g||g===o.current.element||(v(),o.current.element=g,o.current.scrollContainers=oO(g),b())};return y7(f,!!e),v7(m),L.useEffect(()=>{v(),b()},[e,f,m]),L.useEffect(()=>v,[]),[x,a,p]}function v7(t){L.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function y7(t,e){L.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function oO(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...oO(t.parentElement)]}const x7=["x","y","top","bottom","left","right","width","height"],b7=(t,e)=>x7.every(n=>t[n]===e[n]);var w7=Object.defineProperty,_7=Object.defineProperties,S7=Object.getOwnPropertyDescriptors,bC=Object.getOwnPropertySymbols,M7=Object.prototype.hasOwnProperty,E7=Object.prototype.propertyIsEnumerable,wC=(t,e,n)=>e in t?w7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_C=(t,e)=>{for(var n in e||(e={}))M7.call(e,n)&&wC(t,n,e[n]);if(bC)for(var n of bC(e))E7.call(e,n)&&wC(t,n,e[n]);return t},T7=(t,e)=>_7(t,S7(e)),SC,MC;typeof window<"u"&&((SC=window.document)!=null&&SC.createElement||((MC=window.navigator)==null?void 0:MC.product)==="ReactNative")?L.useLayoutEffect:L.useEffect;function lO(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=lO(r,e,n);if(i)return i;r=r.sibling}}function cO(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const EC=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=EC;return}return EC.apply(this,arguments)};const YS=cO(L.createContext(null));let uO=class extends L.Component{render(){return L.createElement(YS.Provider,{value:this._reactInternals},this.props.children)}};function A7(){const t=L.useContext(YS);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=L.useId();return L.useMemo(()=>{for(const n of[t,t==null?void 0:t.alternate]){if(!n)continue;const r=lO(n,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[t,e])}function C7(){const t=A7(),[e]=L.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const r=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;r&&r!==YS&&!e.has(r)&&e.set(r,L.useContext(cO(r)))}n=n.return}return e}function P7(){const t=C7();return L.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>L.createElement(e,null,L.createElement(n.Provider,T7(_C({},r),{value:t.get(n)}))),e=>L.createElement(uO,_C({},e))),[t])}const ux={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function R7(t){const{handlePointer:e}=r7(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(ux).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:a}=t.getState();a.disconnect==null||a.disconnect(),i(s=>({events:{...s.events,connected:n}})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([s,o])=>{const[l,c]=ux[s];n.addEventListener(l,o,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([a,s])=>{if(r&&r.connected instanceof HTMLElement){const[o]=ux[a];r.connected.removeEventListener(o,s)}}),n(a=>({events:{...a.events,connected:void 0}}))}}}}const L7=L.forwardRef(function({children:t,fallback:e,resize:n,style:r,gl:i,events:a=R7,eventSource:s,eventPrefix:o,shadows:l,linear:c,flat:h,legacy:p,orthographic:m,frameloop:f,dpr:v,performance:b,raycaster:x,camera:g,scene:_,onPointerMissed:w,onCreated:M,...C},A){L.useMemo(()=>XI(DW),[]);const N=P7(),[O,P]=g7({scroll:!0,debounce:{scroll:50,resize:0},...n}),I=L.useRef(null),H=L.useRef(null);L.useImperativeHandle(A,()=>I.current);const q=QI(w),[se,$]=L.useState(!1),[Z,ne]=L.useState(!1);if(se)throw se;if(Z)throw Z;const ie=L.useRef(null);Kp(()=>{const F=I.current;P.width>0&&P.height>0&&F&&(ie.current||(ie.current=h7(F)),ie.current.configure({gl:i,events:a,shadows:l,linear:c,flat:h,legacy:p,orthographic:m,frameloop:f,dpr:v,performance:b,raycaster:x,camera:g,scene:_,size:P,onPointerMissed:(...W)=>q.current==null?void 0:q.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(s?YW(s)?s.current:s:H.current),o&&W.setEvents({compute:(K,re)=>{const ee=K[o+"X"],le=K[o+"Y"];re.pointer.set(ee/re.size.width*2-1,-(le/re.size.height)*2+1),re.raycaster.setFromCamera(re.pointer,re.camera)}}),M==null||M(W)}}),ie.current.render(L.createElement(N,null,L.createElement(JI,{set:ne},L.createElement(L.Suspense,{fallback:L.createElement(ZW,{set:$})},t)))))}),L.useEffect(()=>{const F=I.current;if(F)return()=>sO(F)},[]);const D=s?"none":"auto";return L.createElement("div",Ku({ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:D,...r}},C),L.createElement("div",{ref:O,style:{width:"100%",height:"100%"}},L.createElement("canvas",{ref:I,style:{display:"block"}},e)))}),N7=L.forwardRef(function(t,e){return L.createElement(uO,null,L.createElement(L7,Ku({},t,{ref:e})))}),ef=new G,ZS=new G,k7=new G;function I7(t,e,n){const r=ef.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,a=n.height/2;return[r.x*i+i,-(r.y*a)+a]}function O7(t,e){const n=ef.setFromMatrixPosition(t.matrixWorld),r=ZS.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),a=e.getWorldDirection(k7);return i.angleTo(a)>Math.PI/2}function D7(t,e,n,r){const i=ef.setFromMatrixPosition(t.matrixWorld),a=i.clone();a.project(e),n.setFromCamera(a,e);const s=n.intersectObjects(r,!0);if(s.length){const o=s[0].distance;return i.distanceTo(n.ray.origin)<o}return!0}function U7(t,e){if(e instanceof cc)return e.zoom;if(e instanceof $n){const n=ef.setFromMatrixPosition(t.matrixWorld),r=ZS.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(i/2)*a)}else return 1}function z7(t,e,n){if(e instanceof $n||e instanceof cc){const r=ef.setFromMatrixPosition(t.matrixWorld),i=ZS.setFromMatrixPosition(e.matrixWorld),a=r.distanceTo(i),s=(n[1]-n[0])/(e.far-e.near),o=n[1]-s*e.far;return Math.round(s*a+o)}}const yw=t=>Math.abs(t)<1e-10?0:t;function dO(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=yw(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const F7=(t=>e=>dO(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),B7=(t=>(e,n)=>dO(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function $7(t){return t&&typeof t=="object"&&"current"in t}const j7=L.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:a,fullscreen:s,portal:o,distanceFactor:l,sprite:c=!1,transform:h=!1,occlude:p,onOcclude:m,castShadow:f,receiveShadow:v,material:b,geometry:x,zIndexRange:g=[16777271,0],calculatePosition:_=I7,as:w="div",wrapperClass:M,pointerEvents:C="auto",...A},N)=>{const{gl:O,camera:P,scene:I,size:H,raycaster:q,events:se,viewport:$}=Qu(),[Z]=L.useState(()=>document.createElement(w)),ne=L.useRef(),ie=L.useRef(null),D=L.useRef(0),F=L.useRef([0,0]),W=L.useRef(null),K=L.useRef(null),re=(o==null?void 0:o.current)||se.connected||O.domElement.parentNode,ee=L.useRef(null),le=L.useRef(!1),Le=L.useMemo(()=>p&&p!=="blending"||Array.isArray(p)&&p.length&&$7(p[0]),[p]);L.useLayoutEffect(()=>{const Ue=O.domElement;p&&p==="blending"?(Ue.style.zIndex=`${Math.floor(g[0]/2)}`,Ue.style.position="absolute",Ue.style.pointerEvents="none"):(Ue.style.zIndex=null,Ue.style.position=null,Ue.style.pointerEvents=null)},[p]),L.useLayoutEffect(()=>{if(ie.current){const Ue=ne.current=X_(Z);if(I.updateMatrixWorld(),h)Z.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const he=_(ie.current,P,H);Z.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${he[0]}px,${he[1]}px,0);transform-origin:0 0;`}return re&&(i?re.prepend(Z):re.appendChild(Z)),()=>{re&&re.removeChild(Z),Ue.unmount()}}},[re,h]),L.useLayoutEffect(()=>{M&&(Z.className=M)},[M]);const Ce=L.useMemo(()=>h?{position:"absolute",top:0,left:0,width:H.width,height:H.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...s&&{top:-H.height/2,left:-H.width/2,width:H.width,height:H.height},...n},[n,a,s,H,h]),Re=L.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);L.useLayoutEffect(()=>{if(le.current=!1,h){var Ue;(Ue=ne.current)==null||Ue.render(L.createElement("div",{ref:W,style:Ce},L.createElement("div",{ref:K,style:Re},L.createElement("div",{ref:N,className:r,style:n,children:t}))))}else{var he;(he=ne.current)==null||he.render(L.createElement("div",{ref:N,style:Ce,className:r,children:t}))}});const tt=L.useRef(!0);_v(Ue=>{if(ie.current){P.updateMatrixWorld(),ie.current.updateWorldMatrix(!0,!1);const he=h?F.current:_(ie.current,P,H);if(h||Math.abs(D.current-P.zoom)>e||Math.abs(F.current[0]-he[0])>e||Math.abs(F.current[1]-he[1])>e){const Q=O7(ie.current,P);let ke=!1;Le&&(Array.isArray(p)?ke=p.map(we=>we.current):p!=="blending"&&(ke=[I]));const Te=tt.current;if(ke){const we=D7(ie.current,P,q,ke);tt.current=we&&!Q}else tt.current=!Q;Te!==tt.current&&(m?m(!tt.current):Z.style.display=tt.current?"block":"none");const Se=Math.floor(g[0]/2),Fe=p?Le?[g[0],Se]:[Se-1,0]:g;if(Z.style.zIndex=`${z7(ie.current,P,Fe)}`,h){const[we,Xe]=[H.width/2,H.height/2],j=P.projectionMatrix.elements[5]*Xe,{isOrthographicCamera:U,top:me,left:De,bottom:Ae,right:ze}=P,rt=F7(P.matrixWorldInverse),je=U?`scale(${j})translate(${yw(-(ze+De)/2)}px,${yw((me+Ae)/2)}px)`:`translateZ(${j}px)`;let Ge=ie.current.matrixWorld;c&&(Ge=P.matrixWorldInverse.clone().transpose().copyPosition(Ge).scale(ie.current.scale),Ge.elements[3]=Ge.elements[7]=Ge.elements[11]=0,Ge.elements[15]=1),Z.style.width=H.width+"px",Z.style.height=H.height+"px",Z.style.transform=U?"":`perspective(${j}px)`,W.current&&K.current&&(W.current.style.transform=`${je}${rt}translate(${we}px,${Xe}px)`,K.current.style.transform=B7(Ge,1/((l||10)/400)))}else{const we=l===void 0?1:U7(ie.current,P)*l;Z.style.transform=`translate3d(${he[0]}px,${he[1]}px,0) scale(${we})`}F.current=he,D.current=P.zoom}}if(!Le&&ee.current&&!le.current)if(h){if(W.current){const he=W.current.children[0];if(he!=null&&he.clientWidth&&he!=null&&he.clientHeight){const{isOrthographicCamera:Q}=P;if(Q||x)A.scale&&(Array.isArray(A.scale)?A.scale instanceof G?ee.current.scale.copy(A.scale.clone().divideScalar(1)):ee.current.scale.set(1/A.scale[0],1/A.scale[1],1/A.scale[2]):ee.current.scale.setScalar(1/A.scale));else{const ke=(l||10)/400,Te=he.clientWidth*ke,Se=he.clientHeight*ke;ee.current.scale.set(Te,Se,1)}le.current=!0}}}else{const he=Z.children[0];if(he!=null&&he.clientWidth&&he!=null&&he.clientHeight){const Q=1/$.factor,ke=he.clientWidth*Q,Te=he.clientHeight*Q;ee.current.scale.set(ke,Te,1),le.current=!0}ee.current.lookAt(Ue.camera.position)}});const Qe=L.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return L.createElement("group",Ku({},A,{ref:ie}),p&&!Le&&L.createElement("mesh",{castShadow:f,receiveShadow:v,ref:ee},x||L.createElement("planeGeometry",null),b||L.createElement("shaderMaterial",{side:Vi,vertexShader:Qe.vertexShader,fragmentShader:Qe.fragmentShader})))});function V7(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}const hO=parseInt(Wp.replace(/\D+/g,""));var Hi=Uint8Array,Yl=Uint16Array,xw=Uint32Array,pO=new Hi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fO=new Hi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),H7=new Hi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mO=function(t,e){for(var n=new Yl(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new xw(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},gO=mO(pO,2),vO=gO[0],W7=gO[1];vO[28]=258,W7[258]=28;var G7=mO(fO,0),q7=G7[0],yO=new Yl(32768);for(var dn=0;dn<32768;++dn){var Ks=(dn&43690)>>>1|(dn&21845)<<1;Ks=(Ks&52428)>>>2|(Ks&13107)<<2,Ks=(Ks&61680)>>>4|(Ks&3855)<<4,yO[dn]=((Ks&65280)>>>8|(Ks&255)<<8)>>>1}var zh=function(t,e,n){for(var r=t.length,i=0,a=new Yl(e);i<r;++i)++a[t[i]-1];var s=new Yl(e);for(i=0;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;{o=new Yl(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],h=e-t[i],p=s[t[i]-1]++<<h,m=p|(1<<h)-1;p<=m;++p)o[yO[p]>>>l]=c}return o},tf=new Hi(288);for(var dn=0;dn<144;++dn)tf[dn]=8;for(var dn=144;dn<256;++dn)tf[dn]=9;for(var dn=256;dn<280;++dn)tf[dn]=7;for(var dn=280;dn<288;++dn)tf[dn]=8;var xO=new Hi(32);for(var dn=0;dn<32;++dn)xO[dn]=5;var X7=zh(tf,9),Y7=zh(xO,5),dx=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},na=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},hx=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Z7=function(t){return(t/8|0)+(t&7&&1)},Q7=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Yl?Yl:t instanceof xw?xw:Hi)(n-e);return r.set(t.subarray(e,n)),r},J7=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Hi(0);var i=!e||n,a=!n||n.i;n||(n={}),e||(e=new Hi(r*3));var s=function(Ce){var Re=e.length;if(Ce>Re){var tt=new Hi(Math.max(Re*2,Ce));tt.set(e),e=tt}},o=n.f||0,l=n.p||0,c=n.b||0,h=n.l,p=n.d,m=n.m,f=n.n,v=r*8;do{if(!h){n.f=o=na(t,l,1);var b=na(t,l+1,3);if(l+=3,b)if(b==1)h=X7,p=Y7,m=9,f=5;else if(b==2){var x=na(t,l,31)+257,g=na(t,l+10,15)+4,_=x+na(t,l+5,31)+1;l+=14;for(var w=new Hi(_),M=new Hi(19),C=0;C<g;++C)M[H7[C]]=na(t,l+C*3,7);l+=g*3;for(var A=dx(M),N=(1<<A)-1,O=zh(M,A),C=0;C<_;){var P=O[na(t,l,N)];l+=P&15;var I=P>>>4;if(I<16)w[C++]=I;else{var H=0,q=0;for(I==16?(q=3+na(t,l,3),l+=2,H=w[C-1]):I==17?(q=3+na(t,l,7),l+=3):I==18&&(q=11+na(t,l,127),l+=7);q--;)w[C++]=H}}var se=w.subarray(0,x),$=w.subarray(x);m=dx(se),f=dx($),h=zh(se,m),p=zh($,f)}else throw"invalid block type";else{var I=Z7(l)+4,Z=t[I-4]|t[I-3]<<8,ne=I+Z;if(ne>r){if(a)throw"unexpected EOF";break}i&&s(c+Z),e.set(t.subarray(I,ne),c),n.b=c+=Z,n.p=l=ne*8;continue}if(l>v){if(a)throw"unexpected EOF";break}}i&&s(c+131072);for(var ie=(1<<m)-1,D=(1<<f)-1,F=l;;F=l){var H=h[hx(t,l)&ie],W=H>>>4;if(l+=H&15,l>v){if(a)throw"unexpected EOF";break}if(!H)throw"invalid length/literal";if(W<256)e[c++]=W;else if(W==256){F=l,h=null;break}else{var K=W-254;if(W>264){var C=W-257,re=pO[C];K=na(t,l,(1<<re)-1)+vO[C],l+=re}var ee=p[hx(t,l)&D],le=ee>>>4;if(!ee)throw"invalid distance";l+=ee&15;var $=q7[le];if(le>3){var re=fO[le];$+=hx(t,l)&(1<<re)-1,l+=re}if(l>v){if(a)throw"unexpected EOF";break}i&&s(c+131072);for(var Le=c+K;c<Le;c+=4)e[c]=e[c-$],e[c+1]=e[c+1-$],e[c+2]=e[c+2-$],e[c+3]=e[c+3-$];c=Le}}n.l=h,n.p=F,n.b=c,h&&(o=1,n.m=m,n.d=p,n.n=f)}while(!o);return c==e.length?e:Q7(e,0,c)},K7=new Hi(0),eG=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function mg(t,e){return J7((eG(t),t.subarray(2,-4)),e)}var tG=typeof TextDecoder<"u"&&new TextDecoder,nG=0;try{tG.decode(K7,{stream:!0}),nG=1}catch{}const rG=t=>t&&t.isCubeTexture;class iG extends Vn{constructor(e,n){var r,i;const a=rG(e),s=((i=a?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,o=Math.floor(Math.log2(s)),l=Math.pow(2,o),c=3*Math.max(l,16*7),h=4*l,p=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${o}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,f=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${hO>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,v={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},b=new LS(1,16),x=new ga({uniforms:v,fragmentShader:f,vertexShader:m,side:Vi});super(b,x)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class aG extends FS{constructor(e){super(e),this.type=Vr}parse(e){const n=function(g,_){switch(g){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(_||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(_||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(_||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(_||""))}},r=`
`,i=function(g,_,w){_=_||1024;let M=g.pos,C=-1,A=0,N="",O=String.fromCharCode.apply(null,new Uint16Array(g.subarray(M,M+128)));for(;0>(C=O.indexOf(r))&&A<_&&M<g.byteLength;)N+=O,A+=O.length,M+=128,O+=String.fromCharCode.apply(null,new Uint16Array(g.subarray(M,M+128)));return-1<C?(g.pos+=A+C+1,N+O.slice(0,C)):!1},a=function(g){const _=/^#\?(\S+)/,w=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,M=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,C=/^\s*FORMAT=(\S+)\s*$/,A=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,N={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let O,P;for((g.pos>=g.byteLength||!(O=i(g)))&&n(1,"no header found"),(P=O.match(_))||n(3,"bad initial token"),N.valid|=1,N.programtype=P[1],N.string+=O+`
`;O=i(g),O!==!1;){if(N.string+=O+`
`,O.charAt(0)==="#"){N.comments+=O+`
`;continue}if((P=O.match(w))&&(N.gamma=parseFloat(P[1])),(P=O.match(M))&&(N.exposure=parseFloat(P[1])),(P=O.match(C))&&(N.valid|=2,N.format=P[1]),(P=O.match(A))&&(N.valid|=4,N.height=parseInt(P[1],10),N.width=parseInt(P[2],10)),N.valid&2&&N.valid&4)break}return N.valid&2||n(3,"missing format specifier"),N.valid&4||n(3,"missing image size specifier"),N},s=function(g,_,w){const M=_;if(M<8||M>32767||g[0]!==2||g[1]!==2||g[2]&128)return new Uint8Array(g);M!==(g[2]<<8|g[3])&&n(3,"wrong scanline width");const C=new Uint8Array(4*_*w);C.length||n(4,"unable to allocate buffer space");let A=0,N=0;const O=4*M,P=new Uint8Array(4),I=new Uint8Array(O);let H=w;for(;H>0&&N<g.byteLength;){N+4>g.byteLength&&n(1),P[0]=g[N++],P[1]=g[N++],P[2]=g[N++],P[3]=g[N++],(P[0]!=2||P[1]!=2||(P[2]<<8|P[3])!=M)&&n(3,"bad rgbe scanline format");let q=0,se;for(;q<O&&N<g.byteLength;){se=g[N++];const Z=se>128;if(Z&&(se-=128),(se===0||q+se>O)&&n(3,"bad scanline data"),Z){const ne=g[N++];for(let ie=0;ie<se;ie++)I[q++]=ne}else I.set(g.subarray(N,N+se),q),q+=se,N+=se}const $=M;for(let Z=0;Z<$;Z++){let ne=0;C[A]=I[Z+ne],ne+=M,C[A+1]=I[Z+ne],ne+=M,C[A+2]=I[Z+ne],ne+=M,C[A+3]=I[Z+ne],A+=4}H--}return C},o=function(g,_,w,M){const C=g[_+3],A=Math.pow(2,C-128)/255;w[M+0]=g[_+0]*A,w[M+1]=g[_+1]*A,w[M+2]=g[_+2]*A,w[M+3]=1},l=function(g,_,w,M){const C=g[_+3],A=Math.pow(2,C-128)/255;w[M+0]=zl.toHalfFloat(Math.min(g[_+0]*A,65504)),w[M+1]=zl.toHalfFloat(Math.min(g[_+1]*A,65504)),w[M+2]=zl.toHalfFloat(Math.min(g[_+2]*A,65504)),w[M+3]=zl.toHalfFloat(1)},c=new Uint8Array(e);c.pos=0;const h=a(c),p=h.width,m=h.height,f=s(c.subarray(c.pos),p,m);let v,b,x;switch(this.type){case ur:x=f.length/4;const g=new Float32Array(x*4);for(let w=0;w<x;w++)o(f,w*4,g,w*4);v=g,b=ur;break;case Vr:x=f.length/4;const _=new Uint16Array(x*4);for(let w=0;w<x;w++)l(f,w*4,_,w*4);v=_,b=Vr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:p,height:m,data:v,header:h.string,gamma:h.gamma,exposure:h.exposure,type:b}}setDataType(e){return this.type=e,this}load(e,n,r,i){function a(s,o){switch(s.type){case ur:case Vr:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=un,s.magFilter=un,s.generateMipmaps=!1,s.flipY=!0;break}n&&n(s,o)}return super.load(e,a,r,i)}}const rh=hO>=152;class sG extends FS{constructor(e){super(e),this.type=Vr}parse(e){const n=Math.pow(2.7182818,2.2);function r(k,z){for(var Y=0,J=0;J<65536;++J)(J==0||k[J>>3]&1<<(J&7))&&(z[Y++]=J);for(var B=Y-1;Y<65536;)z[Y++]=0;return B}function i(k){for(var z=0;z<16384;z++)k[z]={},k[z].len=0,k[z].lit=0,k[z].p=null}const a={l:0,c:0,lc:0};function s(k,z,Y,J,B){for(;Y<k;)z=z<<8|Q(J,B),Y+=8;Y-=k,a.l=z>>Y&(1<<k)-1,a.c=z,a.lc=Y}const o=new Array(59);function l(k){for(var z=0;z<=58;++z)o[z]=0;for(var z=0;z<65537;++z)o[k[z]]+=1;for(var Y=0,z=58;z>0;--z){var J=Y+o[z]>>1;o[z]=Y,Y=J}for(var z=0;z<65537;++z){var B=k[z];B>0&&(k[z]=B|o[B]++<<6)}}function c(k,z,Y,J,B,te,ue){for(var ye=Y,pe=0,xe=0;B<=te;B++){if(ye.value-Y.value>J)return!1;s(6,pe,xe,k,ye);var _e=a.l;if(pe=a.c,xe=a.lc,ue[B]=_e,_e==63){if(ye.value-Y.value>J)throw"Something wrong with hufUnpackEncTable";s(8,pe,xe,k,ye);var Ee=a.l+6;if(pe=a.c,xe=a.lc,B+Ee>te+1)throw"Something wrong with hufUnpackEncTable";for(;Ee--;)ue[B++]=0;B--}else if(_e>=59){var Ee=_e-59+2;if(B+Ee>te+1)throw"Something wrong with hufUnpackEncTable";for(;Ee--;)ue[B++]=0;B--}}l(ue)}function h(k){return k&63}function p(k){return k>>6}function m(k,z,Y,J){for(;z<=Y;z++){var B=p(k[z]),te=h(k[z]);if(B>>te)throw"Invalid table entry";if(te>14){var ue=J[B>>te-14];if(ue.len)throw"Invalid table entry";if(ue.lit++,ue.p){var ye=ue.p;ue.p=new Array(ue.lit);for(var pe=0;pe<ue.lit-1;++pe)ue.p[pe]=ye[pe]}else ue.p=new Array(1);ue.p[ue.lit-1]=z}else if(te)for(var xe=0,pe=1<<14-te;pe>0;pe--){var ue=J[(B<<14-te)+xe];if(ue.len||ue.p)throw"Invalid table entry";ue.len=te,ue.lit=z,xe++}}return!0}const f={c:0,lc:0};function v(k,z,Y,J){k=k<<8|Q(Y,J),z+=8,f.c=k,f.lc=z}const b={c:0,lc:0};function x(k,z,Y,J,B,te,ue,ye,pe,xe){if(k==z){J<8&&(v(Y,J,B,ue),Y=f.c,J=f.lc),J-=8;var _e=Y>>J,_e=new Uint8Array([_e])[0];if(pe.value+_e>xe)return!1;for(var Ee=ye[pe.value-1];_e-- >0;)ye[pe.value++]=Ee}else if(pe.value<xe)ye[pe.value++]=k;else return!1;b.c=Y,b.lc=J}function g(k){return k&65535}function _(k){var z=g(k);return z>32767?z-65536:z}const w={a:0,b:0};function M(k,z){var Y=_(k),J=_(z),B=J,te=Y+(B&1)+(B>>1),ue=te,ye=te-B;w.a=ue,w.b=ye}function C(k,z){var Y=g(k),J=g(z),B=Y-(J>>1)&65535,te=J+B-32768&65535;w.a=te,w.b=B}function A(k,z,Y,J,B,te,ue){for(var ye=ue<16384,pe=Y>B?B:Y,xe=1,_e;xe<=pe;)xe<<=1;for(xe>>=1,_e=xe,xe>>=1;xe>=1;){for(var Ee=0,ft=Ee+te*(B-_e),$e=te*xe,Ye=te*_e,it=J*xe,gt=J*_e,Wt,Gt,qt,mn;Ee<=ft;Ee+=Ye){for(var $t=Ee,Rr=Ee+J*(Y-_e);$t<=Rr;$t+=gt){var Wn=$t+it,_n=$t+$e,hi=_n+it;ye?(M(k[$t+z],k[_n+z]),Wt=w.a,qt=w.b,M(k[Wn+z],k[hi+z]),Gt=w.a,mn=w.b,M(Wt,Gt),k[$t+z]=w.a,k[Wn+z]=w.b,M(qt,mn),k[_n+z]=w.a,k[hi+z]=w.b):(C(k[$t+z],k[_n+z]),Wt=w.a,qt=w.b,C(k[Wn+z],k[hi+z]),Gt=w.a,mn=w.b,C(Wt,Gt),k[$t+z]=w.a,k[Wn+z]=w.b,C(qt,mn),k[_n+z]=w.a,k[hi+z]=w.b)}if(Y&xe){var _n=$t+$e;ye?M(k[$t+z],k[_n+z]):C(k[$t+z],k[_n+z]),Wt=w.a,k[_n+z]=w.b,k[$t+z]=Wt}}if(B&xe)for(var $t=Ee,Rr=Ee+J*(Y-_e);$t<=Rr;$t+=gt){var Wn=$t+it;ye?M(k[$t+z],k[Wn+z]):C(k[$t+z],k[Wn+z]),Wt=w.a,k[Wn+z]=w.b,k[$t+z]=Wt}_e=xe,xe>>=1}return Ee}function N(k,z,Y,J,B,te,ue,ye,pe,xe){for(var _e=0,Ee=0,ft=ye,$e=Math.trunc(B.value+(te+7)/8);B.value<$e;)for(v(_e,Ee,Y,B),_e=f.c,Ee=f.lc;Ee>=14;){var Ye=_e>>Ee-14&16383,it=z[Ye];if(it.len)Ee-=it.len,x(it.lit,ue,_e,Ee,Y,J,B,pe,xe,ft),_e=b.c,Ee=b.lc;else{if(!it.p)throw"hufDecode issues";var gt;for(gt=0;gt<it.lit;gt++){for(var Wt=h(k[it.p[gt]]);Ee<Wt&&B.value<$e;)v(_e,Ee,Y,B),_e=f.c,Ee=f.lc;if(Ee>=Wt&&p(k[it.p[gt]])==(_e>>Ee-Wt&(1<<Wt)-1)){Ee-=Wt,x(it.p[gt],ue,_e,Ee,Y,J,B,pe,xe,ft),_e=b.c,Ee=b.lc;break}}if(gt==it.lit)throw"hufDecode issues"}}var Gt=8-te&7;for(_e>>=Gt,Ee-=Gt;Ee>0;){var it=z[_e<<14-Ee&16383];if(it.len)Ee-=it.len,x(it.lit,ue,_e,Ee,Y,J,B,pe,xe,ft),_e=b.c,Ee=b.lc;else throw"hufDecode issues"}return!0}function O(k,z,Y,J,B,te){var ue={value:0},ye=Y.value,pe=he(z,Y),xe=he(z,Y);Y.value+=4;var _e=he(z,Y);if(Y.value+=4,pe<0||pe>=65537||xe<0||xe>=65537)throw"Something wrong with HUF_ENCSIZE";var Ee=new Array(65537),ft=new Array(16384);i(ft);var $e=J-(Y.value-ye);if(c(k,z,Y,$e,pe,xe,Ee),_e>8*(J-(Y.value-ye)))throw"Something wrong with hufUncompress";m(Ee,pe,xe,ft),N(Ee,ft,k,z,Y,_e,xe,te,B,ue)}function P(k,z,Y){for(var J=0;J<Y;++J)z[J]=k[z[J]]}function I(k){for(var z=1;z<k.length;z++){var Y=k[z-1]+k[z]-128;k[z]=Y}}function H(k,z){for(var Y=0,J=Math.floor((k.length+1)/2),B=0,te=k.length-1;!(B>te||(z[B++]=k[Y++],B>te));)z[B++]=k[J++]}function q(k){for(var z=k.byteLength,Y=new Array,J=0,B=new DataView(k);z>0;){var te=B.getInt8(J++);if(te<0){var ue=-te;z-=ue+1;for(var ye=0;ye<ue;ye++)Y.push(B.getUint8(J++))}else{var ue=te;z-=2;for(var pe=B.getUint8(J++),ye=0;ye<ue+1;ye++)Y.push(pe)}}return Y}function se(k,z,Y,J,B,te){var ue=new DataView(te.buffer),ye=Y[k.idx[0]].width,pe=Y[k.idx[0]].height,xe=3,_e=Math.floor(ye/8),Ee=Math.ceil(ye/8),ft=Math.ceil(pe/8),$e=ye-(Ee-1)*8,Ye=pe-(ft-1)*8,it={value:0},gt=new Array(xe),Wt=new Array(xe),Gt=new Array(xe),qt=new Array(xe),mn=new Array(xe);for(let fe=0;fe<xe;++fe)mn[fe]=z[k.idx[fe]],gt[fe]=fe<1?0:gt[fe-1]+Ee*ft,Wt[fe]=new Float32Array(64),Gt[fe]=new Uint16Array(64),qt[fe]=new Uint16Array(Ee*64);for(let fe=0;fe<ft;++fe){var $t=8;fe==ft-1&&($t=Ye);var Rr=8;for(let de=0;de<Ee;++de){de==Ee-1&&(Rr=$e);for(let Ne=0;Ne<xe;++Ne)Gt[Ne].fill(0),Gt[Ne][0]=B[gt[Ne]++],$(it,J,Gt[Ne]),Z(Gt[Ne],Wt[Ne]),ne(Wt[Ne]);ie(Wt);for(let Ne=0;Ne<xe;++Ne)D(Wt[Ne],qt[Ne],de*64)}let ge=0;for(let de=0;de<xe;++de){const Ne=Y[k.idx[de]].type;for(let nt=8*fe;nt<8*fe+$t;++nt){ge=mn[de][nt];for(let ct=0;ct<_e;++ct){const ot=ct*64+(nt&7)*8;ue.setUint16(ge+0*2*Ne,qt[de][ot+0],!0),ue.setUint16(ge+1*2*Ne,qt[de][ot+1],!0),ue.setUint16(ge+2*2*Ne,qt[de][ot+2],!0),ue.setUint16(ge+3*2*Ne,qt[de][ot+3],!0),ue.setUint16(ge+4*2*Ne,qt[de][ot+4],!0),ue.setUint16(ge+5*2*Ne,qt[de][ot+5],!0),ue.setUint16(ge+6*2*Ne,qt[de][ot+6],!0),ue.setUint16(ge+7*2*Ne,qt[de][ot+7],!0),ge+=8*2*Ne}}if(_e!=Ee)for(let nt=8*fe;nt<8*fe+$t;++nt){const ct=mn[de][nt]+8*_e*2*Ne,ot=_e*64+(nt&7)*8;for(let yt=0;yt<Rr;++yt)ue.setUint16(ct+yt*2*Ne,qt[de][ot+yt],!0)}}}for(var Wn=new Uint16Array(ye),ue=new DataView(te.buffer),_n=0;_n<xe;++_n){Y[k.idx[_n]].decoded=!0;var hi=Y[k.idx[_n]].type;if(Y[_n].type==2)for(var V=0;V<pe;++V){const ge=mn[_n][V];for(var ce=0;ce<ye;++ce)Wn[ce]=ue.getUint16(ge+ce*2*hi,!0);for(var ce=0;ce<ye;++ce)ue.setFloat32(ge+ce*2*hi,we(Wn[ce]),!0)}}}function $(k,z,Y){for(var J,B=1;B<64;)J=z[k.value],J==65280?B=64:J>>8==255?B+=J&255:(Y[B]=J,B++),k.value++}function Z(k,z){z[0]=we(k[0]),z[1]=we(k[1]),z[2]=we(k[5]),z[3]=we(k[6]),z[4]=we(k[14]),z[5]=we(k[15]),z[6]=we(k[27]),z[7]=we(k[28]),z[8]=we(k[2]),z[9]=we(k[4]),z[10]=we(k[7]),z[11]=we(k[13]),z[12]=we(k[16]),z[13]=we(k[26]),z[14]=we(k[29]),z[15]=we(k[42]),z[16]=we(k[3]),z[17]=we(k[8]),z[18]=we(k[12]),z[19]=we(k[17]),z[20]=we(k[25]),z[21]=we(k[30]),z[22]=we(k[41]),z[23]=we(k[43]),z[24]=we(k[9]),z[25]=we(k[11]),z[26]=we(k[18]),z[27]=we(k[24]),z[28]=we(k[31]),z[29]=we(k[40]),z[30]=we(k[44]),z[31]=we(k[53]),z[32]=we(k[10]),z[33]=we(k[19]),z[34]=we(k[23]),z[35]=we(k[32]),z[36]=we(k[39]),z[37]=we(k[45]),z[38]=we(k[52]),z[39]=we(k[54]),z[40]=we(k[20]),z[41]=we(k[22]),z[42]=we(k[33]),z[43]=we(k[38]),z[44]=we(k[46]),z[45]=we(k[51]),z[46]=we(k[55]),z[47]=we(k[60]),z[48]=we(k[21]),z[49]=we(k[34]),z[50]=we(k[37]),z[51]=we(k[47]),z[52]=we(k[50]),z[53]=we(k[56]),z[54]=we(k[59]),z[55]=we(k[61]),z[56]=we(k[35]),z[57]=we(k[36]),z[58]=we(k[48]),z[59]=we(k[49]),z[60]=we(k[57]),z[61]=we(k[58]),z[62]=we(k[62]),z[63]=we(k[63])}function ne(k){const z=.5*Math.cos(.7853975),Y=.5*Math.cos(3.14159/16),J=.5*Math.cos(3.14159/8),B=.5*Math.cos(3*3.14159/16),te=.5*Math.cos(5*3.14159/16),ue=.5*Math.cos(3*3.14159/8),ye=.5*Math.cos(7*3.14159/16);for(var pe=new Array(4),xe=new Array(4),_e=new Array(4),Ee=new Array(4),ft=0;ft<8;++ft){var $e=ft*8;pe[0]=J*k[$e+2],pe[1]=ue*k[$e+2],pe[2]=J*k[$e+6],pe[3]=ue*k[$e+6],xe[0]=Y*k[$e+1]+B*k[$e+3]+te*k[$e+5]+ye*k[$e+7],xe[1]=B*k[$e+1]-ye*k[$e+3]-Y*k[$e+5]-te*k[$e+7],xe[2]=te*k[$e+1]-Y*k[$e+3]+ye*k[$e+5]+B*k[$e+7],xe[3]=ye*k[$e+1]-te*k[$e+3]+B*k[$e+5]-Y*k[$e+7],_e[0]=z*(k[$e+0]+k[$e+4]),_e[3]=z*(k[$e+0]-k[$e+4]),_e[1]=pe[0]+pe[3],_e[2]=pe[1]-pe[2],Ee[0]=_e[0]+_e[1],Ee[1]=_e[3]+_e[2],Ee[2]=_e[3]-_e[2],Ee[3]=_e[0]-_e[1],k[$e+0]=Ee[0]+xe[0],k[$e+1]=Ee[1]+xe[1],k[$e+2]=Ee[2]+xe[2],k[$e+3]=Ee[3]+xe[3],k[$e+4]=Ee[3]-xe[3],k[$e+5]=Ee[2]-xe[2],k[$e+6]=Ee[1]-xe[1],k[$e+7]=Ee[0]-xe[0]}for(var Ye=0;Ye<8;++Ye)pe[0]=J*k[16+Ye],pe[1]=ue*k[16+Ye],pe[2]=J*k[48+Ye],pe[3]=ue*k[48+Ye],xe[0]=Y*k[8+Ye]+B*k[24+Ye]+te*k[40+Ye]+ye*k[56+Ye],xe[1]=B*k[8+Ye]-ye*k[24+Ye]-Y*k[40+Ye]-te*k[56+Ye],xe[2]=te*k[8+Ye]-Y*k[24+Ye]+ye*k[40+Ye]+B*k[56+Ye],xe[3]=ye*k[8+Ye]-te*k[24+Ye]+B*k[40+Ye]-Y*k[56+Ye],_e[0]=z*(k[Ye]+k[32+Ye]),_e[3]=z*(k[Ye]-k[32+Ye]),_e[1]=pe[0]+pe[3],_e[2]=pe[1]-pe[2],Ee[0]=_e[0]+_e[1],Ee[1]=_e[3]+_e[2],Ee[2]=_e[3]-_e[2],Ee[3]=_e[0]-_e[1],k[0+Ye]=Ee[0]+xe[0],k[8+Ye]=Ee[1]+xe[1],k[16+Ye]=Ee[2]+xe[2],k[24+Ye]=Ee[3]+xe[3],k[32+Ye]=Ee[3]-xe[3],k[40+Ye]=Ee[2]-xe[2],k[48+Ye]=Ee[1]-xe[1],k[56+Ye]=Ee[0]-xe[0]}function ie(k){for(var z=0;z<64;++z){var Y=k[0][z],J=k[1][z],B=k[2][z];k[0][z]=Y+1.5747*B,k[1][z]=Y-.1873*J-.4682*B,k[2][z]=Y+1.8556*J}}function D(k,z,Y){for(var J=0;J<64;++J)z[Y+J]=zl.toHalfFloat(F(k[J]))}function F(k){return k<=1?Math.sign(k)*Math.pow(Math.abs(k),2.2):Math.sign(k)*Math.pow(n,Math.abs(k)-1)}function W(k){return new DataView(k.array.buffer,k.offset.value,k.size)}function K(k){var z=k.viewer.buffer.slice(k.offset.value,k.offset.value+k.size),Y=new Uint8Array(q(z)),J=new Uint8Array(Y.length);return I(Y),H(Y,J),new DataView(J.buffer)}function re(k){var z=k.array.slice(k.offset.value,k.offset.value+k.size),Y=mg(z),J=new Uint8Array(Y.length);return I(Y),H(Y,J),new DataView(J.buffer)}function ee(k){for(var z=k.viewer,Y={value:k.offset.value},J=new Uint16Array(k.width*k.scanlineBlockSize*(k.channels*k.type)),B=new Uint8Array(8192),te=0,ue=new Array(k.channels),ye=0;ye<k.channels;ye++)ue[ye]={},ue[ye].start=te,ue[ye].end=ue[ye].start,ue[ye].nx=k.width,ue[ye].ny=k.lines,ue[ye].size=k.type,te+=ue[ye].nx*ue[ye].ny*ue[ye].size;var pe=Xe(z,Y),xe=Xe(z,Y);if(xe>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(pe<=xe)for(var ye=0;ye<xe-pe+1;ye++)B[ye+pe]=ke(z,Y);var _e=new Uint16Array(65536),Ee=r(B,_e),ft=he(z,Y);O(k.array,z,Y,ft,J,te);for(var ye=0;ye<k.channels;++ye)for(var $e=ue[ye],Ye=0;Ye<ue[ye].size;++Ye)A(J,$e.start+Ye,$e.nx,$e.size,$e.ny,$e.nx*$e.size,Ee);P(_e,J,te);for(var it=0,gt=new Uint8Array(J.buffer.byteLength),Wt=0;Wt<k.lines;Wt++)for(var Gt=0;Gt<k.channels;Gt++){var $e=ue[Gt],qt=$e.nx*$e.size,mn=new Uint8Array(J.buffer,$e.end*2,qt*2);gt.set(mn,it),it+=qt*2,$e.end+=qt}return new DataView(gt.buffer)}function le(k){var z=k.array.slice(k.offset.value,k.offset.value+k.size),Y=mg(z);const J=k.lines*k.channels*k.width,B=k.type==1?new Uint16Array(J):new Uint32Array(J);let te=0,ue=0;const ye=new Array(4);for(let pe=0;pe<k.lines;pe++)for(let xe=0;xe<k.channels;xe++){let _e=0;switch(k.type){case 1:ye[0]=te,ye[1]=ye[0]+k.width,te=ye[1]+k.width;for(let Ee=0;Ee<k.width;++Ee){const ft=Y[ye[0]++]<<8|Y[ye[1]++];_e+=ft,B[ue]=_e,ue++}break;case 2:ye[0]=te,ye[1]=ye[0]+k.width,ye[2]=ye[1]+k.width,te=ye[2]+k.width;for(let Ee=0;Ee<k.width;++Ee){const ft=Y[ye[0]++]<<24|Y[ye[1]++]<<16|Y[ye[2]++]<<8;_e+=ft,B[ue]=_e,ue++}break}}return new DataView(B.buffer)}function Le(k){var z=k.viewer,Y={value:k.offset.value},J=new Uint8Array(k.width*k.lines*(k.channels*k.type*2)),B={version:Te(z,Y),unknownUncompressedSize:Te(z,Y),unknownCompressedSize:Te(z,Y),acCompressedSize:Te(z,Y),dcCompressedSize:Te(z,Y),rleCompressedSize:Te(z,Y),rleUncompressedSize:Te(z,Y),rleRawSize:Te(z,Y),totalAcUncompressedCount:Te(z,Y),totalDcUncompressedCount:Te(z,Y),acCompression:Te(z,Y)};if(B.version<2)throw"EXRLoader.parse: "+pt.compression+" version "+B.version+" is unsupported";for(var te=new Array,ue=Xe(z,Y)-2;ue>0;){var ye=Ce(z.buffer,Y),pe=ke(z,Y),xe=pe>>2&3,_e=(pe>>4)-1,Ee=new Int8Array([_e])[0],ft=ke(z,Y);te.push({name:ye,index:Ee,type:ft,compression:xe}),ue-=ye.length+3}for(var $e=pt.channels,Ye=new Array(k.channels),it=0;it<k.channels;++it){var gt=Ye[it]={},Wt=$e[it];gt.name=Wt.name,gt.compression=0,gt.decoded=!1,gt.type=Wt.pixelType,gt.pLinear=Wt.pLinear,gt.width=k.width,gt.height=k.lines}for(var Gt={idx:new Array(3)},qt=0;qt<k.channels;++qt)for(var gt=Ye[qt],it=0;it<te.length;++it){var mn=te[it];gt.name==mn.name&&(gt.compression=mn.compression,mn.index>=0&&(Gt.idx[mn.index]=qt),gt.offset=qt)}if(B.acCompressedSize>0)switch(B.acCompression){case 0:var Wn=new Uint16Array(B.totalAcUncompressedCount);O(k.array,z,Y,B.acCompressedSize,Wn,B.totalAcUncompressedCount);break;case 1:var $t=k.array.slice(Y.value,Y.value+B.totalAcUncompressedCount),Rr=mg($t),Wn=new Uint16Array(Rr.buffer);Y.value+=B.totalAcUncompressedCount;break}if(B.dcCompressedSize>0){var _n={array:k.array,offset:Y,size:B.dcCompressedSize},hi=new Uint16Array(re(_n).buffer);Y.value+=B.dcCompressedSize}if(B.rleRawSize>0){var $t=k.array.slice(Y.value,Y.value+B.rleCompressedSize),Rr=mg($t),V=q(Rr.buffer);Y.value+=B.rleCompressedSize}for(var ce=0,fe=new Array(Ye.length),it=0;it<fe.length;++it)fe[it]=new Array;for(var ge=0;ge<k.lines;++ge)for(var de=0;de<Ye.length;++de)fe[de].push(ce),ce+=Ye[de].width*k.type*2;se(Gt,fe,Ye,Wn,hi,J);for(var it=0;it<Ye.length;++it){var gt=Ye[it];if(!gt.decoded)switch(gt.compression){case 2:for(var Ne=0,nt=0,ge=0;ge<k.lines;++ge){for(var ct=fe[it][Ne],ot=0;ot<gt.width;++ot){for(var yt=0;yt<2*gt.type;++yt)J[ct++]=V[nt+yt*gt.width*gt.height];nt++}Ne++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(J.buffer)}function Ce(k,z){for(var Y=new Uint8Array(k),J=0;Y[z.value+J]!=0;)J+=1;var B=new TextDecoder().decode(Y.slice(z.value,z.value+J));return z.value=z.value+J+1,B}function Re(k,z,Y){var J=new TextDecoder().decode(new Uint8Array(k).slice(z.value,z.value+Y));return z.value=z.value+Y,J}function tt(k,z){var Y=Ue(k,z),J=he(k,z);return[Y,J]}function Qe(k,z){var Y=he(k,z),J=he(k,z);return[Y,J]}function Ue(k,z){var Y=k.getInt32(z.value,!0);return z.value=z.value+4,Y}function he(k,z){var Y=k.getUint32(z.value,!0);return z.value=z.value+4,Y}function Q(k,z){var Y=k[z.value];return z.value=z.value+1,Y}function ke(k,z){var Y=k.getUint8(z.value);return z.value=z.value+1,Y}const Te=function(k,z){let Y;return"getBigInt64"in DataView.prototype?Y=Number(k.getBigInt64(z.value,!0)):Y=k.getUint32(z.value+4,!0)+Number(k.getUint32(z.value,!0)<<32),z.value+=8,Y};function Se(k,z){var Y=k.getFloat32(z.value,!0);return z.value+=4,Y}function Fe(k,z){return zl.toHalfFloat(Se(k,z))}function we(k){var z=(k&31744)>>10,Y=k&1023;return(k>>15?-1:1)*(z?z===31?Y?NaN:1/0:Math.pow(2,z-15)*(1+Y/1024):6103515625e-14*(Y/1024))}function Xe(k,z){var Y=k.getUint16(z.value,!0);return z.value+=2,Y}function j(k,z){return we(Xe(k,z))}function U(k,z,Y,J){for(var B=Y.value,te=[];Y.value<B+J-1;){var ue=Ce(z,Y),ye=Ue(k,Y),pe=ke(k,Y);Y.value+=3;var xe=Ue(k,Y),_e=Ue(k,Y);te.push({name:ue,pixelType:ye,pLinear:pe,xSampling:xe,ySampling:_e})}return Y.value+=1,te}function me(k,z){var Y=Se(k,z),J=Se(k,z),B=Se(k,z),te=Se(k,z),ue=Se(k,z),ye=Se(k,z),pe=Se(k,z),xe=Se(k,z);return{redX:Y,redY:J,greenX:B,greenY:te,blueX:ue,blueY:ye,whiteX:pe,whiteY:xe}}function De(k,z){var Y=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],J=ke(k,z);return Y[J]}function Ae(k,z){var Y=he(k,z),J=he(k,z),B=he(k,z),te=he(k,z);return{xMin:Y,yMin:J,xMax:B,yMax:te}}function ze(k,z){var Y=["INCREASING_Y"],J=ke(k,z);return Y[J]}function rt(k,z){var Y=Se(k,z),J=Se(k,z);return[Y,J]}function je(k,z){var Y=Se(k,z),J=Se(k,z),B=Se(k,z);return[Y,J,B]}function Ge(k,z,Y,J,B){if(J==="string"||J==="stringvector"||J==="iccProfile")return Re(z,Y,B);if(J==="chlist")return U(k,z,Y,B);if(J==="chromaticities")return me(k,Y);if(J==="compression")return De(k,Y);if(J==="box2i")return Ae(k,Y);if(J==="lineOrder")return ze(k,Y);if(J==="float")return Se(k,Y);if(J==="v2f")return rt(k,Y);if(J==="v3f")return je(k,Y);if(J==="int")return Ue(k,Y);if(J==="rational")return tt(k,Y);if(J==="timecode")return Qe(k,Y);if(J==="preview")return Y.value+=B,"skipped";Y.value+=B}function ht(k,z,Y){const J={};if(k.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";J.version=k.getUint8(4);const B=k.getUint8(5);J.spec={singleTile:!!(B&2),longName:!!(B&4),deepFormat:!!(B&8),multiPart:!!(B&16)},Y.value=8;for(var te=!0;te;){var ue=Ce(z,Y);if(ue==0)te=!1;else{var ye=Ce(z,Y),pe=he(k,Y),xe=Ge(k,z,Y,ye,pe);xe===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${ye}'.`):J[ue]=xe}}if(B&-5)throw console.error("EXRHeader:",J),"THREE.EXRLoader: provided file is currently unsupported.";return J}function bt(k,z,Y,J,B){const te={size:0,viewer:z,array:Y,offset:J,width:k.dataWindow.xMax-k.dataWindow.xMin+1,height:k.dataWindow.yMax-k.dataWindow.yMin+1,channels:k.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:k.channels[0].pixelType,uncompress:null,getter:null,format:null,[rh?"colorSpace":"encoding"]:null};switch(k.compression){case"NO_COMPRESSION":te.lines=1,te.uncompress=W;break;case"RLE_COMPRESSION":te.lines=1,te.uncompress=K;break;case"ZIPS_COMPRESSION":te.lines=1,te.uncompress=re;break;case"ZIP_COMPRESSION":te.lines=16,te.uncompress=re;break;case"PIZ_COMPRESSION":te.lines=32,te.uncompress=ee;break;case"PXR24_COMPRESSION":te.lines=16,te.uncompress=le;break;case"DWAA_COMPRESSION":te.lines=32,te.uncompress=Le;break;case"DWAB_COMPRESSION":te.lines=256,te.uncompress=Le;break;default:throw"EXRLoader.parse: "+k.compression+" is unsupported"}if(te.scanlineBlockSize=te.lines,te.type==1)switch(B){case ur:te.getter=j,te.inputSize=2;break;case Vr:te.getter=Xe,te.inputSize=2;break}else if(te.type==2)switch(B){case ur:te.getter=Se,te.inputSize=4;break;case Vr:te.getter=Fe,te.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+te.type+" for "+k.compression+".";te.blockCount=(k.dataWindow.yMax+1)/te.scanlineBlockSize;for(var ue=0;ue<te.blockCount;ue++)Te(z,J);te.outputChannels=te.channels==3?4:te.channels;const ye=te.width*te.height*te.outputChannels;switch(B){case ur:te.byteArray=new Float32Array(ye),te.channels<te.outputChannels&&te.byteArray.fill(1,0,ye);break;case Vr:te.byteArray=new Uint16Array(ye),te.channels<te.outputChannels&&te.byteArray.fill(15360,0,ye);break;default:console.error("THREE.EXRLoader: unsupported type: ",B);break}return te.bytesPerLine=te.width*te.inputSize*te.channels,te.outputChannels==4?te.format=Ar:te.format=eS,rh?te.colorSpace="srgb-linear":te.encoding=3e3,te}const Oe=new DataView(e),Ft=new Uint8Array(e),wt={value:0},pt=ht(Oe,e,wt),Be=bt(pt,Oe,Ft,wt,this.type),Ke={value:0},mt={R:0,G:1,B:2,A:3,Y:0};for(let k=0;k<Be.height/Be.scanlineBlockSize;k++){const z=he(Oe,wt);Be.size=he(Oe,wt),Be.lines=z+Be.scanlineBlockSize>Be.height?Be.height-z:Be.scanlineBlockSize;const Y=Be.size<Be.lines*Be.bytesPerLine?Be.uncompress(Be):W(Be);wt.value+=Be.size;for(let J=0;J<Be.scanlineBlockSize;J++){const B=J+k*Be.scanlineBlockSize;if(B>=Be.height)break;for(let te=0;te<Be.channels;te++){const ue=mt[pt.channels[te].name];for(let ye=0;ye<Be.width;ye++){Ke.value=(J*(Be.channels*Be.width)+te*Be.width+ye)*Be.inputSize;const pe=(Be.height-1-B)*(Be.width*Be.outputChannels)+ye*Be.outputChannels+ue;Be.byteArray[pe]=Be.getter(Y,Ke)}}}}return{header:pt,width:Be.width,height:Be.height,data:Be.byteArray,format:Be.format,[rh?"colorSpace":"encoding"]:Be[rh?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function a(s,o){rh?s.colorSpace=o.colorSpace:s.encoding=o.encoding,s.minFilter=un,s.magFilter=un,s.generateMipmaps=!1,s.flipY=!1,n&&n(s,o)}return super.load(e,a,r,i)}}const TC=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function QS(t,e){const n=Qu(i=>i.gl),r=hd(wv,TC(t)?Object.values(t):t);if(L.useLayoutEffect(()=>{e==null||e(r)},[e]),L.useEffect(()=>{"initTexture"in n&&(Array.isArray(r)?r:[r]).forEach(n.initTexture)},[n,r]),TC(t)){const i=Object.keys(t),a={};return i.forEach(s=>Object.assign(a,{[s]:r[i.indexOf(s)]})),a}else return r}QS.preload=t=>hd.preload(wv,t);QS.clear=t=>hd.clear(wv,t);const oG=L.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:a=[-.1,.1],...s},o)=>{const l=L.useRef(null),c=L.useRef(Math.random()*1e4);return _v(h=>{var p,m;if(!e||n===0)return;const f=c.current+h.clock.getElapsedTime();l.current.rotation.x=Math.cos(f/4*n)/8*r,l.current.rotation.y=Math.sin(f/4*n)/8*r,l.current.rotation.z=Math.sin(f/4*n)/20*r;let v=Math.sin(f/4*n)/10;v=P0.mapLinear(v,-.1,.1,(p=a==null?void 0:a[0])!==null&&p!==void 0?p:-.1,(m=a==null?void 0:a[1])!==null&&m!==void 0?m:.1),l.current.position.y=v*i,l.current.updateMatrix()}),L.createElement("group",s,L.createElement("group",{ref:V7([l,o]),matrixAutoUpdate:!1},t))}),px={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},lG="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",AC=t=>Array.isArray(t);function bO({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){var a;let s=null,o=!1,l;if(n){if(!(n in px))throw new Error("Preset must be one of: "+Object.keys(px).join(", "));t=px[n],e=lG}if(o=AC(t),l=AC(t)?"cube":t.startsWith("data:application/exr")?"exr":t.startsWith("data:application/hdr")?"hdr":(a=t.split(".").pop())==null||(a=a.split("?"))==null||(a=a.shift())==null?void 0:a.toLowerCase(),s=o?SI:l==="hdr"?aG:l==="exr"?sG:null,!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);const c=hd(s,o?[t]:t,f=>{f.setPath==null||f.setPath(e),i&&i(f)}),h=o?c[0]:c;h.mapping=o?ja:Gu;const p=3001,m=3e3;return"colorSpace"in h?h.colorSpace=r??o?"srgb":"srgb-linear":h.encoding=r??o?p:m,h}const cG=t=>t.current&&t.current.isScene,uG=t=>cG(t)?t.current:t;function JS(t,e,n,r,i=0){const a=uG(e||n),s=a.background,o=a.environment,l=a.backgroundBlurriness||0;return t!=="only"&&(a.environment=r),t&&(a.background=r),t&&a.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=i),()=>{t!=="only"&&(a.environment=o),t&&(a.background=s),t&&a.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=l)}}function KS({scene:t,background:e=!1,blur:n,map:r}){const i=Qu(a=>a.scene);return L.useLayoutEffect(()=>{if(r)return JS(e,t,i,r,n)},[i,t,r,e,n]),null}function wO({background:t=!1,scene:e,blur:n,...r}){const i=bO(r),a=Qu(s=>s.scene);return L.useLayoutEffect(()=>JS(t,e,a,i,n),[i,t,e,a,n]),null}function dG({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:a,background:s=!1,blur:o,scene:l,files:c,path:h,preset:p=void 0,extensions:m}){const f=Qu(w=>w.gl),v=Qu(w=>w.scene),b=L.useRef(null),[x]=L.useState(()=>new xp),g=L.useMemo(()=>{const w=new fS(r);return w.texture.type=Vr,w},[r]);L.useLayoutEffect(()=>(i===1&&b.current.update(f,x),JS(s,l,v,g.texture,o)),[t,x,g.texture,l,v,s,i,f]);let _=1;return _v(()=>{(i===1/0||_<i)&&(b.current.update(f,x),_++)}),L.createElement(L.Fragment,null,f7(L.createElement(L.Fragment,null,t,L.createElement("cubeCamera",{ref:b,args:[e,n,g]}),c||p?L.createElement(wO,{background:!0,files:c,preset:p,path:h,extensions:m}):a?L.createElement(KS,{background:!0,map:a,extensions:m}):null),x))}function hG(t){var e,n,r,i;const a=bO(t),s=t.map||a;L.useMemo(()=>XI({GroundProjectedEnvImpl:iG}),[]);const o=L.useMemo(()=>[s],[s]),l=(e=t.ground)==null?void 0:e.height,c=(n=t.ground)==null?void 0:n.radius,h=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return L.createElement(L.Fragment,null,L.createElement(KS,Ku({},t,{map:s})),L.createElement("groundProjectedEnvImpl",{args:o,scale:h,height:l,radius:c}))}function pG(t){return t.ground?L.createElement(hG,t):t.map?L.createElement(KS,t):t.children?L.createElement(dG,t):L.createElement(wO,t)}const _O=(t,e=_O,n=e.f||(e.f=["assets/HeroSection-DVICUbL1.js","assets/react-D2eMapw7.js","assets/three-uIqs56_a.js"]))=>t.map(r=>n[r]);var SO=t=>{throw TypeError(t)},eM=(t,e,n)=>e.has(t)||SO("Cannot "+n),Pe=(t,e,n)=>(eM(t,e,"read from private field"),n?n.call(t):e.get(t)),Xt=(t,e,n)=>e.has(t)?SO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ct=(t,e,n,r)=>(eM(t,e,"write to private field"),e.set(t,n),n),$r=(t,e,n)=>(eM(t,e,"access private method"),n),bw=(t,e,n,r)=>({set _(i){Ct(t,e,i)},get _(){return Pe(t,e,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();var MO={exports:{}},Sv={};/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var fG=L,mG=Symbol.for("react.element"),gG=Symbol.for("react.fragment"),vG=Object.prototype.hasOwnProperty,yG=fG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xG={key:!0,ref:!0,__self:!0,__source:!0};function EO(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)vG.call(e,r)&&!xG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mG,type:t,key:a,ref:s,props:i,_owner:yG.current}}Sv.Fragment=gG;Sv.jsx=EO;Sv.jsxs=EO;MO.exports=Sv;var T=MO.exports;const bG=1,wG=1e6;let fx=0;function _G(){return fx=(fx+1)%Number.MAX_SAFE_INTEGER,fx.toString()}const mx=new Map,CC=t=>{if(mx.has(t))return;const e=setTimeout(()=>{mx.delete(t),Fh({type:"REMOVE_TOAST",toastId:t})},wG);mx.set(t,e)},SG=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,bG)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?CC(n):t.toasts.forEach(r=>{CC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Yg=[];let Zg={toasts:[]};function Fh(t){Zg=SG(Zg,t),Yg.forEach(e=>{e(Zg)})}function MG({...t}){const e=_G(),n=i=>Fh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Fh({type:"DISMISS_TOAST",toastId:e});return Fh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function EG(){const[t,e]=L.useState(Zg);return L.useEffect(()=>(Yg.push(e),()=>{const n=Yg.indexOf(e);n>-1&&Yg.splice(n,1)}),[t]),{...t,toast:MG,dismiss:n=>Fh({type:"DISMISS_TOAST",toastId:n})}}function Zn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function PC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function TO(...t){return e=>{let n=!1;const r=t.map(i=>{const a=PC(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():PC(t[i],null)}}}}function va(...t){return L.useCallback(TO(...t),t)}function Mv(t,e=[]){let n=[];function r(a,s){const o=L.createContext(s),l=n.length;n=[...n,s];const c=p=>{var m;const{scope:f,children:v,...b}=p,x=((m=f==null?void 0:f[t])==null?void 0:m[l])||o,g=L.useMemo(()=>b,Object.values(b));return T.jsx(x.Provider,{value:g,children:v})};c.displayName=a+"Provider";function h(p,m){var f;const v=((f=m==null?void 0:m[t])==null?void 0:f[l])||o,b=L.useContext(v);if(b)return b;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[c,h]}const i=()=>{const a=n.map(s=>L.createContext(s));return function(s){const o=(s==null?void 0:s[t])||a;return L.useMemo(()=>({[`__scope${t}`]:{...s,[t]:o}}),[s,o])}};return i.scopeName=t,[r,TG(i,...e)]}function TG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const a=r.reduce((s,{useScope:o,scopeName:l})=>{const c=o(i)[`__scope${l}`];return{...s,...c}},{});return L.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function L0(t){const e=CG(t),n=L.forwardRef((r,i)=>{const{children:a,...s}=r,o=L.Children.toArray(a),l=o.find(RG);if(l){const c=l.props.children,h=o.map(p=>p===l?L.Children.count(c)>1?L.Children.only(null):L.isValidElement(c)?c.props.children:null:p);return T.jsx(e,{...s,ref:i,children:L.isValidElement(c)?L.cloneElement(c,void 0,h):null})}return T.jsx(e,{...s,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var AG=L0("Slot");function CG(t){const e=L.forwardRef((n,r)=>{const{children:i,...a}=n;if(L.isValidElement(i)){const s=NG(i),o=LG(a,i.props);return i.type!==L.Fragment&&(o.ref=r?TO(r,s):s),L.cloneElement(i,o)}return L.Children.count(i)>1?L.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AO=Symbol("radix.slottable");function PG(t){const e=({children:n})=>T.jsx(T.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=AO,e}function RG(t){return L.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AO}function LG(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{const o=a(...s);return i(...s),o}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function NG(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}function kG(t){const e=t+"CollectionProvider",[n,r]=Mv(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:x,children:g}=b,_=We.useRef(null),w=We.useRef(new Map).current;return T.jsx(i,{scope:x,itemMap:w,collectionRef:_,children:g})};s.displayName=e;const o=t+"CollectionSlot",l=L0(o),c=We.forwardRef((b,x)=>{const{scope:g,children:_}=b,w=a(o,g),M=va(x,w.collectionRef);return T.jsx(l,{ref:M,children:_})});c.displayName=o;const h=t+"CollectionItemSlot",p="data-radix-collection-item",m=L0(h),f=We.forwardRef((b,x)=>{const{scope:g,children:_,...w}=b,M=We.useRef(null),C=va(x,M),A=a(h,g);return We.useEffect(()=>(A.itemMap.set(M,{ref:M,...w}),()=>void A.itemMap.delete(M))),T.jsx(m,{[p]:"",ref:C,children:_})});f.displayName=h;function v(b){const x=a(t+"CollectionConsumer",b);return We.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const _=Array.from(g.querySelectorAll(`[${p}]`));return Array.from(x.itemMap.values()).sort((w,M)=>_.indexOf(w.ref.current)-_.indexOf(M.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:c,ItemSlot:f},v,r]}var IG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],di=IG.reduce((t,e)=>{const n=L0(`Primitive.${e}`),r=L.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function CO(t,e){t&&Hp.flushSync(()=>t.dispatchEvent(e))}function Do(t){const e=L.useRef(t);return L.useEffect(()=>{e.current=t}),L.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function OG(t,e=globalThis==null?void 0:globalThis.document){const n=Do(t);L.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var DG="DismissableLayer",ww="dismissableLayer.update",UG="dismissableLayer.pointerDownOutside",zG="dismissableLayer.focusOutside",RC,PO=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tM=L.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,c=L.useContext(PO),[h,p]=L.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=L.useState({}),v=va(e,N=>p(N)),b=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=b.indexOf(x),_=h?b.indexOf(h):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,M=_>=g,C=BG(N=>{const O=N.target,P=[...c.branches].some(I=>I.contains(O));!M||P||(i==null||i(N),s==null||s(N),N.defaultPrevented||o==null||o())},m),A=$G(N=>{const O=N.target;[...c.branches].some(P=>P.contains(O))||(a==null||a(N),s==null||s(N),N.defaultPrevented||o==null||o())},m);return OG(N=>{_===c.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},m),L.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(RC=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),LC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=RC)}},[h,m,n,c]),L.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),LC())},[h,c]),L.useEffect(()=>{const N=()=>f({});return document.addEventListener(ww,N),()=>document.removeEventListener(ww,N)},[]),T.jsx(di.div,{...l,ref:v,style:{pointerEvents:w?M?"auto":"none":void 0,...t.style},onFocusCapture:Zn(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Zn(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Zn(t.onPointerDownCapture,C.onPointerDownCapture)})});tM.displayName=DG;var FG="DismissableLayerBranch",RO=L.forwardRef((t,e)=>{const n=L.useContext(PO),r=L.useRef(null),i=va(e,r);return L.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),T.jsx(di.div,{...t,ref:i})});RO.displayName=FG;function BG(t,e=globalThis==null?void 0:globalThis.document){const n=Do(t),r=L.useRef(!1),i=L.useRef(()=>{});return L.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let l=function(){LO(UG,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function $G(t,e=globalThis==null?void 0:globalThis.document){const n=Do(t),r=L.useRef(!1);return L.useEffect(()=>{const i=a=>{a.target&&!r.current&&LO(zG,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function LC(){const t=new CustomEvent(ww);document.dispatchEvent(t)}function LO(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?CO(i,a):i.dispatchEvent(a)}var jG=tM,VG=RO,Uo=globalThis!=null&&globalThis.document?L.useLayoutEffect:()=>{},HG="Portal",NO=L.forwardRef((t,e)=>{var n;const{container:r,...i}=t,[a,s]=L.useState(!1);Uo(()=>s(!0),[]);const o=r||a&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return o?UL.createPortal(T.jsx(di.div,{...i,ref:e}),o):null});NO.displayName=HG;function WG(t,e){return L.useReducer((n,r)=>e[n][r]??n,t)}var nM=t=>{const{present:e,children:n}=t,r=GG(e),i=typeof n=="function"?n({present:r.isPresent}):L.Children.only(n),a=va(r.ref,qG(i));return typeof n=="function"||r.isPresent?L.cloneElement(i,{ref:a}):null};nM.displayName="Presence";function GG(t){const[e,n]=L.useState(),r=L.useRef(null),i=L.useRef(t),a=L.useRef("none"),s=t?"mounted":"unmounted",[o,l]=WG(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const c=gg(r.current);a.current=o==="mounted"?c:"none"},[o]),Uo(()=>{const c=r.current,h=i.current;if(h!==t){const p=a.current,m=gg(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Uo(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,p=f=>{const v=gg(r.current).includes(f.animationName);if(f.target===e&&v&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=f=>{f.target===e&&(a.current=gg(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:L.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function gg(t){return(t==null?void 0:t.animationName)||"none"}function qG(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var XG=I3[" useInsertionEffect ".trim().toString()]||Uo;function YG({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,s]=ZG({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const h=L.useRef(t!==void 0);L.useEffect(()=>{const p=h.current;p!==o&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,r])}const c=L.useCallback(h=>{var p;if(o){const m=QG(h)?h(t):h;m!==t&&((p=s.current)==null||p.call(s,m))}else a(h)},[o,t,a,s]);return[l,c]}function ZG({defaultProp:t,onChange:e}){const[n,r]=L.useState(t),i=L.useRef(n),a=L.useRef(e);return XG(()=>{a.current=e},[e]),L.useEffect(()=>{var s;i.current!==n&&((s=a.current)==null||s.call(a,n),i.current=n)},[n,i]),[n,r,a]}function QG(t){return typeof t=="function"}var JG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KG="VisuallyHidden",Ev=L.forwardRef((t,e)=>T.jsx(di.span,{...t,ref:e,style:{...JG,...t.style}}));Ev.displayName=KG;var e9=Ev,rM="ToastProvider",[iM,t9,n9]=kG("Toast"),[kO,lie]=Mv("Toast",[n9]),[r9,Tv]=kO(rM),IO=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[o,l]=L.useState(null),[c,h]=L.useState(0),p=L.useRef(!1),m=L.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rM}\`. Expected non-empty \`string\`.`),T.jsx(iM.Provider,{scope:e,children:T.jsx(r9,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:L.useCallback(()=>h(f=>f+1),[]),onToastRemove:L.useCallback(()=>h(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:s})})};IO.displayName=rM;var OO="ToastViewport",i9=["F8"],_w="toast.viewportPause",Sw="toast.viewportResume",DO=L.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=i9,label:i="Notifications ({hotkey})",...a}=t,s=Tv(OO,n),o=t9(n),l=L.useRef(null),c=L.useRef(null),h=L.useRef(null),p=L.useRef(null),m=va(e,p,s.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;L.useEffect(()=>{const x=g=>{var _;r.length!==0&&r.every(w=>g[w]||g.code===w)&&((_=p.current)==null||_.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),L.useEffect(()=>{const x=l.current,g=p.current;if(v&&x&&g){const _=()=>{if(!s.isClosePausedRef.current){const A=new CustomEvent(_w);g.dispatchEvent(A),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const A=new CustomEvent(Sw);g.dispatchEvent(A),s.isClosePausedRef.current=!1}},M=A=>{!x.contains(A.relatedTarget)&&w()},C=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",_),x.addEventListener("focusout",M),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",C),window.addEventListener("blur",_),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",M),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",_),window.removeEventListener("focus",w)}}},[v,s.isClosePausedRef]);const b=L.useCallback(({tabbingDirection:x})=>{const g=o().map(_=>{const w=_.ref.current,M=[w,...v9(w)];return x==="forwards"?M:M.reverse()});return(x==="forwards"?g.reverse():g).flat()},[o]);return L.useEffect(()=>{const x=p.current;if(x){const g=_=>{var w,M,C;const A=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!A){const N=document.activeElement,O=_.shiftKey;if(_.target===x&&O){(w=c.current)==null||w.focus();return}const P=b({tabbingDirection:O?"backwards":"forwards"}),I=P.findIndex(H=>H===N);gx(P.slice(I+1))?_.preventDefault():O?(M=c.current)==null||M.focus():(C=h.current)==null||C.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[o,b]),T.jsxs(VG,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&T.jsx(Mw,{ref:c,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"forwards"});gx(x)}}),T.jsx(iM.Slot,{scope:n,children:T.jsx(di.ol,{tabIndex:-1,...a,ref:m})}),v&&T.jsx(Mw,{ref:h,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"backwards"});gx(x)}})]})});DO.displayName=OO;var UO="ToastFocusProxy",Mw=L.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Tv(UO,n);return T.jsx(Ev,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var o;const l=s.relatedTarget;!((o=a.viewport)!=null&&o.contains(l))&&r()}})});Mw.displayName=UO;var nf="Toast",a9="toast.swipeStart",s9="toast.swipeMove",o9="toast.swipeCancel",l9="toast.swipeEnd",zO=L.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...s}=t,[o,l]=YG({prop:r,defaultProp:i??!0,onChange:a,caller:nf});return T.jsx(nM,{present:n||o,children:T.jsx(d9,{open:o,...s,ref:e,onClose:()=>l(!1),onPause:Do(t.onPause),onResume:Do(t.onResume),onSwipeStart:Zn(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Zn(t.onSwipeMove,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Zn(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Zn(t.onSwipeEnd,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});zO.displayName=nf;var[c9,u9]=kO(nf,{onClose(){}}),d9=L.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:f,...v}=t,b=Tv(nf,n),[x,g]=L.useState(null),_=va(e,$=>g($)),w=L.useRef(null),M=L.useRef(null),C=i||b.duration,A=L.useRef(0),N=L.useRef(C),O=L.useRef(0),{onToastAdd:P,onToastRemove:I}=b,H=Do(()=>{var $;x!=null&&x.contains(document.activeElement)&&(($=b.viewport)==null||$.focus()),s()}),q=L.useCallback($=>{!$||$===1/0||(window.clearTimeout(O.current),A.current=new Date().getTime(),O.current=window.setTimeout(H,$))},[H]);L.useEffect(()=>{const $=b.viewport;if($){const Z=()=>{q(N.current),c==null||c()},ne=()=>{const ie=new Date().getTime()-A.current;N.current=N.current-ie,window.clearTimeout(O.current),l==null||l()};return $.addEventListener(_w,ne),$.addEventListener(Sw,Z),()=>{$.removeEventListener(_w,ne),$.removeEventListener(Sw,Z)}}},[b.viewport,C,l,c,q]),L.useEffect(()=>{a&&!b.isClosePausedRef.current&&q(C)},[a,C,b.isClosePausedRef,q]),L.useEffect(()=>(P(),()=>I()),[P,I]);const se=L.useMemo(()=>x?WO(x):null,[x]);return b.viewport?T.jsxs(T.Fragment,{children:[se&&T.jsx(h9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:se}),T.jsx(c9,{scope:n,onClose:H,children:Hp.createPortal(T.jsx(iM.ItemSlot,{scope:n,children:T.jsx(jG,{asChild:!0,onEscapeKeyDown:Zn(o,()=>{b.isFocusedToastEscapeKeyDownRef.current||H(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:T.jsx(di.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Zn(t.onKeyDown,$=>{$.key==="Escape"&&(o==null||o($.nativeEvent),$.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:Zn(t.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:Zn(t.onPointerMove,$=>{if(!w.current)return;const Z=$.clientX-w.current.x,ne=$.clientY-w.current.y,ie=!!M.current,D=["left","right"].includes(b.swipeDirection),F=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,W=D?F(0,Z):0,K=D?0:F(0,ne),re=$.pointerType==="touch"?10:2,ee={x:W,y:K},le={originalEvent:$,delta:ee};ie?(M.current=ee,vg(s9,p,le,{discrete:!1})):NC(ee,b.swipeDirection,re)?(M.current=ee,vg(a9,h,le,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(Z)>re||Math.abs(ne)>re)&&(w.current=null)}),onPointerUp:Zn(t.onPointerUp,$=>{const Z=M.current,ne=$.target;if(ne.hasPointerCapture($.pointerId)&&ne.releasePointerCapture($.pointerId),M.current=null,w.current=null,Z){const ie=$.currentTarget,D={originalEvent:$,delta:Z};NC(Z,b.swipeDirection,b.swipeThreshold)?vg(l9,f,D,{discrete:!0}):vg(o9,m,D,{discrete:!0}),ie.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),h9=t=>{const{__scopeToast:e,children:n,...r}=t,i=Tv(nf,e),[a,s]=L.useState(!1),[o,l]=L.useState(!1);return m9(()=>s(!0)),L.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:T.jsx(NO,{asChild:!0,children:T.jsx(Ev,{...r,children:a&&T.jsxs(T.Fragment,{children:[i.label," ",n]})})})},p9="ToastTitle",FO=L.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return T.jsx(di.div,{...r,ref:e})});FO.displayName=p9;var f9="ToastDescription",BO=L.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return T.jsx(di.div,{...r,ref:e})});BO.displayName=f9;var $O="ToastAction",jO=L.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?T.jsx(HO,{altText:n,asChild:!0,children:T.jsx(aM,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${$O}\`. Expected non-empty \`string\`.`),null)});jO.displayName=$O;var VO="ToastClose",aM=L.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=u9(VO,n);return T.jsx(HO,{asChild:!0,children:T.jsx(di.button,{type:"button",...r,ref:e,onClick:Zn(t.onClick,i.onClose)})})});aM.displayName=VO;var HO=L.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return T.jsx(di.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function WO(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),g9(n)){const r=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...WO(n))}}),e}function vg(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?CO(i,a):i.dispatchEvent(a)}var NC=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function m9(t=()=>{}){const e=Do(t);Uo(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function g9(t){return t.nodeType===t.ELEMENT_NODE}function v9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gx(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var y9=IO,GO=DO,qO=zO,XO=FO,YO=BO,ZO=jO,QO=aM;function JO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=JO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function KO(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=JO(t))&&(r&&(r+=" "),r+=e);return r}const kC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,IC=KO,eD=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return IC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(c=>{const h=n==null?void 0:n[c],p=a==null?void 0:a[c];if(h===null)return null;const m=kC(h)||kC(p);return i[c][m]}),o=n&&Object.entries(n).reduce((c,h)=>{let[p,m]=h;return m===void 0||(c[p]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:p,className:m,...f}=h;return Object.entries(f).every(v=>{let[b,x]=v;return Array.isArray(x)?x.includes({...a,...o}[b]):{...a,...o}[b]===x})?[...c,p,m]:c},[]);return IC(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const x9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var b9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const w9=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>L.createElement("svg",{ref:l,...b9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tD("lucide",i),...o},[...s.map(([c,h])=>L.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Is=(t,e)=>{const n=L.forwardRef(({className:r,...i},a)=>L.createElement(w9,{ref:a,iconNode:e,className:tD(`lucide-${x9(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sM=Is("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _9=Is("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nD=Is("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rD=Is("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const S9=Is("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const M9=Is("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const OC=Is("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iD=Is("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ew=Is("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),oM="-",E9=t=>{const e=A9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(oM);return a[0]===""&&a.length!==1&&a.shift(),aD(a,e)||T9(i)},getConflictingClassGroupIds:(i,a)=>{const s=n[i]||[];return a&&r[i]?[...s,...r[i]]:s}}},aD=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],i=e.nextPart.get(r),a=i?aD(t.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const s=t.join(oM);return(n=e.validators.find(({validator:o})=>o(s)))==null?void 0:n.classGroupId},DC=/^\[(.+)\]$/,T9=t=>{if(DC.test(t)){const e=DC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},A9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return P9(Object.entries(t.classGroups),n).forEach(([i,a])=>{Tw(a,r,i,e)}),r},Tw=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:UC(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(C9(i)){Tw(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,s])=>{Tw(s,UC(e,a),n,r)})})},UC=(t,e)=>{let n=t;return e.split(oM).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},C9=t=>t.isThemeGetter,P9=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[n,i]}):t,R9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,s)=>{n.set(a,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){n.has(a)?n.set(a,s):i(a,s)}}},sD="!",L9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,s=o=>{const l=[];let c=0,h=0,p;for(let x=0;x<o.length;x++){let g=o[x];if(c===0){if(g===i&&(r||o.slice(x,x+a)===e)){l.push(o.slice(h,x)),h=x+a;continue}if(g==="/"){p=x;continue}}g==="["?c++:g==="]"&&c--}const m=l.length===0?o:o.substring(h),f=m.startsWith(sD),v=f?m.substring(1):m,b=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:b}};return n?o=>n({className:o,parseClassName:s}):s},N9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},k9=t=>({cache:R9(t.cacheSize),parseClassName:L9(t),...E9(t)}),I9=/\s+/,O9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(I9);let o="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:f}=n(c);let v=!!f,b=r(v?m.substring(0,f):m);if(!b){if(!v){o=c+(o.length>0?" "+o:o);continue}if(b=r(m),!b){o=c+(o.length>0?" "+o:o);continue}v=!1}const x=N9(h).join(":"),g=p?x+sD:x,_=g+b;if(a.includes(_))continue;a.push(_);const w=i(b,v);for(let M=0;M<w.length;++M){const C=w[M];a.push(g+C)}o=c+(o.length>0?" "+o:o)}return o};function D9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oD(e))&&(r&&(r+=" "),r+=n);return r}const oD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=oD(t[r]))&&(n&&(n+=" "),n+=e);return n};function U9(t,...e){let n,r,i,a=s;function s(l){const c=e.reduce((h,p)=>p(h),t());return n=k9(c),r=n.cache.get,i=n.cache.set,a=o,o(l)}function o(l){const c=r(l);if(c)return c;const h=O9(l,n);return i(l,h),h}return function(){return a(D9.apply(null,arguments))}}const on=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lD=/^\[(?:([a-z-]+):)?(.+)\]$/i,z9=/^\d+\/\d+$/,F9=new Set(["px","full","screen"]),B9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,V9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=t=>Uu(t)||F9.has(t)||z9.test(t),eo=t=>pd(t,"length",J9),Uu=t=>!!t&&!Number.isNaN(Number(t)),vx=t=>pd(t,"number",Uu),ih=t=>!!t&&Number.isInteger(Number(t)),W9=t=>t.endsWith("%")&&Uu(t.slice(0,-1)),Rt=t=>lD.test(t),to=t=>B9.test(t),G9=new Set(["length","size","percentage"]),q9=t=>pd(t,G9,cD),X9=t=>pd(t,"position",cD),Y9=new Set(["image","url"]),Z9=t=>pd(t,Y9,eq),Q9=t=>pd(t,"",K9),ah=()=>!0,pd=(t,e,n)=>{const r=lD.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},J9=t=>$9.test(t)&&!j9.test(t),cD=()=>!1,K9=t=>V9.test(t),eq=t=>H9.test(t),tq=()=>{const t=on("colors"),e=on("spacing"),n=on("blur"),r=on("brightness"),i=on("borderColor"),a=on("borderRadius"),s=on("borderSpacing"),o=on("borderWidth"),l=on("contrast"),c=on("grayscale"),h=on("hueRotate"),p=on("invert"),m=on("gap"),f=on("gradientColorStops"),v=on("gradientColorStopPositions"),b=on("inset"),x=on("margin"),g=on("opacity"),_=on("padding"),w=on("saturate"),M=on("scale"),C=on("sepia"),A=on("skew"),N=on("space"),O=on("translate"),P=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",Rt,e],q=()=>[Rt,e],se=()=>["",ss,eo],$=()=>["auto",Uu,Rt],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Rt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Uu,Rt];return{cacheSize:500,separator:":",theme:{colors:[ah],spacing:[ss,eo],blur:["none","",to,Rt],brightness:K(),borderColor:[t],borderRadius:["none","","full",to,Rt],borderSpacing:q(),borderWidth:se(),contrast:K(),grayscale:F(),hueRotate:K(),invert:F(),gap:q(),gradientColorStops:[t],gradientColorStopPositions:[W9,eo],inset:H(),margin:H(),opacity:K(),padding:q(),saturate:K(),scale:K(),sepia:F(),skew:K(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Rt]}],container:["container"],columns:[{columns:[to]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Rt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ih,Rt]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",ih,Rt]}],"grid-cols":[{"grid-cols":[ah]}],"col-start-end":[{col:["auto",{span:["full",ih,Rt]},Rt]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ah]}],"row-start-end":[{row:["auto",{span:[ih,Rt]},Rt]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rt,e]}],"min-w":[{"min-w":[Rt,e,"min","max","fit"]}],"max-w":[{"max-w":[Rt,e,"none","full","min","max","fit","prose",{screen:[to]},to]}],h:[{h:[Rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",to,eo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vx]}],"font-family":[{font:[ah]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rt]}],"line-clamp":[{"line-clamp":["none",Uu,vx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,Rt]}],"list-image":[{"list-image":["none",Rt]}],"list-style-type":[{list:["none","disc","decimal",Rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,eo]}],"underline-offset":[{"underline-offset":["auto",ss,Rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),X9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",q9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Z9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[ss,Rt]}],"outline-w":[{outline:[ss,eo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ss,eo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",to,Q9]}],"shadow-color":[{shadow:[ah]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",to,Rt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rt]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Rt]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[ih,Rt]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ss,eo,vx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nq=U9(tq);function Mr(...t){return nq(KO(t))}const rq=y9,uD=L.forwardRef(({className:t,...e},n)=>T.jsx(GO,{ref:n,className:Mr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));uD.displayName=GO.displayName;const iq=eD("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dD=L.forwardRef(({className:t,variant:e,...n},r)=>T.jsx(qO,{ref:r,className:Mr(iq({variant:e}),t),...n}));dD.displayName=qO.displayName;const aq=L.forwardRef(({className:t,...e},n)=>T.jsx(ZO,{ref:n,className:Mr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));aq.displayName=ZO.displayName;const hD=L.forwardRef(({className:t,...e},n)=>T.jsx(QO,{ref:n,className:Mr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:T.jsx(Ew,{className:"h-4 w-4"})}));hD.displayName=QO.displayName;const pD=L.forwardRef(({className:t,...e},n)=>T.jsx(XO,{ref:n,className:Mr("text-sm font-semibold",t),...e}));pD.displayName=XO.displayName;const fD=L.forwardRef(({className:t,...e},n)=>T.jsx(YO,{ref:n,className:Mr("text-sm opacity-90",t),...e}));fD.displayName=YO.displayName;function sq(){const{toasts:t}=EG();return T.jsxs(rq,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return T.jsxs(dD,{...a,children:[T.jsxs("div",{className:"grid gap-1",children:[n&&T.jsx(pD,{children:n}),r&&T.jsx(fD,{children:r})]}),i,T.jsx(hD,{})]},e)}),T.jsx(uD,{})]})}var zC=["light","dark"],oq="(prefers-color-scheme: dark)",lq=L.createContext(void 0),cq={setTheme:t=>{},themes:[]},uq=()=>{var t;return(t=L.useContext(lq))!=null?t:cq};L.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:l})=>{let c=a==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=i?zC.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,b=!1,x=!0)=>{let g=s?s[v]:v,_=b?v+"|| ''":`'${g}'`,w="";return i&&x&&!b&&zC.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),n==="class"?b||g?w+=`c.add(${_})`:w+="null":g&&(w+=`d[s](n,${_})`),w},f=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${oq}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${m(s?"x[e]":"e",!0)}}${c?"":"else{"+m(a,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${m(s?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${p}}catch(t){}}();`;return L.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var dq=t=>{switch(t){case"success":return fq;case"info":return gq;case"warning":return mq;case"error":return vq;default:return null}},hq=Array(12).fill(0),pq=({visible:t,className:e})=>We.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},We.createElement("div",{className:"sonner-spinner"},hq.map((n,r)=>We.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),fq=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mq=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gq=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vq=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yq=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},We.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),We.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xq=()=>{let[t,e]=We.useState(document.hidden);return We.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Aw=1,bq=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Aw++,a=this.toasts.find(o=>o.id===i),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:s,title:n}):o):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,a,s=r.then(async l=>{if(a=["resolve",l],We.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(_q(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:h})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:h})}}).catch(async l=>{if(a=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:h})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,c)=>s.then(()=>a[0]==="reject"?c(a[1]):l(a[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Aw++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ti=new bq,wq=(t,e)=>{let n=(e==null?void 0:e.id)||Aw++;return ti.addToast({title:t,...e,id:n}),n},_q=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Sq=wq,Mq=()=>ti.toasts,Eq=()=>ti.getActiveToasts();Object.assign(Sq,{success:ti.success,info:ti.info,warning:ti.warning,error:ti.error,custom:ti.custom,message:ti.message,promise:ti.promise,dismiss:ti.dismiss,loading:ti.loading},{getHistory:Mq,getToasts:Eq});function Tq(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Tq(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yg(t){return t.label!==void 0}var Aq=3,Cq="32px",Pq="16px",FC=4e3,Rq=356,Lq=14,Nq=20,kq=200;function ra(...t){return t.filter(Boolean).join(" ")}function Iq(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Oq=t=>{var e,n,r,i,a,s,o,l,c,h,p;let{invert:m,toast:f,unstyled:v,interacting:b,setHeights:x,visibleToasts:g,heights:_,index:w,toasts:M,expanded:C,removeToast:A,defaultRichColors:N,closeButton:O,style:P,cancelButtonStyle:I,actionButtonStyle:H,className:q="",descriptionClassName:se="",duration:$,position:Z,gap:ne,loadingIcon:ie,expandByDefault:D,classNames:F,icons:W,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:re}=t,[ee,le]=We.useState(null),[Le,Ce]=We.useState(null),[Re,tt]=We.useState(!1),[Qe,Ue]=We.useState(!1),[he,Q]=We.useState(!1),[ke,Te]=We.useState(!1),[Se,Fe]=We.useState(!1),[we,Xe]=We.useState(0),[j,U]=We.useState(0),me=We.useRef(f.duration||$||FC),De=We.useRef(null),Ae=We.useRef(null),ze=w===0,rt=w+1<=g,je=f.type,Ge=f.dismissible!==!1,ht=f.className||"",bt=f.descriptionClassName||"",Oe=We.useMemo(()=>_.findIndex(pe=>pe.toastId===f.id)||0,[_,f.id]),Ft=We.useMemo(()=>{var pe;return(pe=f.closeButton)!=null?pe:O},[f.closeButton,O]),wt=We.useMemo(()=>f.duration||$||FC,[f.duration,$]),pt=We.useRef(0),Be=We.useRef(0),Ke=We.useRef(0),mt=We.useRef(null),[k,z]=Z.split("-"),Y=We.useMemo(()=>_.reduce((pe,xe,_e)=>_e>=Oe?pe:pe+xe.height,0),[_,Oe]),J=xq(),B=f.invert||m,te=je==="loading";Be.current=We.useMemo(()=>Oe*ne+Y,[Oe,Y]),We.useEffect(()=>{me.current=wt},[wt]),We.useEffect(()=>{tt(!0)},[]),We.useEffect(()=>{let pe=Ae.current;if(pe){let xe=pe.getBoundingClientRect().height;return U(xe),x(_e=>[{toastId:f.id,height:xe,position:f.position},..._e]),()=>x(_e=>_e.filter(Ee=>Ee.toastId!==f.id))}},[x,f.id]),We.useLayoutEffect(()=>{if(!Re)return;let pe=Ae.current,xe=pe.style.height;pe.style.height="auto";let _e=pe.getBoundingClientRect().height;pe.style.height=xe,U(_e),x(Ee=>Ee.find(ft=>ft.toastId===f.id)?Ee.map(ft=>ft.toastId===f.id?{...ft,height:_e}:ft):[{toastId:f.id,height:_e,position:f.position},...Ee])},[Re,f.title,f.description,x,f.id]);let ue=We.useCallback(()=>{Ue(!0),Xe(Be.current),x(pe=>pe.filter(xe=>xe.toastId!==f.id)),setTimeout(()=>{A(f)},kq)},[f,A,x,Be]);We.useEffect(()=>{if(f.promise&&je==="loading"||f.duration===1/0||f.type==="loading")return;let pe;return C||b||re&&J?(()=>{if(Ke.current<pt.current){let xe=new Date().getTime()-pt.current;me.current=me.current-xe}Ke.current=new Date().getTime()})():me.current!==1/0&&(pt.current=new Date().getTime(),pe=setTimeout(()=>{var xe;(xe=f.onAutoClose)==null||xe.call(f,f),ue()},me.current)),()=>clearTimeout(pe)},[C,b,f,je,re,J,ue]),We.useEffect(()=>{f.delete&&ue()},[ue,f.delete]);function ye(){var pe,xe,_e;return W!=null&&W.loading?We.createElement("div",{className:ra(F==null?void 0:F.loader,(pe=f==null?void 0:f.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":je==="loading"},W.loading):ie?We.createElement("div",{className:ra(F==null?void 0:F.loader,(xe=f==null?void 0:f.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":je==="loading"},ie):We.createElement(pq,{className:ra(F==null?void 0:F.loader,(_e=f==null?void 0:f.classNames)==null?void 0:_e.loader),visible:je==="loading"})}return We.createElement("li",{tabIndex:0,ref:Ae,className:ra(q,ht,F==null?void 0:F.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[je],(n=f==null?void 0:f.classNames)==null?void 0:n[je]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:N,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":Re,"data-promise":!!f.promise,"data-swiped":Se,"data-removed":Qe,"data-visible":rt,"data-y-position":k,"data-x-position":z,"data-index":w,"data-front":ze,"data-swiping":he,"data-dismissible":Ge,"data-type":je,"data-invert":B,"data-swipe-out":ke,"data-swipe-direction":Le,"data-expanded":!!(C||D&&Re),style:{"--index":w,"--toasts-before":w,"--z-index":M.length-w,"--offset":`${Qe?we:Be.current}px`,"--initial-height":D?"auto":`${j}px`,...P,...f.style},onDragEnd:()=>{Q(!1),le(null),mt.current=null},onPointerDown:pe=>{te||!Ge||(De.current=new Date,Xe(Be.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(Q(!0),mt.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,xe,_e,Ee;if(ke||!Ge)return;mt.current=null;let ft=Number(((pe=Ae.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$e=Number(((xe=Ae.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ye=new Date().getTime()-((_e=De.current)==null?void 0:_e.getTime()),it=ee==="x"?ft:$e,gt=Math.abs(it)/Ye;if(Math.abs(it)>=Nq||gt>.11){Xe(Be.current),(Ee=f.onDismiss)==null||Ee.call(f,f),Ce(ee==="x"?ft>0?"right":"left":$e>0?"down":"up"),ue(),Te(!0),Fe(!1);return}Q(!1),le(null)},onPointerMove:pe=>{var xe,_e,Ee,ft;if(!mt.current||!Ge||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;let $e=pe.clientY-mt.current.y,Ye=pe.clientX-mt.current.x,it=(_e=t.swipeDirections)!=null?_e:Iq(Z);!ee&&(Math.abs(Ye)>1||Math.abs($e)>1)&&le(Math.abs(Ye)>Math.abs($e)?"x":"y");let gt={x:0,y:0};ee==="y"?(it.includes("top")||it.includes("bottom"))&&(it.includes("top")&&$e<0||it.includes("bottom")&&$e>0)&&(gt.y=$e):ee==="x"&&(it.includes("left")||it.includes("right"))&&(it.includes("left")&&Ye<0||it.includes("right")&&Ye>0)&&(gt.x=Ye),(Math.abs(gt.x)>0||Math.abs(gt.y)>0)&&Fe(!0),(Ee=Ae.current)==null||Ee.style.setProperty("--swipe-amount-x",`${gt.x}px`),(ft=Ae.current)==null||ft.style.setProperty("--swipe-amount-y",`${gt.y}px`)}},Ft&&!f.jsx?We.createElement("button",{"aria-label":K,"data-disabled":te,"data-close-button":!0,onClick:te||!Ge?()=>{}:()=>{var pe;ue(),(pe=f.onDismiss)==null||pe.call(f,f)},className:ra(F==null?void 0:F.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(a=W==null?void 0:W.close)!=null?a:yq):null,f.jsx||L.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:We.createElement(We.Fragment,null,je||f.icon||f.promise?We.createElement("div",{"data-icon":"",className:ra(F==null?void 0:F.icon,(s=f==null?void 0:f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||ye():null,f.type!=="loading"?f.icon||(W==null?void 0:W[je])||dq(je):null):null,We.createElement("div",{"data-content":"",className:ra(F==null?void 0:F.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},We.createElement("div",{"data-title":"",className:ra(F==null?void 0:F.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?We.createElement("div",{"data-description":"",className:ra(se,bt,F==null?void 0:F.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),L.isValidElement(f.cancel)?f.cancel:f.cancel&&yg(f.cancel)?We.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:pe=>{var xe,_e;yg(f.cancel)&&Ge&&((_e=(xe=f.cancel).onClick)==null||_e.call(xe,pe),ue())},className:ra(F==null?void 0:F.cancelButton,(h=f==null?void 0:f.classNames)==null?void 0:h.cancelButton)},f.cancel.label):null,L.isValidElement(f.action)?f.action:f.action&&yg(f.action)?We.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||H,onClick:pe=>{var xe,_e;yg(f.action)&&((_e=(xe=f.action).onClick)==null||_e.call(xe,pe),!pe.defaultPrevented&&ue())},className:ra(F==null?void 0:F.actionButton,(p=f==null?void 0:f.classNames)==null?void 0:p.actionButton)},f.action.label):null))};function BC(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Dq(t,e){let n={};return[t,e].forEach((r,i)=>{let a=i===1,s=a?"--mobile-offset":"--offset",o=a?Pq:Cq;function l(c){["top","right","bottom","left"].forEach(h=>{n[`${s}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${s}-${c}`]=o:n[`${s}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(o)}),n}var Uq=L.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:l,mobileOffset:c,theme:h="light",richColors:p,duration:m,style:f,visibleToasts:v=Aq,toastOptions:b,dir:x=BC(),gap:g=Lq,loadingIcon:_,icons:w,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:C}=t,[A,N]=We.useState([]),O=We.useMemo(()=>Array.from(new Set([r].concat(A.filter(re=>re.position).map(re=>re.position)))),[A,r]),[P,I]=We.useState([]),[H,q]=We.useState(!1),[se,$]=We.useState(!1),[Z,ne]=We.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=We.useRef(null),D=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=We.useRef(null),W=We.useRef(!1),K=We.useCallback(re=>{N(ee=>{var le;return(le=ee.find(Le=>Le.id===re.id))!=null&&le.delete||ti.dismiss(re.id),ee.filter(({id:Le})=>Le!==re.id)})},[]);return We.useEffect(()=>ti.subscribe(re=>{if(re.dismiss){N(ee=>ee.map(le=>le.id===re.id?{...le,delete:!0}:le));return}setTimeout(()=>{UL.flushSync(()=>{N(ee=>{let le=ee.findIndex(Le=>Le.id===re.id);return le!==-1?[...ee.slice(0,le),{...ee[le],...re},...ee.slice(le+1)]:[re,...ee]})})})}),[]),We.useEffect(()=>{if(h!=="system"){ne(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:ee})=>{ne(ee?"dark":"light")})}catch{re.addListener(({matches:ee})=>{try{ne(ee?"dark":"light")}catch(le){console.error(le)}})}},[h]),We.useEffect(()=>{A.length<=1&&q(!1)},[A]),We.useEffect(()=>{let re=ee=>{var le,Le;i.every(Ce=>ee[Ce]||ee.code===Ce)&&(q(!0),(le=ie.current)==null||le.focus()),ee.code==="Escape"&&(document.activeElement===ie.current||(Le=ie.current)!=null&&Le.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[i]),We.useEffect(()=>{if(ie.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,W.current=!1)}},[ie.current]),We.createElement("section",{ref:e,"aria-label":`${M} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((re,ee)=>{var le;let[Le,Ce]=re.split("-");return A.length?We.createElement("ol",{key:re,dir:x==="auto"?BC():x,tabIndex:-1,ref:ie,className:o,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":Le,"data-lifted":H&&A.length>1&&!a,"data-x-position":Ce,style:{"--front-toast-height":`${((le=P[0])==null?void 0:le.height)||0}px`,"--width":`${Rq}px`,"--gap":`${g}px`,...f,...Dq(l,c)},onBlur:Re=>{W.current&&!Re.currentTarget.contains(Re.relatedTarget)&&(W.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:Re=>{Re.target instanceof HTMLElement&&Re.target.dataset.dismissible==="false"||W.current||(W.current=!0,F.current=Re.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{se||q(!1)},onDragEnd:()=>q(!1),onPointerDown:Re=>{Re.target instanceof HTMLElement&&Re.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},A.filter(Re=>!Re.position&&ee===0||Re.position===re).map((Re,tt)=>{var Qe,Ue;return We.createElement(Oq,{key:Re.id,icons:w,index:tt,toast:Re,defaultRichColors:p,duration:(Qe=b==null?void 0:b.duration)!=null?Qe:m,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:n,visibleToasts:v,closeButton:(Ue=b==null?void 0:b.closeButton)!=null?Ue:s,interacting:se,position:re,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,removeToast:K,toasts:A.filter(he=>he.position==Re.position),heights:P.filter(he=>he.position==Re.position),setHeights:I,expandByDefault:a,gap:g,loadingIcon:_,expanded:H,pauseWhenPageIsHidden:C,swipeDirections:t.swipeDirections})})):null}))});const zq=({...t})=>{const{theme:e="system"}=uq();return T.jsx(Uq,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},Fq=["top","right","bottom","left"],zo=Math.min,bi=Math.max,N0=Math.round,xg=Math.floor,Ba=t=>({x:t,y:t}),Bq={left:"right",right:"left",bottom:"top",top:"bottom"},$q={start:"end",end:"start"};function Cw(t,e,n){return bi(t,zo(e,n))}function Ps(t,e){return typeof t=="function"?t(e):t}function Rs(t){return t.split("-")[0]}function fd(t){return t.split("-")[1]}function lM(t){return t==="x"?"y":"x"}function cM(t){return t==="y"?"height":"width"}const jq=new Set(["top","bottom"]);function Oa(t){return jq.has(Rs(t))?"y":"x"}function uM(t){return lM(Oa(t))}function Vq(t,e,n){n===void 0&&(n=!1);const r=fd(t),i=uM(t),a=cM(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=k0(s)),[s,k0(s)]}function Hq(t){const e=k0(t);return[Pw(t),e,Pw(e)]}function Pw(t){return t.replace(/start|end/g,e=>$q[e])}const $C=["left","right"],jC=["right","left"],Wq=["top","bottom"],Gq=["bottom","top"];function qq(t,e,n){switch(t){case"top":case"bottom":return n?e?jC:$C:e?$C:jC;case"left":case"right":return e?Wq:Gq;default:return[]}}function Xq(t,e,n,r){const i=fd(t);let a=qq(Rs(t),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(Pw)))),a}function k0(t){return t.replace(/left|right|bottom|top/g,e=>Bq[e])}function Yq(t){return{top:0,right:0,bottom:0,left:0,...t}}function mD(t){return typeof t!="number"?Yq(t):{top:t,right:t,bottom:t,left:t}}function I0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function VC(t,e,n){let{reference:r,floating:i}=t;const a=Oa(e),s=uM(e),o=cM(s),l=Rs(e),c=a==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:h,y:r.y-i.height};break;case"bottom":f={x:h,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:p};break;case"left":f={x:r.x-i.width,y:p};break;default:f={x:r.x,y:r.y}}switch(fd(e)){case"start":f[s]-=m*(n&&c?-1:1);break;case"end":f[s]+=m*(n&&c?-1:1);break}return f}const Zq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:p}=VC(c,r,l),m=r,f={},v=0;for(let b=0;b<o.length;b++){const{name:x,fn:g}=o[b],{x:_,y:w,data:M,reset:C}=await g({x:h,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:f,rects:c,platform:s,elements:{reference:t,floating:e}});h=_??h,p=w??p,f={...f,[x]:{...f[x],...M}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(c=C.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:h,y:p}=VC(c,m,l)),b=-1)}return{x:h,y:p,placement:m,strategy:i,middlewareData:f}};async function Rp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:f=0}=Ps(e,t),v=mD(f),b=o[m?p==="floating"?"reference":"floating":p],x=I0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:l})),g=p==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),w=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},M=I0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:l}):g);return{top:(x.top-M.top+v.top)/w.y,bottom:(M.bottom-x.bottom+v.bottom)/w.y,left:(x.left-M.left+v.left)/w.x,right:(M.right-x.right+v.right)/w.x}}const Qq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:c,padding:h=0}=Ps(t,e)||{};if(c==null)return{};const p=mD(h),m={x:n,y:r},f=uM(i),v=cM(f),b=await s.getDimensions(c),x=f==="y",g=x?"top":"left",_=x?"bottom":"right",w=x?"clientHeight":"clientWidth",M=a.reference[v]+a.reference[f]-m[f]-a.floating[v],C=m[f]-a.reference[f],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let N=A?A[w]:0;(!N||!await(s.isElement==null?void 0:s.isElement(A)))&&(N=o.floating[w]||a.floating[v]);const O=M/2-C/2,P=N/2-b[v]/2-1,I=zo(p[g],P),H=zo(p[_],P),q=I,se=N-b[v]-H,$=N/2-b[v]/2+O,Z=Cw(q,$,se),ne=!l.arrow&&fd(i)!=null&&$!==Z&&a.reference[v]/2-($<q?I:H)-b[v]/2<0,ie=ne?$<q?$-q:$-se:0;return{[f]:m[f]+ie,data:{[f]:Z,centerOffset:$-Z-ie,...ne&&{alignmentOffset:ie}},reset:ne}}}),Jq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:b=!0,...x}=Ps(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=Rs(i),_=Oa(o),w=Rs(o)===o,M=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=m||(w||!b?[k0(o)]:Hq(o)),A=v!=="none";!m&&A&&C.push(...Xq(o,b,v,M));const N=[o,...C],O=await Rp(e,x),P=[];let I=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&P.push(O[g]),p){const $=Vq(i,s,M);P.push(O[$[0]],O[$[1]])}if(I=[...I,{placement:i,overflows:P}],!P.every($=>$<=0)){var H,q;const $=(((H=a.flip)==null?void 0:H.index)||0)+1,Z=N[$];if(Z&&(!(p==="alignment"&&_!==Oa(Z))||I.every(ie=>ie.overflows[0]>0&&Oa(ie.placement)===_)))return{data:{index:$,overflows:I},reset:{placement:Z}};let ne=(q=I.filter(ie=>ie.overflows[0]<=0).sort((ie,D)=>ie.overflows[1]-D.overflows[1])[0])==null?void 0:q.placement;if(!ne)switch(f){case"bestFit":{var se;const ie=(se=I.filter(D=>{if(A){const F=Oa(D.placement);return F===_||F==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(F=>F>0).reduce((F,W)=>F+W,0)]).sort((D,F)=>D[1]-F[1])[0])==null?void 0:se[0];ie&&(ne=ie);break}case"initialPlacement":ne=o;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function HC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function WC(t){return Fq.some(e=>t[e]>=0)}const Kq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ps(t,e);switch(r){case"referenceHidden":{const a=await Rp(e,{...i,elementContext:"reference"}),s=HC(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:WC(s)}}}case"escaped":{const a=await Rp(e,{...i,altBoundary:!0}),s=HC(a,n.floating);return{data:{escapedOffsets:s,escaped:WC(s)}}}default:return{}}}}},gD=new Set(["left","top"]);async function eX(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Rs(n),o=fd(n),l=Oa(n)==="y",c=gD.has(s)?-1:1,h=a&&l?-1:1,p=Ps(e,t);let{mainAxis:m,crossAxis:f,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof v=="number"&&(f=o==="end"?v*-1:v),l?{x:f*h,y:m*c}:{x:m*c,y:f*h}}const tX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await eX(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},nX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:x=>{let{x:g,y:_}=x;return{x:g,y:_}}},...l}=Ps(t,e),c={x:n,y:r},h=await Rp(e,l),p=Oa(Rs(i)),m=lM(p);let f=c[m],v=c[p];if(a){const x=m==="y"?"top":"left",g=m==="y"?"bottom":"right",_=f+h[x],w=f-h[g];f=Cw(_,f,w)}if(s){const x=p==="y"?"top":"left",g=p==="y"?"bottom":"right",_=v+h[x],w=v-h[g];v=Cw(_,v,w)}const b=o.fn({...e,[m]:f,[p]:v});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[m]:a,[p]:s}}}}}},rX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Ps(t,e),h={x:n,y:r},p=Oa(i),m=lM(p);let f=h[m],v=h[p];const b=Ps(o,e),x=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const w=m==="y"?"height":"width",M=a.reference[m]-a.floating[w]+x.mainAxis,C=a.reference[m]+a.reference[w]-x.mainAxis;f<M?f=M:f>C&&(f=C)}if(c){var g,_;const w=m==="y"?"width":"height",M=gD.has(Rs(i)),C=a.reference[p]-a.floating[w]+(M&&((g=s.offset)==null?void 0:g[p])||0)+(M?0:x.crossAxis),A=a.reference[p]+a.reference[w]+(M?0:((_=s.offset)==null?void 0:_[p])||0)-(M?x.crossAxis:0);v<C?v=C:v>A&&(v=A)}return{[m]:f,[p]:v}}}},iX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...c}=Ps(t,e),h=await Rp(e,c),p=Rs(i),m=fd(i),f=Oa(i)==="y",{width:v,height:b}=a.floating;let x,g;p==="top"||p==="bottom"?(x=p,g=m===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(g=p,x=m==="end"?"top":"bottom");const _=b-h.top-h.bottom,w=v-h.left-h.right,M=zo(b-h[x],_),C=zo(v-h[g],w),A=!e.middlewareData.shift;let N=M,O=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=_),A&&!m){const I=bi(h.left,0),H=bi(h.right,0),q=bi(h.top,0),se=bi(h.bottom,0);f?O=v-2*(I!==0||H!==0?I+H:bi(h.left,h.right)):N=b-2*(q!==0||se!==0?q+se:bi(h.top,h.bottom))}await l({...e,availableWidth:O,availableHeight:N});const P=await s.getDimensions(o.floating);return v!==P.width||b!==P.height?{reset:{rects:!0}}:{}}}};function Av(){return typeof window<"u"}function md(t){return vD(t)?(t.nodeName||"").toLowerCase():"#document"}function Ei(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ga(t){var e;return(e=(vD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vD(t){return Av()?t instanceof Node||t instanceof Ei(t).Node:!1}function ya(t){return Av()?t instanceof Element||t instanceof Ei(t).Element:!1}function Ha(t){return Av()?t instanceof HTMLElement||t instanceof Ei(t).HTMLElement:!1}function GC(t){return!Av()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ei(t).ShadowRoot}const aX=new Set(["inline","contents"]);function rf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=xa(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!aX.has(i)}const sX=new Set(["table","td","th"]);function oX(t){return sX.has(md(t))}const lX=[":popover-open",":modal"];function Cv(t){return lX.some(e=>{try{return t.matches(e)}catch{return!1}})}const cX=["transform","translate","scale","rotate","perspective"],uX=["transform","translate","scale","rotate","perspective","filter"],dX=["paint","layout","strict","content"];function dM(t){const e=hM(),n=ya(t)?xa(t):t;return cX.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||uX.some(r=>(n.willChange||"").includes(r))||dX.some(r=>(n.contain||"").includes(r))}function hX(t){let e=Fo(t);for(;Ha(e)&&!ed(e);){if(dM(e))return e;if(Cv(e))return null;e=Fo(e)}return null}function hM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pX=new Set(["html","body","#document"]);function ed(t){return pX.has(md(t))}function xa(t){return Ei(t).getComputedStyle(t)}function Pv(t){return ya(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fo(t){if(md(t)==="html")return t;const e=t.assignedSlot||t.parentNode||GC(t)&&t.host||Ga(t);return GC(e)?e.host:e}function yD(t){const e=Fo(t);return ed(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ha(e)&&rf(e)?e:yD(e)}function Lp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=yD(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ei(i);if(a){const o=Rw(s);return e.concat(s,s.visualViewport||[],rf(i)?i:[],o&&n?Lp(o):[])}return e.concat(i,Lp(i,[],n))}function Rw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xD(t){const e=xa(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ha(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=N0(n)!==a||N0(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function pM(t){return ya(t)?t:t.contextElement}function zu(t){const e=pM(t);if(!Ha(e))return Ba(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=xD(e);let s=(a?N0(n.width):n.width)/r,o=(a?N0(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const fX=Ba(0);function bD(t){const e=Ei(t);return!hM()||!e.visualViewport?fX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ei(t)?!1:e}function ic(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=pM(t);let s=Ba(1);e&&(r?ya(r)&&(s=zu(r)):s=zu(t));const o=mX(a,n,r)?bD(a):Ba(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,h=i.width/s.x,p=i.height/s.y;if(a){const m=Ei(a),f=r&&ya(r)?Ei(r):r;let v=m,b=Rw(v);for(;b&&r&&f!==v;){const x=zu(b),g=b.getBoundingClientRect(),_=xa(b),w=g.left+(b.clientLeft+parseFloat(_.paddingLeft))*x.x,M=g.top+(b.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,c*=x.y,h*=x.x,p*=x.y,l+=w,c+=M,v=Ei(b),b=Rw(v)}}return I0({width:h,height:p,x:l,y:c})}function fM(t,e){const n=Pv(t).scrollLeft;return e?e.left+n:ic(Ga(t)).left+n}function wD(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:fM(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function gX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",s=Ga(r),o=e?Cv(e.floating):!1;if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=Ba(1);const h=Ba(0),p=Ha(r);if((p||!p&&!a)&&((md(r)!=="body"||rf(s))&&(l=Pv(r)),Ha(r))){const f=ic(r);c=zu(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}const m=s&&!p&&!a?wD(s,l,!0):Ba(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+m.x,y:n.y*c.y-l.scrollTop*c.y+h.y+m.y}}function vX(t){return Array.from(t.getClientRects())}function yX(t){const e=Ga(t),n=Pv(t),r=t.ownerDocument.body,i=bi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=bi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+fM(t);const o=-n.scrollTop;return xa(r).direction==="rtl"&&(s+=bi(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function xX(t,e){const n=Ei(t),r=Ga(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=hM();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}const bX=new Set(["absolute","fixed"]);function wX(t,e){const n=ic(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Ha(t)?zu(t):Ba(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:s,height:o,x:l,y:c}}function qC(t,e,n){let r;if(e==="viewport")r=xX(t,n);else if(e==="document")r=yX(Ga(t));else if(ya(e))r=wX(e,n);else{const i=bD(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return I0(r)}function _D(t,e){const n=Fo(t);return n===e||!ya(n)||ed(n)?!1:xa(n).position==="fixed"||_D(n,e)}function _X(t,e){const n=e.get(t);if(n)return n;let r=Lp(t,[],!1).filter(o=>ya(o)&&md(o)!=="body"),i=null;const a=xa(t).position==="fixed";let s=a?Fo(t):t;for(;ya(s)&&!ed(s);){const o=xa(s),l=dM(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&i&&bX.has(i.position)||rf(s)&&!l&&_D(t,s))?r=r.filter(c=>c!==s):i=o,s=Fo(s)}return e.set(t,r),r}function SX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Cv(e)?[]:_X(e,this._c):[].concat(n),r],s=a[0],o=a.reduce((l,c)=>{const h=qC(e,c,i);return l.top=bi(h.top,l.top),l.right=zo(h.right,l.right),l.bottom=zo(h.bottom,l.bottom),l.left=bi(h.left,l.left),l},qC(e,s,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function MX(t){const{width:e,height:n}=xD(t);return{width:e,height:n}}function EX(t,e,n){const r=Ha(e),i=Ga(e),a=n==="fixed",s=ic(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=Ba(0);function c(){l.x=fM(i)}if(r||!r&&!a)if((md(e)!=="body"||rf(i))&&(o=Pv(e)),r){const f=ic(e,!0,a,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();a&&!r&&i&&c();const h=i&&!r&&!a?wD(i,o):Ba(0),p=s.left+o.scrollLeft-l.x-h.x,m=s.top+o.scrollTop-l.y-h.y;return{x:p,y:m,width:s.width,height:s.height}}function yx(t){return xa(t).position==="static"}function XC(t,e){if(!Ha(t)||xa(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ga(t)===n&&(n=n.ownerDocument.body),n}function SD(t,e){const n=Ei(t);if(Cv(t))return n;if(!Ha(t)){let i=Fo(t);for(;i&&!ed(i);){if(ya(i)&&!yx(i))return i;i=Fo(i)}return n}let r=XC(t,e);for(;r&&oX(r)&&yx(r);)r=XC(r,e);return r&&ed(r)&&yx(r)&&!dM(r)?n:r||hX(t)||n}const TX=async function(t){const e=this.getOffsetParent||SD,n=this.getDimensions,r=await n(t.floating);return{reference:EX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function AX(t){return xa(t).direction==="rtl"}const CX={convertOffsetParentRelativeRectToViewportRelativeRect:gX,getDocumentElement:Ga,getClippingRect:SX,getOffsetParent:SD,getElementRects:TX,getClientRects:vX,getDimensions:MX,getScale:zu,isElement:ya,isRTL:AX};function MD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function PX(t,e){let n=null,r;const i=Ga(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const c=t.getBoundingClientRect(),{left:h,top:p,width:m,height:f}=c;if(o||e(),!m||!f)return;const v=xg(p),b=xg(i.clientWidth-(h+m)),x=xg(i.clientHeight-(p+f)),g=xg(h),_={rootMargin:-v+"px "+-b+"px "+-x+"px "+-g+"px",threshold:bi(0,zo(1,l))||1};let w=!0;function M(C){const A=C[0].intersectionRatio;if(A!==l){if(!w)return s();A?s(!1,A):r=setTimeout(()=>{s(!1,1e-7)},1e3)}A===1&&!MD(c,t.getBoundingClientRect())&&s(),w=!1}try{n=new IntersectionObserver(M,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,_)}n.observe(t)}return s(!0),a}function RX(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=pM(t),h=i||a?[...c?Lp(c):[],...Lp(e)]:[];h.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const p=c&&o?PX(c,n):null;let m=-1,f=null;s&&(f=new ResizeObserver(g=>{let[_]=g;_&&_.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let v,b=l?ic(t):null;l&&x();function x(){const g=ic(t);b&&!MD(b,g)&&n(),b=g,v=requestAnimationFrame(x)}return n(),()=>{var g;h.forEach(_=>{i&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),p==null||p(),(g=f)==null||g.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const LX=tX,NX=nX,kX=Jq,IX=iX,OX=Kq,YC=Qq,DX=rX,UX=(t,e,n)=>{const r=new Map,i={platform:CX,...n},a={...i.platform,_c:r};return Zq(t,e,{...i,platform:a})};var zX=typeof document<"u",FX=function(){},Qg=zX?L.useLayoutEffect:FX;function O0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!O0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!O0(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function ED(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZC(t,e){const n=ED(t);return Math.round(e*n)/n}function xx(t){const e=L.useRef(t);return Qg(()=>{e.current=t}),e}function BX(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[h,p]=L.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,f]=L.useState(r);O0(m,r)||f(r);const[v,b]=L.useState(null),[x,g]=L.useState(null),_=L.useCallback(D=>{D!==A.current&&(A.current=D,b(D))},[]),w=L.useCallback(D=>{D!==N.current&&(N.current=D,g(D))},[]),M=a||v,C=s||x,A=L.useRef(null),N=L.useRef(null),O=L.useRef(h),P=l!=null,I=xx(l),H=xx(i),q=xx(c),se=L.useCallback(()=>{if(!A.current||!N.current)return;const D={placement:e,strategy:n,middleware:m};H.current&&(D.platform=H.current),UX(A.current,N.current,D).then(F=>{const W={...F,isPositioned:q.current!==!1};$.current&&!O0(O.current,W)&&(O.current=W,Hp.flushSync(()=>{p(W)}))})},[m,e,n,H,q]);Qg(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,p(D=>({...D,isPositioned:!1})))},[c]);const $=L.useRef(!1);Qg(()=>($.current=!0,()=>{$.current=!1}),[]),Qg(()=>{if(M&&(A.current=M),C&&(N.current=C),M&&C){if(I.current)return I.current(M,C,se);se()}},[M,C,se,I,P]);const Z=L.useMemo(()=>({reference:A,floating:N,setReference:_,setFloating:w}),[_,w]),ne=L.useMemo(()=>({reference:M,floating:C}),[M,C]),ie=L.useMemo(()=>{const D={position:n,left:0,top:0};if(!ne.floating)return D;const F=ZC(ne.floating,h.x),W=ZC(ne.floating,h.y);return o?{...D,transform:"translate("+F+"px, "+W+"px)",...ED(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:W}},[n,o,ne.floating,h.x,h.y]);return L.useMemo(()=>({...h,update:se,refs:Z,elements:ne,floatingStyles:ie}),[h,se,Z,ne,ie])}const $X=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?YC({element:r.current,padding:i}).fn(n):{}:r?YC({element:r,padding:i}).fn(n):{}}}},jX=(t,e)=>({...LX(t),options:[t,e]}),VX=(t,e)=>({...NX(t),options:[t,e]}),HX=(t,e)=>({...DX(t),options:[t,e]}),WX=(t,e)=>({...kX(t),options:[t,e]}),GX=(t,e)=>({...IX(t),options:[t,e]}),qX=(t,e)=>({...OX(t),options:[t,e]}),XX=(t,e)=>({...$X(t),options:[t,e]});var YX="Arrow",TD=L.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return T.jsx(di.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});TD.displayName=YX;var ZX=TD;function QX(t){const[e,n]=L.useState(void 0);return Uo(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;n({width:s,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var AD="Popper",[CD,PD]=Mv(AD),[cie,RD]=CD(AD),LD="PopperAnchor",ND=L.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=RD(LD,n),s=L.useRef(null),o=va(e,s);return L.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:T.jsx(di.div,{...i,ref:o})});ND.displayName=LD;var mM="PopperContent",[JX,KX]=CD(mM),kD=L.forwardRef((t,e)=>{var n,r,i,a,s,o;const{__scopePopper:l,side:c="bottom",sideOffset:h=0,align:p="center",alignOffset:m=0,arrowPadding:f=0,avoidCollisions:v=!0,collisionBoundary:b=[],collisionPadding:x=0,sticky:g="partial",hideWhenDetached:_=!1,updatePositionStrategy:w="optimized",onPlaced:M,...C}=t,A=RD(mM,l),[N,O]=L.useState(null),P=va(e,ke=>O(ke)),[I,H]=L.useState(null),q=QX(I),se=(q==null?void 0:q.width)??0,$=(q==null?void 0:q.height)??0,Z=c+(p!=="center"?"-"+p:""),ne=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},ie=Array.isArray(b)?b:[b],D=ie.length>0,F={padding:ne,boundary:ie.filter(tY),altBoundary:D},{refs:W,floatingStyles:K,placement:re,isPositioned:ee,middlewareData:le}=BX({strategy:"fixed",placement:Z,whileElementsMounted:(...ke)=>RX(...ke,{animationFrame:w==="always"}),elements:{reference:A.anchor},middleware:[jX({mainAxis:h+$,alignmentAxis:m}),v&&VX({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?HX():void 0,...F}),v&&WX({...F}),GX({...F,apply:({elements:ke,rects:Te,availableWidth:Se,availableHeight:Fe})=>{const{width:we,height:Xe}=Te.reference,j=ke.floating.style;j.setProperty("--radix-popper-available-width",`${Se}px`),j.setProperty("--radix-popper-available-height",`${Fe}px`),j.setProperty("--radix-popper-anchor-width",`${we}px`),j.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),I&&XX({element:I,padding:f}),nY({arrowWidth:se,arrowHeight:$}),_&&qX({strategy:"referenceHidden",...F})]}),[Le,Ce]=DD(re),Re=Do(M);Uo(()=>{ee&&(Re==null||Re())},[ee,Re]);const tt=(n=le.arrow)==null?void 0:n.x,Qe=(r=le.arrow)==null?void 0:r.y,Ue=((i=le.arrow)==null?void 0:i.centerOffset)!==0,[he,Q]=L.useState();return Uo(()=>{N&&Q(window.getComputedStyle(N).zIndex)},[N]),T.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ee?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(a=le.transformOrigin)==null?void 0:a.x,(s=le.transformOrigin)==null?void 0:s.y].join(" "),...((o=le.hide)==null?void 0:o.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:T.jsx(JX,{scope:l,placedSide:Le,onArrowChange:H,arrowX:tt,arrowY:Qe,shouldHideArrow:Ue,children:T.jsx(di.div,{"data-side":Le,"data-align":Ce,...C,ref:P,style:{...C.style,animation:ee?void 0:"none"}})})})});kD.displayName=mM;var ID="PopperArrow",eY={top:"bottom",right:"left",bottom:"top",left:"right"},OD=L.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,i=KX(ID,n),a=eY[i.placedSide];return T.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:T.jsx(ZX,{...r,ref:e,style:{...r.style,display:"block"}})})});OD.displayName=ID;function tY(t){return t!==null}var nY=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i;const{placement:a,rects:s,middlewareData:o}=e,l=((n=o.arrow)==null?void 0:n.centerOffset)!==0,c=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[p,m]=DD(a),f={start:"0%",center:"50%",end:"100%"}[m],v=(((r=o.arrow)==null?void 0:r.x)??0)+c/2,b=(((i=o.arrow)==null?void 0:i.y)??0)+h/2;let x="",g="";return p==="bottom"?(x=l?f:`${v}px`,g=`${-h}px`):p==="top"?(x=l?f:`${v}px`,g=`${s.floating.height+h}px`):p==="right"?(x=`${-h}px`,g=l?f:`${b}px`):p==="left"&&(x=`${s.floating.width+h}px`,g=l?f:`${b}px`),{data:{x,y:g}}}});function DD(t){const[e,n="center"]=t.split("-");return[e,n]}var rY=ND,iY=kD,aY=OD,[Rv,uie]=Mv("Tooltip",[PD]),gM=PD(),UD="TooltipProvider",sY=700,QC="tooltip.open",[oY,zD]=Rv(UD),FD=t=>{const{__scopeTooltip:e,delayDuration:n=sY,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,s=L.useRef(!0),o=L.useRef(!1),l=L.useRef(0);return L.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),T.jsx(oY,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:L.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:L.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:L.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:a})};FD.displayName=UD;var BD="Tooltip",[die,Lv]=Rv(BD),Lw="TooltipTrigger",lY=L.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Lv(Lw,n),a=zD(Lw,n),s=gM(n),o=L.useRef(null),l=va(e,o,i.onTriggerChange),c=L.useRef(!1),h=L.useRef(!1),p=L.useCallback(()=>c.current=!1,[]);return L.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),T.jsx(rY,{asChild:!0,...s,children:T.jsx(di.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Zn(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Zn(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Zn(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Zn(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Zn(t.onBlur,i.onClose),onClick:Zn(t.onClick,i.onClose)})})});lY.displayName=Lw;var cY="TooltipPortal",[hie,uY]=Rv(cY,{forceMount:void 0}),td="TooltipContent",$D=L.forwardRef((t,e)=>{const n=uY(td,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,s=Lv(td,t.__scopeTooltip);return T.jsx(nM,{present:r||s.open,children:s.disableHoverableContent?T.jsx(jD,{side:i,...a,ref:e}):T.jsx(dY,{side:i,...a,ref:e})})}),dY=L.forwardRef((t,e)=>{const n=Lv(td,t.__scopeTooltip),r=zD(td,t.__scopeTooltip),i=L.useRef(null),a=va(e,i),[s,o]=L.useState(null),{trigger:l,onClose:c}=n,h=i.current,{onPointerInTransitChange:p}=r,m=L.useCallback(()=>{o(null),p(!1)},[p]),f=L.useCallback((v,b)=>{const x=v.currentTarget,g={x:v.clientX,y:v.clientY},_=gY(g,x.getBoundingClientRect()),w=vY(g,_),M=yY(b.getBoundingClientRect()),C=bY([...w,...M]);o(C),p(!0)},[p]);return L.useEffect(()=>()=>m(),[m]),L.useEffect(()=>{if(l&&h){const v=x=>f(x,h),b=x=>f(x,l);return l.addEventListener("pointerleave",v),h.addEventListener("pointerleave",b),()=>{l.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",b)}}},[l,h,f,m]),L.useEffect(()=>{if(s){const v=b=>{const x=b.target,g={x:b.clientX,y:b.clientY},_=(l==null?void 0:l.contains(x))||(h==null?void 0:h.contains(x)),w=!xY(g,s);_?m():w&&(m(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,h,s,c,m]),T.jsx(jD,{...t,ref:a})}),[hY,pY]=Rv(BD,{isInside:!1}),fY=PG("TooltipContent"),jD=L.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,l=Lv(td,n),c=gM(n),{onClose:h}=l;return L.useEffect(()=>(document.addEventListener(QC,h),()=>document.removeEventListener(QC,h)),[h]),L.useEffect(()=>{if(l.trigger){const p=m=>{const f=m.target;f!=null&&f.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),T.jsx(tM,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:T.jsxs(iY,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[T.jsx(fY,{children:r}),T.jsx(hY,{scope:n,isInside:!0,children:T.jsx(e9,{id:l.contentId,role:"tooltip",children:i||r})})]})})});$D.displayName=td;var VD="TooltipArrow",mY=L.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=gM(n);return pY(VD,n).isInside?null:T.jsx(aY,{...i,...r,ref:e})});mY.displayName=VD;function gY(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function vY(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function yY(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function xY(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a],l=e[s],c=o.x,h=o.y,p=l.x,m=l.y;h>r!=m>r&&n<(p-c)*(r-h)/(m-h)+c&&(i=!i)}return i}function bY(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),wY(e)}function wY(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],s=n[n.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var _Y=FD,HD=$D;const SY=_Y,MY=L.forwardRef(({className:t,sideOffset:e=4,...n},r)=>T.jsx(HD,{ref:r,sideOffset:e,className:Mr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));MY.displayName=HD.displayName;var Nv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kv=typeof window>"u"||"Deno"in globalThis;function oa(){}function EY(t,e){return typeof t=="function"?t(e):t}function TY(t){return typeof t=="number"&&t>=0&&t!==1/0}function AY(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Nw(t,e){return typeof t=="function"?t(e):t}function CY(t,e){return typeof t=="function"?t(e):t}function JC(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==vM(s,e.options))return!1}else if(!kp(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function KC(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Np(e.options.mutationKey)!==Np(a))return!1}else if(!kp(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function vM(t,e){return((e==null?void 0:e.queryKeyHashFn)||Np)(t)}function Np(t){return JSON.stringify(t,(e,n)=>kw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function kp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>kp(t[n],e[n])):!1}function WD(t,e){if(t===e)return t;const n=eP(t)&&eP(e);if(n||kw(t)&&kw(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),s=a.length,o=n?[]:{},l=new Set(r);let c=0;for(let h=0;h<s;h++){const p=n?h:a[h];(!n&&l.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(o[p]=void 0,c++):(o[p]=WD(t[p],e[p]),o[p]===t[p]&&t[p]!==void 0&&c++)}return i===s&&c===i?t:o}return e}function eP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kw(t){if(!tP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!tP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function tP(t){return Object.prototype.toString.call(t)==="[object Object]"}function PY(t){return new Promise(e=>{setTimeout(e,t)})}function RY(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?WD(t,e):e}function LY(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function NY(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var yM=Symbol();function GD(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===yM?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Kc,gl,sh,nP,kY=(nP=class extends Nv{constructor(){super(),Xt(this,Kc),Xt(this,gl),Xt(this,sh),Ct(this,sh,t=>{if(!kv&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){Pe(this,gl)||this.setEventListener(Pe(this,sh))}onUnsubscribe(){var t;this.hasListeners()||((t=Pe(this,gl))==null||t.call(this),Ct(this,gl,void 0))}setEventListener(t){var e;Ct(this,sh,t),(e=Pe(this,gl))==null||e.call(this),Ct(this,gl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Pe(this,Kc)!==t&&(Ct(this,Kc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof Pe(this,Kc)=="boolean"?Pe(this,Kc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Kc=new WeakMap,gl=new WeakMap,sh=new WeakMap,nP),qD=new kY,oh,vl,lh,rP,IY=(rP=class extends Nv{constructor(){super(),Xt(this,oh,!0),Xt(this,vl),Xt(this,lh),Ct(this,lh,t=>{if(!kv&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){Pe(this,vl)||this.setEventListener(Pe(this,lh))}onUnsubscribe(){var t;this.hasListeners()||((t=Pe(this,vl))==null||t.call(this),Ct(this,vl,void 0))}setEventListener(t){var e;Ct(this,lh,t),(e=Pe(this,vl))==null||e.call(this),Ct(this,vl,t(this.setOnline.bind(this)))}setOnline(t){Pe(this,oh)!==t&&(Ct(this,oh,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return Pe(this,oh)}},oh=new WeakMap,vl=new WeakMap,lh=new WeakMap,rP),D0=new IY;function OY(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function DY(t){return Math.min(1e3*2**t,3e4)}function XD(t){return(t??"online")==="online"?D0.isOnline():!0}var YD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function bx(t){return t instanceof YD}function ZD(t){let e=!1,n=0,r=!1,i;const a=OY(),s=b=>{var x;r||(m(new YD(b)),(x=t.abort)==null||x.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>qD.isFocused()&&(t.networkMode==="always"||D0.isOnline())&&t.canRun(),h=()=>XD(t.networkMode)&&t.canRun(),p=b=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,b),i==null||i(),a.resolve(b))},m=b=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,b),i==null||i(),a.reject(b))},f=()=>new Promise(b=>{var x;i=g=>{(r||c())&&b(g)},(x=t.onPause)==null||x.call(t)}).then(()=>{var b;i=void 0,r||(b=t.onContinue)==null||b.call(t)}),v=()=>{if(r)return;let b;const x=n===0?t.initialPromise:void 0;try{b=x??t.fn()}catch(g){b=Promise.reject(g)}Promise.resolve(b).then(p).catch(g=>{var _;if(r)return;const w=t.retry??(kv?0:3),M=t.retryDelay??DY,C=typeof M=="function"?M(n,g):M,A=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,g);if(e||!A){m(g);return}n++,(_=t.onFail)==null||_.call(t,n,g),PY(C).then(()=>c()?void 0:f()).then(()=>{e?m(g):v()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:h,start:()=>(h()?v():f().then(v),a)}}var UY=t=>setTimeout(t,0);function zY(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=UY;const a=o=>{e?t.push(o):i(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var jr=zY(),eu,iP,QD=(iP=class{constructor(){Xt(this,eu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),TY(this.gcTime)&&Ct(this,eu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kv?1/0:5*60*1e3))}clearGcTimeout(){Pe(this,eu)&&(clearTimeout(Pe(this,eu)),Ct(this,eu,void 0))}},eu=new WeakMap,iP),ch,tu,ia,nu,Ur,bg,ru,La,os,aP,FY=(aP=class extends QD{constructor(t){super(),Xt(this,La),Xt(this,ch),Xt(this,tu),Xt(this,ia),Xt(this,nu),Xt(this,Ur),Xt(this,bg),Xt(this,ru),Ct(this,ru,!1),Ct(this,bg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ct(this,nu,t.client),Ct(this,ia,Pe(this,nu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ct(this,ch,$Y(this.options)),this.state=t.state??Pe(this,ch),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Pe(this,Ur))==null?void 0:t.promise}setOptions(t){this.options={...Pe(this,bg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Pe(this,ia).remove(this)}setData(t,e){const n=RY(this.state.data,t,this.options);return $r(this,La,os).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){$r(this,La,os).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=Pe(this,Ur))==null?void 0:e.promise;return(n=Pe(this,Ur))==null||n.cancel(t),r?r.then(oa).catch(oa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Pe(this,ch))}isActive(){return this.observers.some(t=>CY(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Nw(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!AY(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Pe(this,Ur))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Pe(this,Ur))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Pe(this,ia).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(Pe(this,Ur)&&(Pe(this,ru)?Pe(this,Ur).cancel({revert:!0}):Pe(this,Ur).cancelRetry()),this.scheduleGc()),Pe(this,ia).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$r(this,La,os).call(this,{type:"invalidate"})}fetch(t,e){var n,r,i;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if(Pe(this,Ur))return Pe(this,Ur).continueRetry(),Pe(this,Ur).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const a=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ct(this,ru,!0),a.signal)})},o=()=>{const h=GD(this.options,e),p=(()=>{const m={client:Pe(this,nu),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return Ct(this,ru,!1),this.options.persister?this.options.persister(h,p,this):h(p)},l=(()=>{const h={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:Pe(this,nu),state:this.state,fetchFn:o};return s(h),h})();(n=this.options.behavior)==null||n.onFetch(l,this),Ct(this,tu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((r=l.fetchOptions)==null?void 0:r.meta))&&$r(this,La,os).call(this,{type:"fetch",meta:(i=l.fetchOptions)==null?void 0:i.meta});const c=h=>{var p,m,f,v;bx(h)&&h.silent||$r(this,La,os).call(this,{type:"error",error:h}),bx(h)||((m=(p=Pe(this,ia).config).onError)==null||m.call(p,h,this),(v=(f=Pe(this,ia).config).onSettled)==null||v.call(f,this.state.data,h,this)),this.scheduleGc()};return Ct(this,Ur,ZD({initialPromise:e==null?void 0:e.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:h=>{var p,m,f,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(m=(p=Pe(this,ia).config).onSuccess)==null||m.call(p,h,this),(v=(f=Pe(this,ia).config).onSettled)==null||v.call(f,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{$r(this,La,os).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{$r(this,La,os).call(this,{type:"pause"})},onContinue:()=>{$r(this,La,os).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Pe(this,Ur).start()}},ch=new WeakMap,tu=new WeakMap,ia=new WeakMap,nu=new WeakMap,Ur=new WeakMap,bg=new WeakMap,ru=new WeakMap,La=new WeakSet,os=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...BY(n.data,this.options),fetchMeta:t.meta??null};case"success":return Ct(this,tu,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return bx(r)&&r.revert&&Pe(this,tu)?{...Pe(this,tu),fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),jr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Pe(this,ia).notify({query:this,type:"updated",action:t})})},aP);function BY(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function $Y(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ls,sP,jY=(sP=class extends Nv{constructor(t={}){super(),Xt(this,ls),this.config=t,Ct(this,ls,new Map)}build(t,e,n){const r=e.queryKey,i=e.queryHash??vM(r,e);let a=this.get(i);return a||(a=new FY({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){Pe(this,ls).has(t.queryHash)||(Pe(this,ls).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=Pe(this,ls).get(t.queryHash);e&&(t.destroy(),e===t&&Pe(this,ls).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Pe(this,ls).get(t)}getAll(){return[...Pe(this,ls).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>JC(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>JC(t,n)):e}notify(t){jr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){jr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ls=new WeakMap,sP),cs,Kr,iu,us,no,oP,VY=(oP=class extends QD{constructor(t){super(),Xt(this,us),Xt(this,cs),Xt(this,Kr),Xt(this,iu),this.mutationId=t.mutationId,Ct(this,Kr,t.mutationCache),Ct(this,cs,[]),this.state=t.state||HY(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Pe(this,cs).includes(t)||(Pe(this,cs).push(t),this.clearGcTimeout(),Pe(this,Kr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ct(this,cs,Pe(this,cs).filter(e=>e!==t)),this.scheduleGc(),Pe(this,Kr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Pe(this,cs).length||(this.state.status==="pending"?this.scheduleGc():Pe(this,Kr).remove(this))}continue(){var t;return((t=Pe(this,iu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,i,a,s,o,l,c,h,p,m,f,v,b,x,g,_,w,M;const C=()=>{$r(this,us,no).call(this,{type:"continue"})};Ct(this,iu,ZD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,P)=>{$r(this,us,no).call(this,{type:"failed",failureCount:O,error:P})},onPause:()=>{$r(this,us,no).call(this,{type:"pause"})},onContinue:C,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Pe(this,Kr).canRun(this)}));const A=this.state.status==="pending",N=!Pe(this,iu).canStart();try{if(A)C();else{$r(this,us,no).call(this,{type:"pending",variables:t,isPaused:N}),await((n=(e=Pe(this,Kr).config).onMutate)==null?void 0:n.call(e,t,this));const P=await((i=(r=this.options).onMutate)==null?void 0:i.call(r,t));P!==this.state.context&&$r(this,us,no).call(this,{type:"pending",context:P,variables:t,isPaused:N})}const O=await Pe(this,iu).start();return await((s=(a=Pe(this,Kr).config).onSuccess)==null?void 0:s.call(a,O,t,this.state.context,this)),await((l=(o=this.options).onSuccess)==null?void 0:l.call(o,O,t,this.state.context)),await((h=(c=Pe(this,Kr).config).onSettled)==null?void 0:h.call(c,O,null,this.state.variables,this.state.context,this)),await((m=(p=this.options).onSettled)==null?void 0:m.call(p,O,null,t,this.state.context)),$r(this,us,no).call(this,{type:"success",data:O}),O}catch(O){try{throw await((v=(f=Pe(this,Kr).config).onError)==null?void 0:v.call(f,O,t,this.state.context,this)),await((x=(b=this.options).onError)==null?void 0:x.call(b,O,t,this.state.context)),await((_=(g=Pe(this,Kr).config).onSettled)==null?void 0:_.call(g,void 0,O,this.state.variables,this.state.context,this)),await((M=(w=this.options).onSettled)==null?void 0:M.call(w,void 0,O,t,this.state.context)),O}finally{$r(this,us,no).call(this,{type:"error",error:O})}}finally{Pe(this,Kr).runNext(this)}}},cs=new WeakMap,Kr=new WeakMap,iu=new WeakMap,us=new WeakSet,no=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),jr.batch(()=>{Pe(this,cs).forEach(n=>{n.onMutationUpdate(t)}),Pe(this,Kr).notify({mutation:this,type:"updated",action:t})})},oP);function HY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ro,Na,wg,lP,WY=(lP=class extends Nv{constructor(t={}){super(),Xt(this,ro),Xt(this,Na),Xt(this,wg),this.config=t,Ct(this,ro,new Set),Ct(this,Na,new Map),Ct(this,wg,0)}build(t,e,n){const r=new VY({mutationCache:this,mutationId:++bw(this,wg)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){Pe(this,ro).add(t);const e=_g(t);if(typeof e=="string"){const n=Pe(this,Na).get(e);n?n.push(t):Pe(this,Na).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Pe(this,ro).delete(t)){const e=_g(t);if(typeof e=="string"){const n=Pe(this,Na).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&Pe(this,Na).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=_g(t);if(typeof e=="string"){const n=Pe(this,Na).get(e),r=n==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=_g(t);if(typeof n=="string"){const r=(e=Pe(this,Na).get(n))==null?void 0:e.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jr.batch(()=>{Pe(this,ro).forEach(t=>{this.notify({type:"removed",mutation:t})}),Pe(this,ro).clear(),Pe(this,Na).clear()})}getAll(){return Array.from(Pe(this,ro))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>KC(e,n))}findAll(t={}){return this.getAll().filter(e=>KC(t,e))}notify(t){jr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return jr.batch(()=>Promise.all(t.map(e=>e.continue().catch(oa))))}},ro=new WeakMap,Na=new WeakMap,wg=new WeakMap,lP);function _g(t){var e;return(e=t.options.scope)==null?void 0:e.id}function cP(t){return{onFetch:(e,n)=>{var r,i,a,s,o;const l=e.options,c=(a=(i=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:i.fetchMore)==null?void 0:a.direction,h=((s=e.state.data)==null?void 0:s.pages)||[],p=((o=e.state.data)==null?void 0:o.pageParams)||[];let m={pages:[],pageParams:[]},f=0;const v=async()=>{let b=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},g=GD(e.options,e.fetchOptions),_=async(w,M,C)=>{if(b)return Promise.reject();if(M==null&&w.pages.length)return Promise.resolve(w);const A=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:M,direction:C?"backward":"forward",meta:e.options.meta};return x(I),I})(),N=await g(A),{maxPages:O}=e.options,P=C?NY:LY;return{pages:P(w.pages,N,O),pageParams:P(w.pageParams,M,O)}};if(c&&h.length){const w=c==="backward",M=w?GY:uP,C={pages:h,pageParams:p},A=M(l,C);m=await _(C,A,w)}else{const w=t??h.length;do{const M=f===0?p[0]??l.initialPageParam:uP(l,m);if(f>0&&M==null)break;m=await _(m,M),f++}while(f<w)}return m};e.options.persister?e.fetchFn=()=>{var b,x;return(x=(b=e.options).persister)==null?void 0:x.call(b,v,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=v}}}function uP(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function GY(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Rn,yl,xl,uh,dh,bl,hh,ph,dP,qY=(dP=class{constructor(t={}){Xt(this,Rn),Xt(this,yl),Xt(this,xl),Xt(this,uh),Xt(this,dh),Xt(this,bl),Xt(this,hh),Xt(this,ph),Ct(this,Rn,t.queryCache||new jY),Ct(this,yl,t.mutationCache||new WY),Ct(this,xl,t.defaultOptions||{}),Ct(this,uh,new Map),Ct(this,dh,new Map),Ct(this,bl,0)}mount(){bw(this,bl)._++,Pe(this,bl)===1&&(Ct(this,hh,qD.subscribe(async t=>{t&&(await this.resumePausedMutations(),Pe(this,Rn).onFocus())})),Ct(this,ph,D0.subscribe(async t=>{t&&(await this.resumePausedMutations(),Pe(this,Rn).onOnline())})))}unmount(){var t,e;bw(this,bl)._--,Pe(this,bl)===0&&((t=Pe(this,hh))==null||t.call(this),Ct(this,hh,void 0),(e=Pe(this,ph))==null||e.call(this),Ct(this,ph,void 0))}isFetching(t){return Pe(this,Rn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Pe(this,yl).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=Pe(this,Rn).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Pe(this,Rn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Nw(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Pe(this,Rn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Pe(this,Rn).get(r.queryHash),a=i==null?void 0:i.state.data,s=EY(e,a);if(s!==void 0)return Pe(this,Rn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return jr.batch(()=>Pe(this,Rn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=Pe(this,Rn).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=Pe(this,Rn);jr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Pe(this,Rn);return jr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=jr.batch(()=>Pe(this,Rn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(oa).catch(oa)}invalidateQueries(t,e={}){return jr.batch(()=>(Pe(this,Rn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=jr.batch(()=>Pe(this,Rn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(oa)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(oa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Pe(this,Rn).build(this,e);return n.isStaleByTime(Nw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(oa).catch(oa)}fetchInfiniteQuery(t){return t.behavior=cP(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(oa).catch(oa)}ensureInfiniteQueryData(t){return t.behavior=cP(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return D0.isOnline()?Pe(this,yl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Pe(this,Rn)}getMutationCache(){return Pe(this,yl)}getDefaultOptions(){return Pe(this,xl)}setDefaultOptions(t){Ct(this,xl,t)}setQueryDefaults(t,e){Pe(this,uh).set(Np(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Pe(this,uh).values()],n={};return e.forEach(r=>{kp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Pe(this,dh).set(Np(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Pe(this,dh).values()],n={};return e.forEach(r=>{kp(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Pe(this,xl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=vM(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===yM&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Pe(this,xl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Pe(this,Rn).clear(),Pe(this,yl).clear()}},Rn=new WeakMap,yl=new WeakMap,xl=new WeakMap,uh=new WeakMap,dh=new WeakMap,bl=new WeakMap,hh=new WeakMap,ph=new WeakMap,dP),XY=L.createContext(void 0),YY=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),T.jsx(XY.Provider,{value:t,children:e}));/**
* @remix-run/router v1.23.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}var go;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(go||(go={}));const hP="popstate";function ZY(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Iw("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:U0(i)}return JY(e,n,null,t)}function Hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QY(){return Math.random().toString(36).substr(2,8)}function pP(t,e){return{usr:t.state,key:t.key,idx:e}}function Iw(t,e,n,r){return n===void 0&&(n=null),Ip({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gd(e):e,{state:n,key:e&&e.key||r||QY()})}function U0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=go.Pop,l=null,c=h();c==null&&(c=0,s.replaceState(Ip({},s.state,{idx:c}),""));function h(){return(s.state||{idx:null}).idx}function p(){o=go.Pop;let x=h(),g=x==null?null:x-c;c=x,l&&l({action:o,location:b.location,delta:g})}function m(x,g){o=go.Push;let _=Iw(b.location,x,g);c=h()+1;let w=pP(_,c),M=b.createHref(_);try{s.pushState(w,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(M)}a&&l&&l({action:o,location:b.location,delta:1})}function f(x,g){o=go.Replace;let _=Iw(b.location,x,g);c=h();let w=pP(_,c),M=b.createHref(_);s.replaceState(w,"",M),a&&l&&l({action:o,location:b.location,delta:0})}function v(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof x=="string"?x:U0(x);return _=_.replace(/ $/,"%20"),Hn(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let b={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hP,p),l=x,()=>{i.removeEventListener(hP,p),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:f,go(x){return s.go(x)}};return b}var fP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fP||(fP={}));function KY(t,e,n){return n===void 0&&(n="/"),eZ(t,e,n,!1)}function eZ(t,e,n,r){let i=typeof e=="string"?gd(e):e,a=xM(i.pathname||"/",n);if(a==null)return null;let s=KD(t);tZ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=hZ(a);o=uZ(s[l],c,r)}return o}function KD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Hn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Po([r,l.relativePath]),h=n.concat(l);a.children&&a.children.length>0&&(Hn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),KD(a.children,e,h,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:lZ(c,a.index),routesMeta:h})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of eU(a.path))i(a,s,l)}),e}function eU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=eU(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function tZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nZ=/^:[\w-]+$/,rZ=3,iZ=2,aZ=1,sZ=10,oZ=-2,mP=t=>t==="*";function lZ(t,e){let n=t.split("/"),r=n.length;return n.some(mP)&&(r+=oZ),e&&(r+=iZ),n.filter(i=>!mP(i)).reduce((i,a)=>i+(nZ.test(a)?rZ:a===""?aZ:sZ),r)}function cZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function uZ(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=gP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),m=l.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=gP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Po([a,p.pathname]),pathnameBase:gZ(Po([a,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(a=Po([a,p.pathnameBase]))}return s}function gP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((l,c,h)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let v=o[h]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const f=o[h];return m&&!f?l[p]=void 0:l[p]=(f||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:s,pattern:t}}function dZ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),JD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,o)=>(r.push({paramName:s,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return JD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xM(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pZ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gd(t):t;return{pathname:n?n.startsWith("/")?n:fZ(n,e):e,search:vZ(r),hash:yZ(i)}}function fZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function wx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tU(t,e){let n=mZ(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nU(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=gd(t):(i=Ip({},t),Hn(!i.pathname||!i.pathname.includes("?"),wx("?","pathname","search",i)),Hn(!i.pathname||!i.pathname.includes("#"),wx("#","pathname","hash",i)),Hn(!i.search||!i.search.includes("#"),wx("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}o=p>=0?e[p]:"/"}let l=pZ(i,o),c=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Po=t=>t.join("/").replace(/\/\/+/g,"/"),gZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rU=["post","put","patch","delete"];new Set(rU);const bZ=["get",...rU];new Set(bZ);/**
* React Router v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Op.apply(this,arguments)}const bM=L.createContext(null),wZ=L.createContext(null),pc=L.createContext(null),Iv=L.createContext(null),Xo=L.createContext({outlet:null,matches:[],isDataRoute:!1}),iU=L.createContext(null);function _Z(t,e){let{relative:n}=e===void 0?{}:e;af()||Hn(!1);let{basename:r,navigator:i}=L.useContext(pc),{hash:a,pathname:s,search:o}=oU(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Po([r,s])),i.createHref({pathname:l,search:o,hash:a})}function af(){return L.useContext(Iv)!=null}function fc(){return af()||Hn(!1),L.useContext(Iv).location}function aU(t){L.useContext(pc).static||L.useLayoutEffect(t)}function sf(){let{isDataRoute:t}=L.useContext(Xo);return t?OZ():SZ()}function SZ(){af()||Hn(!1);let t=L.useContext(bM),{basename:e,future:n,navigator:r}=L.useContext(pc),{matches:i}=L.useContext(Xo),{pathname:a}=fc(),s=JSON.stringify(tU(i,n.v7_relativeSplatPath)),o=L.useRef(!1);return aU(()=>{o.current=!0}),L.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let h=nU(l,JSON.parse(s),a,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Po([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,a,t])}function sU(){let{matches:t}=L.useContext(Xo),e=t[t.length-1];return e?e.params:{}}function oU(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(pc),{matches:i}=L.useContext(Xo),{pathname:a}=fc(),s=JSON.stringify(tU(i,r.v7_relativeSplatPath));return L.useMemo(()=>nU(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function MZ(t,e){return EZ(t,e)}function EZ(t,e,n,r){af()||Hn(!1);let{navigator:i}=L.useContext(pc),{matches:a}=L.useContext(Xo),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=fc(),h;if(e){var p;let x=typeof e=="string"?gd(e):e;l==="/"||(p=x.pathname)!=null&&p.startsWith(l)||Hn(!1),h=x}else h=c;let m=h.pathname||"/",f=m;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=KY(t,{pathname:f}),b=RZ(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Po([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Po([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return e&&b?L.createElement(Iv.Provider,{value:{location:Op({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:go.Pop}},b):b}function TZ(){let t=IZ(),e=xZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:r},n):null,null)}const AZ=L.createElement(TZ,null);class CZ extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(Xo.Provider,{value:this.props.routeContext},L.createElement(iU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PZ(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(bM);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Xo.Provider,{value:e},r)}function RZ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let h=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);h>=0||Hn(!1),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:m,errors:f}=n,v=p.route.loader&&m[p.route.id]===void 0&&(!f||f[p.route.id]===void 0);if(p.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,p,m)=>{let f,v=!1,b=null,x=null;n&&(f=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||AZ,l&&(c<0&&m===0?(v=!0,x=null):c===m&&(v=!0,x=p.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,m+1)),_=()=>{let w;return f?w=b:v?w=x:p.route.Component?w=L.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=h,L.createElement(PZ,{match:p,routeContext:{outlet:h,matches:g,isDataRoute:n!=null},children:w})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?L.createElement(CZ,{location:n.location,revalidation:n.revalidation,component:b,error:f,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):_()},null)}var lU=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lU||{}),z0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(z0||{});function LZ(t){let e=L.useContext(bM);return e||Hn(!1),e}function NZ(t){let e=L.useContext(wZ);return e||Hn(!1),e}function kZ(t){let e=L.useContext(Xo);return e||Hn(!1),e}function cU(t){let e=kZ(),n=e.matches[e.matches.length-1];return n.route.id||Hn(!1),n.route.id}function IZ(){var t;let e=L.useContext(iU),n=NZ(z0.UseRouteError),r=cU(z0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function OZ(){let{router:t}=LZ(lU.UseNavigateStable),e=cU(z0.UseNavigateStable),n=L.useRef(!1);return aU(()=>{n.current=!0}),L.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Op({fromRouteId:e},i)))},[t,e])}function DZ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function io(t){Hn(!1)}function UZ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=go.Pop,navigator:a,static:s=!1,future:o}=t;af()&&Hn(!1);let l=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:a,static:s,future:Op({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=gd(r));let{pathname:h="/",search:p="",hash:m="",state:f=null,key:v="default"}=r,b=L.useMemo(()=>{let x=xM(h,l);return x==null?null:{location:{pathname:x,search:p,hash:m,state:f,key:v},navigationType:i}},[l,h,p,m,f,v,i]);return b==null?null:L.createElement(pc.Provider,{value:c},L.createElement(Iv.Provider,{children:n,value:b}))}function zZ(t){let{children:e,location:n}=t;return MZ(Ow(e),n)}new Promise(()=>{});function Ow(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let a=[...e,i];if(r.type===L.Fragment){n.push.apply(n,Ow(r.props.children,a));return}r.type!==io&&Hn(!1),!r.props.index||!r.props.children||Hn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ow(r.props.children,a)),n.push(s)}),n}/**
* React Router DOM v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(this,arguments)}function FZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $Z(t,e){return t.button===0&&(!e||e==="_self")&&!BZ(t)}const jZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VZ="6";try{window.__reactRouterVersion=VZ}catch{}const HZ="startTransition",vP=I3[HZ];function WZ(t){let{basename:e,children:n,future:r,window:i}=t,a=L.useRef();a.current==null&&(a.current=ZY({window:i,v5Compat:!0}));let s=a.current,[o,l]=L.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},h=L.useCallback(p=>{c&&vP?vP(()=>l(p)):l(p)},[l,c]);return L.useLayoutEffect(()=>s.listen(h),[s,h]),L.useEffect(()=>DZ(r),[r]),L.createElement(UZ,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const GZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ov=L.forwardRef(function(t,e){let{onClick:n,relative:r,reloadDocument:i,replace:a,state:s,target:o,to:l,preventScrollReset:c,viewTransition:h}=t,p=FZ(t,jZ),{basename:m}=L.useContext(pc),f,v=!1;if(typeof l=="string"&&qZ.test(l)&&(f=l,GZ))try{let _=new URL(window.location.href),w=l.startsWith("//")?new URL(_.protocol+l):new URL(l),M=xM(w.pathname,m);w.origin===_.origin&&M!=null?l=M+w.search+w.hash:v=!0}catch{}let b=_Z(l,{relative:r}),x=XZ(l,{replace:a,state:s,target:o,preventScrollReset:c,relative:r,viewTransition:h});function g(_){n&&n(_),_.defaultPrevented||x(_)}return L.createElement("a",Dw({},p,{href:f||b,onClick:v||i?n:g,ref:e,target:o}))});var yP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yP||(yP={}));var xP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xP||(xP={}));function XZ(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=sf(),c=fc(),h=oU(t,{relative:s});return L.useCallback(p=>{if($Z(p,n)){p.preventDefault();let m=r!==void 0?r:U0(c)===U0(h);l(t,{replace:m,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,h,r,i,n,t,a,s,o])}const YZ={en:{"nav.home":"Home","nav.biography":"Biography","nav.articles":"Article","nav.vlogs":"Vlogs","nav.videos":"Videos","nav.books":"Books","nav.meetings":"Meetings","hero.role":"Leader | Author | Visionary","hero.description":"Inspiring minds, shaping futures, and leading with purpose.","hero.explore":"Explore My Journey","bio.title":"Biography","bio.subtitle":"A Life Dedicated to Excellence","bio.content1":"Shawqi Al-Waily is a distinguished researcher and seasoned politician currently serving at the African Union Commission.","bio.content2":"With a strong academic foundation in languages and terminology, he holds two master's degrees: one in Translation and Interpretation and a second specialized master's in the Translatability of African Union and United Nations Terminology.","bio.content3":"A prolific author and scholar, Shawqi has written six books and compiled a comprehensive glossary of acronyms widely used in international and continental organizations. His work bridges linguistic precision with political and institutional practice, contributing significantly to clearer communication within the African Union, the United Nations, and related multilateral frameworks. Through his dual expertise in research and politics, Shawqi Al-Waily continues to play an influential role in advancing African integration, multilingualism, and effective governance at the continental level.","vlogs.title":"Vlogs","vlogs.subtitle":"Insights & Reflections","vlogs.watch":"Watch Now","videos.title":"Videos","videos.subtitle":"Keynotes & Appearances","videos.play":"Play Video","books.title":"Published Works","books.subtitle":"Wisdom in Pages","books.viewDetails":"View Details","books.buyNow":"Buy on Amazon","books.excerpt":"Excerpt","books.backToBooks":"Back to Books","books.about":"About This Book","meetings.title":"Meeting Participations","meetings.subtitle":"Global Engagements","footer.connect":"Connect With Me","footer.rights":"All rights reserved."},fr:{"nav.home":"Accueil","nav.biography":"Biographie","nav.articles":"Article","nav.vlogs":"Vlogs","nav.videos":"Vidos","nav.books":"Livres","nav.meetings":"Rencontres","hero.role":"Leader | Auteur | Visionnaire","hero.description":"Inspirer les esprits, faonner les avenirs et diriger avec dtermination.","hero.explore":"Dcouvrir Mon Parcours","bio.title":"Biographie","bio.subtitle":"Une Vie Ddie  l'Excellence","bio.content1":"Shawqi Al-Waily est un chercheur distingu et un politicien chevronn actuellement en poste  la Commission de l'Union Africaine.","bio.content2":"Avec une solide formation acadmique en langues et terminologie, il dtient deux diplmes de master : l'un en Traduction et Interprtation et un second master spcialis en Traductibilit de la Terminologie de l'Union Africaine et des Nations Unies.","bio.content3":"Auteur prolifique et rudit, Shawqi a crit six livres et compil un glossaire complet des acronymes largement utiliss dans les organisations internationales et continentales. Son travail tablit un pont entre la prcision linguistique et la pratique politique et institutionnelle, contribuant de manire significative  une communication plus claire au sein de l'Union Africaine, des Nations Unies et des cadres multilatraux connexes. Grce  sa double expertise en recherche et en politique, Shawqi Al-Waily continue de jouer un rle influent dans l'avancement de l'intgration africaine, du multilinguisme et de la gouvernance efficace au niveau continental.","vlogs.title":"Vlogs","vlogs.subtitle":"Perspectives & Rflexions","vlogs.watch":"Regarder","videos.title":"Vidos","videos.subtitle":"Confrences & Apparitions","videos.play":"Lire la Vido","books.title":"uvres Publies","books.subtitle":"La Sagesse en Pages","books.viewDetails":"Voir les Dtails","books.buyNow":"Acheter sur Amazon","books.excerpt":"Extrait","books.backToBooks":"Retour aux Livres","books.about":" Propos de ce Livre","meetings.title":"Participations aux Rencontres","meetings.subtitle":"Engagements Mondiaux","footer.connect":"Connectez-vous avec Moi","footer.rights":"Tous droits rservs."},ar:{"nav.home":"","nav.biography":" ","nav.articles":"","nav.vlogs":" ","nav.videos":"","nav.books":"","nav.meetings":"","hero.role":" |  |  ","hero.description":"     .","hero.explore":" ","bio.title":" ","bio.subtitle":"  ","bio.content1":"           .","bio.content2":"        :                .","bio.content3":"                    .                          .                        .","vlogs.title":" ","vlogs.subtitle":" ","vlogs.watch":" ","videos.title":"","videos.subtitle":"  ","videos.play":" ","books.title":" ","books.subtitle":"  ","books.viewDetails":" ","books.buyNow":"  ","books.excerpt":"","books.backToBooks":"  ","books.about":"  ","meetings.title":"  ","meetings.subtitle":" ","footer.connect":" ","footer.rights":"  ."},es:{"nav.home":"Inicio","nav.biography":"Biografa","nav.articles":"Artculos","nav.vlogs":"Vlogs","nav.videos":"Videos","nav.books":"Libros","nav.meetings":"Reuniones","hero.role":"Lder | Autor | Visionario","hero.description":"Inspirando mentes, formando futuros y liderando con propsito.","hero.explore":"Explora Mi Trayectoria","bio.title":"Biografa","bio.subtitle":"Una vida dedicada a la excelencia","bio.content1":"Shawqi Al-Waily es un investigador distinguido y un poltico con servicio en la Comisin de la Unin Africana.","bio.content2":"Con una slida formacin acadmica en lenguas y terminologa, posee dos maestras: una en Traduccin e Interpretacin y otra especializada en la traducibilidad de la terminologa de la Unin Africana y las Naciones Unidas.","bio.content3":"Autor prolfico y acadmico, Shawqi ha escrito seis libros y compilado un glosario completo de siglas usado en organizaciones internacionales y continentales. Su trabajo une la precisin lingstica con la prctica poltica e institucional, contribuyendo a una comunicacin ms clara dentro de la Unin Africana, las Naciones Unidas y los marcos multilaterales relacionados. Gracias a su doble experiencia en investigacin y poltica, Shawqi Al-Waily contina desempeando un papel influyente en el avance de la integracin africana, el multilingismo y la gobernanza eficaz a nivel continental.","vlogs.title":"Vlogs","vlogs.subtitle":"Ideas y reflexiones","vlogs.watch":"Ver ahora","videos.title":"Videos","videos.subtitle":"Conferencias y apariciones","videos.play":"Reproducir video","books.title":"Obras publicadas","books.subtitle":"Sabidura en pginas","books.viewDetails":"Ver detalles","books.buyNow":"Comprar en Amazon","books.excerpt":"Extracto","books.backToBooks":"Volver a los libros","books.about":"Acerca de este libro","meetings.title":"Participaciones en reuniones","meetings.subtitle":"Compromisos globales","footer.connect":"Conctate conmigo","footer.rights":"Todos los derechos reservados."}},uU=L.createContext(void 0),ZZ=({children:t})=>{const[e,n]=L.useState("en"),r=e==="ar";L.useEffect(()=>{document.documentElement.dir=r?"rtl":"ltr",document.documentElement.lang=e},[e,r]);const i=a=>YZ[e][a]||a;return T.jsx(uU.Provider,{value:{language:e,setLanguage:n,t:i,isRTL:r},children:t})},Yo=()=>{const t=L.useContext(uU);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},QZ=()=>{const{language:t,setLanguage:e}=Yo(),n=[{code:"en",label:"EN"},{code:"fr",label:"FR"},{code:"ar",label:""},{code:"es",label:"ES"}];return T.jsx("div",{className:"flex items-center gap-1 rounded-full bg-primary/10 p-1 backdrop-blur-sm",children:n.map(r=>T.jsx("button",{onClick:()=>e(r.code),className:Mr("px-3 py-1.5 text-sm font-medium rounded-full transition-all duration-300",t===r.code?"bg-accent text-accent-foreground shadow-sm":"text-foreground/70 hover:text-foreground hover:bg-primary/5"),children:r.label},r.code))})},ac=()=>{const{t,isRTL:e}=Yo(),[n,r]=L.useState(!1),[i,a]=L.useState(!1),s=L.useRef(null),o=fc();L.useEffect(()=>{const p=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]),L.useEffect(()=>{const p=m=>{m.key==="Escape"&&a(!1)};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[i]),L.useEffect(()=>(document.body.style.overflow=i?"hidden":"",()=>{document.body.style.overflow=""}),[i]),L.useEffect(()=>{i&&(a(!1),document.body.style.overflow="")},[o.pathname]);const l=[{href:"/",label:t("nav.home")},{href:"/biography",label:t("nav.biography")},{href:"/work",label:t("nav.articles")},{href:"/books",label:t("nav.books")}],c=sf(),h=p=>{c(p),a(!1)};return T.jsx("header",{className:Mr("fixed top-0 left-0 right-0 z-40 transition-all duration-500",n?"bg-[#0b1530]/85 backdrop-blur-xl border-b border-white/10 shadow-[0_8px_30px_rgba(0,0,0,0.35)] py-3":"bg-transparent py-6"),children:T.jsx("div",{className:"container mx-auto px-4 md:px-8",children:T.jsxs("div",{className:"flex items-center justify-end gap-4",children:[T.jsx(QZ,{}),T.jsxs("div",{ref:s,className:"relative",children:[T.jsx("button",{className:Mr("p-2 rounded-lg transition-all duration-300",n?"hover:bg-muted":"hover:bg-primary-foreground/10"),onClick:()=>a(!i),"aria-label":"Toggle menu",children:T.jsxs("div",{className:"relative w-6 h-6",children:[T.jsx(M9,{className:Mr("w-6 h-6 absolute inset-0 transition-all duration-300","text-white",i?"opacity-0 rotate-90":"opacity-100 rotate-0")}),T.jsx(Ew,{className:Mr("w-6 h-6 absolute inset-0 transition-all duration-300","text-white",i?"opacity-100 rotate-0":"opacity-0 -rotate-90")})]})}),i&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-[2px]",onClick:()=>a(!1)}),T.jsxs("div",{className:Mr("fixed top-0 left-0 right-0 z-50 h-[80vh] bg-primary text-white shadow-lg transition-transform duration-500 ease-out","animate-slide-down","border-b border-white/20 shadow-[0_20px_60px_rgba(0,0,0,0.25)]"),role:"dialog","aria-modal":"true",children:[T.jsx("button",{onClick:()=>a(!1),"aria-label":"Close menu",className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 text-white flex items-center justify-center shadow-md",children:T.jsx(Ew,{className:"w-6 h-6"})}),T.jsxs("div",{className:"h-full container mx-auto px-4 md:px-8 grid grid-cols-1 md:grid-cols-[1fr_2fr] gap-0",children:[T.jsxs("div",{className:Mr("h-full flex flex-col justify-between py-10 md:py-12",e?"md:pl-10":"md:pr-10"),children:[T.jsx("div",{children:T.jsx("h2",{className:"font-playfair text-3xl md:text-5xl font-bold text-white",children:"Shawqi Al-Waily"})}),T.jsxs("div",{className:"flex flex-col gap-3 text-white/80",children:[T.jsxs("a",{href:"http://x.com/shawky39851988",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 hover:text-gray-300 transition-colors",children:[T.jsx(iD,{className:"w-5 h-5 text-white"}),T.jsx("span",{className:"text-white",children:"X"})]}),T.jsxs("a",{href:"https://www.facebook.com/shawki.mohammed.1",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 hover:text-gray-300 transition-colors",children:[T.jsx(nD,{className:"w-5 h-5 text-white"}),T.jsx("span",{className:"text-white",children:"Facebook"})]}),T.jsxs("a",{href:"https://www.linkedin.com/in/shawqi-alwaily-886744111/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 hover:text-gray-300 transition-colors",children:[T.jsx(rD,{className:"w-5 h-5 text-white"}),T.jsx("span",{className:"text-white",children:"LinkedIn"})]})]})]}),T.jsxs("div",{className:Mr("py-10 md:py-12 flex flex-col gap-10 md:gap-12 text-left",e?"md:border-r md:pr-12":"md:border-l md:pl-12","border-white/20"),children:[T.jsx("nav",{className:"grid gap-5 md:gap-6",children:l.map(p=>T.jsx("button",{onClick:()=>h(p.href),className:"text-left text-2xl md:text-4xl font-semibold md:font-bold text-white hover:text-white/80 transition-colors",children:p.label},p.href))}),T.jsxs("div",{className:"pt-4",children:[T.jsx("div",{className:"text-sm uppercase tracking-[0.25em] text-white/60 mb-3",children:"Contact"}),T.jsxs("div",{className:"flex flex-col gap-2 text-lg",children:[T.jsxs("a",{href:"tel:+201002307197",className:"inline-flex items-center gap-2 hover:text-gray-300 transition-colors",children:[T.jsx(OC,{className:"w-4 h-4 text-white"}),T.jsx("span",{className:"text-white",children:"+20 100 230 7197"})]}),T.jsxs("a",{href:"tel:+251912601933",className:"inline-flex items-center gap-2 hover:text-gray-300 transition-colors",children:[T.jsx(OC,{className:"w-4 h-4 text-white"}),T.jsx("span",{className:"text-white",children:"+251 912 601 933"})]}),T.jsxs("a",{href:"mailto:shawqialwaily@outlook.com",className:"inline-flex items-center gap-2 hover:text-gray-300 transition-colors",children:[T.jsx(S9,{className:"w-4 h-4 text-white"}),T.jsx("span",{className:"text-white",children:"shawqialwaily@outlook.com"})]})]})]})]})]})]})]})]})]})})})},dU=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Dv=L.createContext({}),Uv=L.createContext(null),zv=typeof document<"u",wM=zv?L.useLayoutEffect:L.useEffect,hU=L.createContext({strict:!1}),_M=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),JZ="framerAppearId",pU="data-"+_M(JZ);function KZ(t,e,n,r){const{visualElement:i}=L.useContext(Dv),a=L.useContext(hU),s=L.useContext(Uv),o=L.useContext(dU).reducedMotion,l=L.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;L.useInsertionEffect(()=>{c&&c.update(n,s)});const h=L.useRef(!!(n[pU]&&!window.HandoffComplete));return wM(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),L.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function Tu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eQ(t,e,n){return L.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Tu(n)&&(n.current=r))},[e])}function Dp(t){return typeof t=="string"||Array.isArray(t)}function Fv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const SM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],MM=["initial",...SM];function Bv(t){return Fv(t.animate)||MM.some(e=>Dp(t[e]))}function fU(t){return!!(Bv(t)||t.variants)}function tQ(t,e){if(Bv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Dp(n)?n:void 0,animate:Dp(r)?r:void 0}}return t.inherit!==!1?e:{}}function nQ(t){const{initial:e,animate:n}=tQ(t,L.useContext(Dv));return L.useMemo(()=>({initial:e,animate:n}),[bP(e),bP(n)])}function bP(t){return Array.isArray(t)?t.join(" "):t}const wP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Up={};for(const t in wP)Up[t]={isEnabled:e=>wP[t].some(n=>!!e[n])};function rQ(t){for(const e in t)Up[e]={...Up[e],...t[e]}}const EM=L.createContext({}),mU=L.createContext({}),iQ=Symbol.for("motionComponentSymbol");function aQ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&rQ(t);function a(o,l){let c;const h={...L.useContext(dU),...o,layoutId:sQ(o)},{isStatic:p}=h,m=nQ(o),f=r(o,p);if(!p&&zv){m.visualElement=KZ(i,f,h,e);const v=L.useContext(mU),b=L.useContext(hU).strict;m.visualElement&&(c=m.visualElement.loadFeatures(h,b,t,v))}return L.createElement(Dv.Provider,{value:m},c&&m.visualElement?L.createElement(c,{visualElement:m.visualElement,...h}):null,n(i,o,eQ(f,m.visualElement,l),f,p,m.visualElement))}const s=L.forwardRef(a);return s[iQ]=i,s}function sQ({layoutId:t}){const e=L.useContext(EM).id;return e&&t!==void 0?e+"-"+t:t}function oQ(t){function e(r,i={}){return aQ(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const lQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TM(t){return typeof t!="string"||t.includes("-")?!1:!!(lQ.indexOf(t)>-1||/[A-Z]/.test(t))}const F0={};function cQ(t){Object.assign(F0,t)}const of=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mc=new Set(of);function gU(t,{layout:e,layoutId:n}){return mc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!F0[t]||t==="opacity")}const ci=t=>!!(t&&t.getVelocity),uQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dQ=of.length;function hQ(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<dQ;s++){const o=of[s];if(t[o]!==void 0){const l=uQ[o]||o;a+=`${l}(${t[o]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,r?"":a):n&&r&&(a="none"),a}const vU=t=>e=>typeof e=="string"&&e.startsWith(t),yU=vU("--"),Uw=vU("var(--"),pQ=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,fQ=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Bo=(t,e,n)=>Math.min(Math.max(n,t),e),gc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bh={...gc,transform:t=>Bo(0,1,t)},Sg={...gc,default:1},$h=t=>Math.round(t*1e5)/1e5,$v=/(-)?([\d]*\.?[\d])+/g,xU=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,mQ=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function lf(t){return typeof t=="string"}const cf=t=>({test:e=>lf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ao=cf("deg"),$a=cf("%"),xt=cf("px"),gQ=cf("vh"),vQ=cf("vw"),_P={...$a,parse:t=>$a.parse(t)/100,transform:t=>$a.transform(t*100)},SP={...gc,transform:Math.round},bU={borderWidth:xt,borderTopWidth:xt,borderRightWidth:xt,borderBottomWidth:xt,borderLeftWidth:xt,borderRadius:xt,radius:xt,borderTopLeftRadius:xt,borderTopRightRadius:xt,borderBottomRightRadius:xt,borderBottomLeftRadius:xt,width:xt,maxWidth:xt,height:xt,maxHeight:xt,size:xt,top:xt,right:xt,bottom:xt,left:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,rotate:ao,rotateX:ao,rotateY:ao,rotateZ:ao,scale:Sg,scaleX:Sg,scaleY:Sg,scaleZ:Sg,skew:ao,skewX:ao,skewY:ao,distance:xt,translateX:xt,translateY:xt,translateZ:xt,x:xt,y:xt,z:xt,perspective:xt,transformPerspective:xt,opacity:Bh,originX:_P,originY:_P,originZ:xt,zIndex:SP,fillOpacity:Bh,strokeOpacity:Bh,numOctaves:SP};function AM(t,e,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=t;let l=!1,c=!1,h=!0;for(const p in e){const m=e[p];if(yU(p)){a[p]=m;continue}const f=bU[p],v=fQ(m,f);if(mc.has(p)){if(l=!0,s[p]=v,!h)continue;m!==(f.default||0)&&(h=!1)}else p.startsWith("origin")?(c=!0,o[p]=v):i[p]=v}if(e.transform||(l||r?i.transform=hQ(t.transform,n,h,r):i.transform&&(i.transform="none")),c){const{originX:p="50%",originY:m="50%",originZ:f=0}=o;i.transformOrigin=`${p} ${m} ${f}`}}const CM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wU(t,e,n){for(const r in e)!ci(e[r])&&!gU(r,n)&&(t[r]=e[r])}function yQ({transformTemplate:t},e,n){return L.useMemo(()=>{const r=CM();return AM(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function xQ(t,e,n){const r=t.style||{},i={};return wU(i,r,t),Object.assign(i,yQ(t,e,n)),t.transformValues?t.transformValues(i):i}function bQ(t,e,n){const r={},i=xQ(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const wQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function B0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wQ.has(t)}let _U=t=>!B0(t);function _Q(t){t&&(_U=e=>e.startsWith("on")?!B0(e):t(e))}try{_Q(require("@emotion/is-prop-valid").default)}catch{}function SQ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(_U(i)||n===!0&&B0(i)||!e&&!B0(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function MP(t,e,n){return typeof t=="string"?t:xt.transform(e+n*t)}function MQ(t,e,n){const r=MP(e,t.x,t.width),i=MP(n,t.y,t.height);return`${r} ${i}`}const EQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},TQ={offset:"strokeDashoffset",array:"strokeDasharray"};function AQ(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?EQ:TQ;t[a.offset]=xt.transform(-r);const s=xt.transform(e),o=xt.transform(n);t[a.array]=`${s} ${o}`}function PM(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},h,p,m){if(AM(t,c,h,m),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:v,dimensions:b}=t;f.transform&&(b&&(v.transform=f.transform),delete f.transform),b&&(i!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=MQ(b,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&AQ(f,s,o,l,!1)}const SU=()=>({...CM(),attrs:{}}),RM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function CQ(t,e,n,r){const i=L.useMemo(()=>{const a=SU();return PM(a,e,{enableHardwareAcceleration:!1},RM(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};wU(a,t.style,t),i.style={...a,...i.style}}return i}function PQ(t=!1){return(e,n,r,{latestValues:i},a)=>{const s=(TM(e)?CQ:bQ)(n,i,a,e),o={...SQ(n,typeof e=="string",t),...s,ref:r},{children:l}=n,c=L.useMemo(()=>ci(l)?l.get():l,[l]);return L.createElement(e,{...o,children:c})}}function MU(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const EU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TU(t,e,n,r){MU(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(EU.has(i)?i:_M(i),e.attrs[i])}function LM(t,e){const{style:n}=t,r={};for(const i in n)(ci(n[i])||e.style&&ci(e.style[i])||gU(i,t))&&(r[i]=n[i]);return r}function AU(t,e){const n=LM(t,e);for(const r in t)if(ci(t[r])||ci(e[r])){const i=of.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function NM(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function CU(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const $0=t=>Array.isArray(t),RQ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),LQ=t=>$0(t)?t[t.length-1]||0:t;function Jg(t){const e=ci(t)?t.get():t;return RQ(e)?e.toValue():e}function NQ({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,a){const s={latestValues:kQ(r,i,a,t),renderState:e()};return n&&(s.mount=o=>n(r,o,s)),s}const PU=t=>(e,n)=>{const r=L.useContext(Dv),i=L.useContext(Uv),a=()=>NQ(t,e,r,i);return n?a():CU(a)};function kQ(t,e,n,r){const i={},a=r(t,{});for(const m in a)i[m]=Jg(a[m]);let{initial:s,animate:o}=t;const l=Bv(t),c=fU(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||s===!1;const p=h?o:s;return p&&typeof p!="boolean"&&!Fv(p)&&(Array.isArray(p)?p:[p]).forEach(m=>{const f=NM(t,m);if(!f)return;const{transitionEnd:v,transition:b,...x}=f;for(const g in x){let _=x[g];if(Array.isArray(_)){const w=h?_.length-1:0;_=_[w]}_!==null&&(i[g]=_)}for(const g in v)i[g]=v[g]}),i}const kn=t=>t;class EP{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function IQ(t){let e=new EP,n=new EP,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,h=!1)=>{const p=h&&i,m=p?e:n;return c&&s.add(l),m.add(l)&&p&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(l),s.has(h)&&(o.schedule(h),t())}i=!1,a&&(a=!1,o.process(l))}};return o}const Mg=["prepare","read","update","preRender","render","postRender"],OQ=40;function DQ(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Mg.reduce((c,h)=>(c[h]=IQ(()=>n=!0),c),{}),s=c=>a[c].process(i),o=()=>{const c=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(c-i.timestamp,OQ),1),i.timestamp=c,i.isProcessing=!0,Mg.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(o))},l=()=>{n=!0,r=!0,i.isProcessing||t(o)};return{schedule:Mg.reduce((c,h)=>{const p=a[h];return c[h]=(m,f=!1,v=!1)=>(n||l(),p.schedule(m,f,v)),c},{}),cancel:c=>Mg.forEach(h=>a[h].cancel(c)),state:i,steps:a}}const{schedule:sn,cancel:Ls,state:Sr,steps:_x}=DQ(typeof requestAnimationFrame<"u"?requestAnimationFrame:kn,!0),UQ={useVisualState:PU({scrapeMotionValuesFromProps:AU,createRenderState:SU,onMount:(t,e,{renderState:n,latestValues:r})=>{sn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),sn.render(()=>{PM(n,r,{enableHardwareAcceleration:!1},RM(e.tagName),t.transformTemplate),TU(e,n)})}})},zQ={useVisualState:PU({scrapeMotionValuesFromProps:LM,createRenderState:CM})};function FQ(t,{forwardMotionProps:e=!1},n,r){return{...TM(t)?UQ:zQ,preloadedFeatures:n,useRender:PQ(e),createVisualElement:r,Component:t}}function ys(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const RU=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function jv(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const BQ=t=>e=>RU(e)&&t(e,jv(e));function ws(t,e,n,r){return ys(t,e,BQ(n),r)}const $Q=(t,e)=>n=>e(t(n)),Ro=(...t)=>t.reduce($Q);function LU(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const TP=LU("dragHorizontal"),AP=LU("dragVertical");function NU(t){let e=!1;if(t==="y")e=AP();else if(t==="x")e=TP();else{const n=TP(),r=AP();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function kU(){const t=NU(!0);return t?(t(),!1):!0}class Zo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function CP(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||kU())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[r]&&sn.update(()=>o[r](a,s))};return ws(t.current,n,i,{passive:!t.getProps()[r]})}class jQ extends Zo{mount(){this.unmount=Ro(CP(this.node,!0),CP(this.node,!1))}unmount(){}}class VQ extends Zo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ro(ys(this.node.current,"focus",()=>this.onFocus()),ys(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const IU=(t,e)=>e?t===e?!0:IU(t,e.parentElement):!1;function Sx(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,jv(n))}class HQ extends Zo{constructor(){super(...arguments),this.removeStartListeners=kn,this.removeEndListeners=kn,this.removeAccessibleListeners=kn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=ws(window,"pointerup",(s,o)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c,globalTapTarget:h}=this.node.getProps();sn.update(()=>{!h&&!IU(this.node.current,s.target)?c&&c(s,o):l&&l(s,o)})},{passive:!(r.onTap||r.onPointerUp)}),a=ws(window,"pointercancel",(s,o)=>this.cancelPress(s,o),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ro(i,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Sx("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&sn.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=ys(this.node.current,"keyup",s),Sx("down",(o,l)=>{this.startPress(o,l)})},n=ys(this.node.current,"keydown",e),r=()=>{this.isPressing&&Sx("cancel",(a,s)=>this.cancelPress(a,s))},i=ys(this.node.current,"blur",r);this.removeAccessibleListeners=Ro(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&sn.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kU()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&sn.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ws(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ys(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ro(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const zw=new WeakMap,Mx=new WeakMap,WQ=t=>{const e=zw.get(t.target);e&&e(t)},GQ=t=>{t.forEach(WQ)};function qQ({root:t,...e}){const n=t||document;Mx.has(n)||Mx.set(n,{});const r=Mx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(GQ,{root:t,...e})),r[i]}function XQ(t,e,n){const r=qQ(e);return zw.set(t,n),r.observe(t),()=>{zw.delete(t),r.unobserve(t)}}const YQ={some:0,all:1};class ZQ extends Zo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:YQ[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),m=c?h:p;m&&m(l)};return XQ(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(QQ(e,n))&&this.startObserver()}unmount(){}}function QQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JQ={inView:{Feature:ZQ},tap:{Feature:HQ},focus:{Feature:VQ},hover:{Feature:jQ}};function OU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function KQ(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function eJ(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Vv(t,e,n){const r=t.getProps();return NM(r,e,n!==void 0?n:r.custom,KQ(t),eJ(t))}let j0=kn;const Zl=t=>t*1e3,_s=t=>t/1e3,tJ={current:!1},DU=t=>Array.isArray(t)&&typeof t[0]=="number";function UU(t){return!!(!t||typeof t=="string"&&zU[t]||DU(t)||Array.isArray(t)&&t.every(UU))}const _h=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zU={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_h([0,.65,.55,1]),circOut:_h([.55,0,1,.45]),backIn:_h([.31,.01,.66,-.59]),backOut:_h([.33,1.53,.69,.99])};function FU(t){if(t)return DU(t)?_h(t):Array.isArray(t)?t.map(FU):zU[t]}function nJ(t,e,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=FU(o);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function rJ(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const BU=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iJ=1e-7,aJ=12;function sJ(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=BU(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>iJ&&++o<aJ);return s}function uf(t,e,n,r){if(t===e&&n===r)return kn;const i=a=>sJ(a,0,1,t,n);return a=>a===0||a===1?a:BU(i(a),e,r)}const oJ=uf(.42,0,1,1),lJ=uf(0,0,.58,1),$U=uf(.42,0,.58,1),cJ=t=>Array.isArray(t)&&typeof t[0]!="number",jU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VU=t=>e=>1-t(1-e),kM=t=>1-Math.sin(Math.acos(t)),HU=VU(kM),uJ=jU(kM),WU=uf(.33,1.53,.69,.99),IM=VU(WU),dJ=jU(IM),hJ=t=>(t*=2)<1?.5*IM(t):.5*(2-Math.pow(2,-10*(t-1))),PP={linear:kn,easeIn:oJ,easeInOut:$U,easeOut:lJ,circIn:kM,circInOut:uJ,circOut:HU,backIn:IM,backInOut:dJ,backOut:WU,anticipate:hJ},RP=t=>{if(Array.isArray(t)){j0(t.length===4);const[e,n,r,i]=t;return uf(e,n,r,i)}else if(typeof t=="string")return j0(PP[t]!==void 0),PP[t];return t},OM=(t,e)=>n=>!!(lf(n)&&mQ.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),GU=(t,e,n)=>r=>{if(!lf(r))return r;const[i,a,s,o]=r.match($v);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},pJ=t=>Bo(0,255,t),Ex={...gc,transform:t=>Math.round(pJ(t))},$l={test:OM("rgb","red"),parse:GU("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ex.transform(t)+", "+Ex.transform(e)+", "+Ex.transform(n)+", "+$h(Bh.transform(r))+")"};function fJ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Fw={test:OM("#"),parse:fJ,transform:$l.transform},Au={test:OM("hsl","hue"),parse:GU("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$a.transform($h(e))+", "+$a.transform($h(n))+", "+$h(Bh.transform(r))+")"},Fr={test:t=>$l.test(t)||Fw.test(t)||Au.test(t),parse:t=>$l.test(t)?$l.parse(t):Au.test(t)?Au.parse(t):Fw.parse(t),transform:t=>lf(t)?t:t.hasOwnProperty("red")?$l.transform(t):Au.transform(t)},xn=(t,e,n)=>-n*t+n*e+t;function Tx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=Tx(l,o,t+1/3),a=Tx(l,o,t),s=Tx(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Ax=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},gJ=[Fw,$l,Au],vJ=t=>gJ.find(e=>e.test(t));function LP(t){const e=vJ(t);let n=e.parse(t);return e===Au&&(n=mJ(n)),n}const qU=(t,e)=>{const n=LP(t),r=LP(e),i={...n};return a=>(i.red=Ax(n.red,r.red,a),i.green=Ax(n.green,r.green,a),i.blue=Ax(n.blue,r.blue,a),i.alpha=xn(n.alpha,r.alpha,a),$l.transform(i))};function yJ(t){var e,n;return isNaN(t)&&lf(t)&&(((e=t.match($v))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(xU))===null||n===void 0?void 0:n.length)||0)>0}const XU={regex:pQ,countKey:"Vars",token:"${v}",parse:kn},YU={regex:xU,countKey:"Colors",token:"${c}",parse:Fr.parse},ZU={regex:$v,countKey:"Numbers",token:"${n}",parse:gc.parse};function Cx(t,{regex:e,countKey:n,token:r,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...a.map(i)))}function V0(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Cx(n,XU),Cx(n,YU),Cx(n,ZU),n}function QU(t){return V0(t).values}function JU(t){const{values:e,numColors:n,numVars:r,tokenised:i}=V0(t),a=e.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(XU.token,s[l]):l<r+n?o=o.replace(YU.token,Fr.transform(s[l])):o=o.replace(ZU.token,$h(s[l]));return o}}const xJ=t=>typeof t=="number"?0:t;function bJ(t){const e=QU(t);return JU(t)(e.map(xJ))}const $o={test:yJ,parse:QU,createTransformer:JU,getAnimatableNone:bJ},KU=(t,e)=>n=>`${n>0?e:t}`;function e4(t,e){return typeof t=="number"?n=>xn(t,e,n):Fr.test(t)?qU(t,e):t.startsWith("var(")?KU(t,e):n4(t,e)}const t4=(t,e)=>{const n=[...t],r=n.length,i=t.map((a,s)=>e4(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},wJ=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=e4(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},n4=(t,e)=>{const n=$o.createTransformer(e),r=V0(t),i=V0(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ro(t4(r.values,i.values),n):KU(t,e)},zp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},NP=(t,e)=>n=>xn(t,e,n);function _J(t){return typeof t=="number"?NP:typeof t=="string"?Fr.test(t)?qU:n4:Array.isArray(t)?t4:typeof t=="object"?wJ:NP}function SJ(t,e,n){const r=[],i=n||_J(t[0]),a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||kn:e;o=Ro(l,o)}r.push(o)}return r}function r4(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(j0(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=SJ(e,r,i),o=s.length,l=c=>{let h=0;if(o>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const p=zp(t[h],t[h+1],c);return s[h](p)};return n?c=>l(Bo(t[0],t[a-1],c)):l}function MJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=zp(0,e,r);t.push(xn(n,1,i))}}function EJ(t){const e=[0];return MJ(e,t.length-1),e}function TJ(t,e){return t.map(n=>n*e)}function AJ(t,e){return t.map(()=>e||$U).splice(0,t.length-1)}function H0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=cJ(r)?r.map(RP):RP(r),a={done:!1,value:e[0]},s=TJ(n&&n.length===e.length?n:EJ(e),t),o=r4(s,e,{ease:Array.isArray(i)?i:AJ(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}function i4(t,e){return e?t*(1e3/e):0}const CJ=5;function a4(t,e,n){const r=Math.max(e-CJ,0);return i4(n-t(r),e-r)}const Px=.001,PJ=.01,RJ=10,LJ=.05,NJ=1;function kJ({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,a,s=1-e;s=Bo(LJ,NJ,s),t=Bo(PJ,RJ,_s(t)),s<1?(i=c=>{const h=c*s,p=h*t,m=h-n,f=Bw(c,s),v=Math.exp(-p);return Px-m/f*v},a=c=>{const h=c*s*t,p=h*n+n,m=Math.pow(s,2)*Math.pow(c,2)*t,f=Math.exp(-h),v=Bw(Math.pow(c,2),s);return(-i(c)+Px>0?-1:1)*((p-m)*f)/v}):(i=c=>{const h=Math.exp(-c*t),p=(c-n)*t+1;return-Px+h*p},a=c=>{const h=Math.exp(-c*t),p=(n-c)*(t*t);return h*p});const o=5/t,l=OJ(i,a,o);if(t=Zl(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const IJ=12;function OJ(t,e,n){let r=n;for(let i=1;i<IJ;i++)r=r-t(r)/e(r);return r}function Bw(t,e){return t*Math.sqrt(1-e*e)}const DJ=["duration","bounce"],UJ=["stiffness","damping","mass"];function kP(t,e){return e.some(n=>t[n]!==void 0)}function zJ(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!kP(t,UJ)&&kP(t,DJ)){const n=kJ(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function s4({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],a=t[t.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:h,velocity:p,isResolvedFromDuration:m}=zJ({...r,velocity:-_s(r.velocity||0)}),f=p||0,v=l/(2*Math.sqrt(o*c)),b=a-i,x=_s(Math.sqrt(o/c)),g=Math.abs(b)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let _;if(v<1){const w=Bw(x,v);_=M=>{const C=Math.exp(-v*x*M);return a-C*((f+v*x*b)/w*Math.sin(w*M)+b*Math.cos(w*M))}}else if(v===1)_=w=>a-Math.exp(-x*w)*(b+(f+x*b)*w);else{const w=x*Math.sqrt(v*v-1);_=M=>{const C=Math.exp(-v*x*M),A=Math.min(w*M,300);return a-C*((f+v*x*b)*Math.sinh(A)+w*b*Math.cosh(A))/w}}return{calculatedDuration:m&&h||null,next:w=>{const M=_(w);if(m)s.done=w>=h;else{let C=f;w!==0&&(v<1?C=a4(_,w,M):C=0);const A=Math.abs(C)<=n,N=Math.abs(a-M)<=e;s.done=A&&N}return s.value=s.done?a:M,s}}}function IP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:h}){const p=t[0],m={done:!1,value:p},f=O=>o!==void 0&&O<o||l!==void 0&&O>l,v=O=>o===void 0?l:l===void 0||Math.abs(o-O)<Math.abs(l-O)?o:l;let b=n*e;const x=p+b,g=s===void 0?x:s(x);g!==x&&(b=g-p);const _=O=>-b*Math.exp(-O/r),w=O=>g+_(O),M=O=>{const P=_(O),I=w(O);m.done=Math.abs(P)<=c,m.value=m.done?g:I};let C,A;const N=O=>{f(m.value)&&(C=O,A=s4({keyframes:[m.value,v(m.value)],velocity:a4(w,O,m.value),damping:i,stiffness:a,restDelta:c,restSpeed:h}))};return N(0),{calculatedDuration:null,next:O=>{let P=!1;return!A&&C===void 0&&(P=!0,M(O),N(O)),C!==void 0&&O>C?A.next(O-C):(!P&&M(O),m)}}}const FJ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>sn.update(e,!0),stop:()=>Ls(e),now:()=>Sr.isProcessing?Sr.timestamp:performance.now()}},OP=2e4;function DP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<OP;)e+=n,r=t.next(e);return e>=OP?1/0:e}const BJ={decay:IP,inertia:IP,tween:H0,keyframes:H0,spring:s4};function W0({autoplay:t=!0,delay:e=0,driver:n=FJ,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:p,...m}){let f=1,v=!1,b,x;const g=()=>{x=new Promise(K=>{b=K})};g();let _;const w=BJ[i]||H0;let M;w!==H0&&typeof r[0]!="number"&&(M=r4([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...m,keyframes:r});let A;o==="mirror"&&(A=w({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let N="idle",O=null,P=null,I=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=DP(C));const{calculatedDuration:H}=C;let q=1/0,se=1/0;H!==null&&(q=H+s,se=q*(a+1)-s);let $=0;const Z=K=>{if(P===null)return;f>0&&(P=Math.min(P,K)),f<0&&(P=Math.min(K-se/f,P)),O!==null?$=O:$=Math.round(K-P)*f;const re=$-e*(f>=0?1:-1),ee=f>=0?re<0:re>se;$=Math.max(re,0),N==="finished"&&O===null&&($=se);let le=$,Le=C;if(a){const Qe=Math.min($,se)/q;let Ue=Math.floor(Qe),he=Qe%1;!he&&Qe>=1&&(he=1),he===1&&Ue--,Ue=Math.min(Ue,a+1),Ue%2&&(o==="reverse"?(he=1-he,s&&(he-=s/q)):o==="mirror"&&(Le=A)),le=Bo(0,1,he)*q}const Ce=ee?{done:!1,value:r[0]}:Le.next(le);M&&(Ce.value=M(Ce.value));let{done:Re}=Ce;!ee&&H!==null&&(Re=f>=0?$>=se:$<=0);const tt=O===null&&(N==="finished"||N==="running"&&Re);return p&&p(Ce.value),tt&&D(),Ce},ne=()=>{_&&_.stop(),_=void 0},ie=()=>{N="idle",ne(),b(),g(),P=I=null},D=()=>{N="finished",h&&h(),ne(),b()},F=()=>{if(v)return;_||(_=n(Z));const K=_.now();l&&l(),O!==null?P=K-O:(!P||N==="finished")&&(P=K),N==="finished"&&g(),I=P,O=null,N="running",_.start()};t&&F();const W={then(K,re){return x.then(K,re)},get time(){return _s($)},set time(K){K=Zl(K),$=K,O!==null||!_||f===0?O=K:P=_.now()-K/f},get duration(){const K=C.calculatedDuration===null?DP(C):C.calculatedDuration;return _s(K)},get speed(){return f},set speed(K){K===f||!_||(f=K,W.time=_s($))},get state(){return N},play:F,pause:()=>{N="paused",O=$},stop:()=>{v=!0,N!=="idle"&&(N="idle",c&&c(),ie())},cancel:()=>{I!==null&&Z(I),ie()},complete:()=>{N="finished"},sample:K=>(P=0,Z(K))};return W}function $J(t){let e;return()=>(e===void 0&&(e=t()),e)}const jJ=$J(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),VJ=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Eg=10,HJ=2e4,WJ=(t,e)=>e.type==="spring"||t==="backgroundColor"||!UU(e.ease);function GJ(t,e,{onUpdate:n,onComplete:r,...i}){if(!(jJ()&&VJ.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,s,o,l=!1;const c=()=>{o=new Promise(g=>{s=g})};c();let{keyframes:h,duration:p=300,ease:m,times:f}=i;if(WJ(e,i)){const g=W0({...i,repeat:0,delay:0});let _={done:!1,value:h[0]};const w=[];let M=0;for(;!_.done&&M<HJ;)_=g.sample(M),w.push(_.value),M+=Eg;f=void 0,h=w,p=M-Eg,m="linear"}const v=nJ(t.owner.current,e,h,{...i,duration:p,ease:m,times:f}),b=()=>{l=!1,v.cancel()},x=()=>{l=!0,sn.update(b),s(),c()};return v.onfinish=()=>{l||(t.set(rJ(h,i)),r&&r(),x())},{then(g,_){return o.then(g,_)},attachTimeline(g){return v.timeline=g,v.onfinish=null,kn},get time(){return _s(v.currentTime||0)},set time(g){v.currentTime=Zl(g)},get speed(){return v.playbackRate},set speed(g){v.playbackRate=g},get duration(){return _s(p)},play:()=>{a||(v.play(),Ls(b))},pause:()=>v.pause(),stop:()=>{if(a=!0,v.playState==="idle")return;const{currentTime:g}=v;if(g){const _=W0({...i,autoplay:!1});t.setWithVelocity(_.sample(g-Eg).value,_.sample(g).value,Eg)}x()},complete:()=>{l||v.finish()},cancel:x}}function qJ({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:kn,pause:kn,stop:kn,then:a=>(a(),Promise.resolve()),cancel:kn,complete:kn});return e?W0({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const XJ={type:"spring",stiffness:500,damping:25,restSpeed:10},YJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ZJ={type:"keyframes",duration:.8},QJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JJ=(t,{keyframes:e})=>e.length>2?ZJ:mc.has(t)?t.startsWith("scale")?YJ(e[1]):XJ:QJ,$w=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($o.test(e)||e==="0")&&!e.startsWith("url(")),KJ=new Set(["brightness","contrast","saturate","opacity"]);function eK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match($v)||[];if(!r)return t;const i=n.replace(r,"");let a=KJ.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const tK=/([a-z-]*)\(.*?\)/g,jw={...$o,getAnimatableNone:t=>{const e=t.match(tK);return e?e.map(eK).join(" "):t}},nK={...bU,color:Fr,backgroundColor:Fr,outlineColor:Fr,fill:Fr,stroke:Fr,borderColor:Fr,borderTopColor:Fr,borderRightColor:Fr,borderBottomColor:Fr,borderLeftColor:Fr,filter:jw,WebkitFilter:jw},DM=t=>nK[t];function o4(t,e){let n=DM(t);return n!==jw&&(n=$o),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const l4=t=>/^0[^.\s]+$/.test(t);function rK(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||l4(t)}function iK(t,e,n,r){const i=$w(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:t.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),rK(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const h=l[c];a[h]=o4(e,o)}return a}function aK({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function UM(t,e){return t[e]||t.default||t}const sK={skipAnimations:!1},zM=(t,e,n,r={})=>i=>{const a=UM(r,t)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-Zl(s);const l=iK(e,t,n,a),c=l[0],h=l[l.length-1],p=$w(t,c),m=$w(t,h);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:v=>{e.set(v),a.onUpdate&&a.onUpdate(v)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(aK(a)||(f={...f,...JJ(t,f)}),f.duration&&(f.duration=Zl(f.duration)),f.repeatDelay&&(f.repeatDelay=Zl(f.repeatDelay)),!p||!m||tJ.current||a.type===!1||sK.skipAnimations)return qJ(f);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=GJ(e,t,f);if(v)return v}return W0(f)};function G0(t){return!!(ci(t)&&t.add)}const c4=t=>/^\-?\d*\.?\d+$/.test(t);function FM(t,e){t.indexOf(e)===-1&&t.push(e)}function BM(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $M{constructor(){this.subscriptions=[]}add(e){return FM(this.subscriptions,e),()=>BM(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oK=t=>!isNaN(parseFloat(t));class lK{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=Sr;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,sn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>sn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=oK(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $M);const r=this.events[e].add(n);return e==="change"?()=>{r(),sn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?i4(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nd(t,e){return new lK(t,e)}const u4=t=>e=>e.test(t),cK={test:t=>t==="auto",parse:t=>t},d4=[gc,xt,$a,ao,vQ,gQ,cK],fh=t=>d4.find(u4(t)),uK=[...d4,Fr,$o],dK=t=>uK.find(u4(t));function hK(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,nd(n))}function pK(t,e){const n=Vv(t,e);let{transitionEnd:r={},transition:i={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=LQ(a[s]);hK(t,s,o)}}function fK(t,e,n){var r,i;const a=Object.keys(e).filter(o=>!t.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),h!=null&&(typeof h=="string"&&(c4(h)||l4(h))?h=parseFloat(h):!dK(h)&&$o.test(c)&&(h=o4(l,c)),t.addValue(l,nd(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function mK(t,e){return e?(e[t]||e.default||e).from:void 0}function gK(t,e,n){const r={};for(const i in t){const a=mK(i,e);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function vK({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yK(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function h4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:s,...o}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(a=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in o){const m=t.getValue(p),f=o[p];if(!m||f===void 0||h&&vK(h,p))continue;const v={delay:n,elapsed:0,...UM(a||{},p)};if(window.HandoffAppearAnimations){const g=t.getProps()[pU];if(g){const _=window.HandoffAppearAnimations(g,p,m,sn);_!==null&&(v.elapsed=_,v.isHandoff=!0)}}let b=!v.isHandoff&&!yK(m,f);if(v.type==="spring"&&(m.getVelocity()||v.velocity)&&(b=!1),m.animation&&(b=!1),b)continue;m.start(zM(p,m,f,t.shouldReduceMotion&&mc.has(p)?{type:!1}:v));const x=m.animation;G0(l)&&(l.add(p),x.then(()=>l.remove(p))),c.push(x)}return s&&Promise.all(c).then(()=>{s&&pK(t,s)}),c}function Vw(t,e,n={}){const r=Vv(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(h4(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:p}=i;return xK(t,e,c+l,h,p,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function xK(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(bK).forEach((c,h)=>{c.notify("AnimationStart",e),s.push(Vw(c,e,{...a,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function bK(t,e){return t.sortNodePosition(e)}function wK(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Vw(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Vw(t,e,n);else{const i=typeof e=="function"?Vv(t,e,n.custom):e;r=Promise.all(h4(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const _K=[...SM].reverse(),SK=SM.length;function MK(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wK(t,n,r)))}function EK(t){let e=MK(t);const n=AK();let r=!0;const i=(l,c)=>{const h=Vv(t,c);if(h){const{transition:p,transitionEnd:m,...f}=h;l={...l,...f,...m}}return l};function a(l){e=l(t)}function s(l,c){const h=t.getProps(),p=t.getVariantContext(!0)||{},m=[],f=new Set;let v={},b=1/0;for(let g=0;g<SK;g++){const _=_K[g],w=n[_],M=h[_]!==void 0?h[_]:p[_],C=Dp(M),A=_===c?w.isActive:null;A===!1&&(b=g);let N=M===p[_]&&M!==h[_]&&C;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),w.protectedKeys={...v},!w.isActive&&A===null||!M&&!w.prevProp||Fv(M)||typeof M=="boolean")continue;let O=TK(w.prevProp,M)||_===c&&w.isActive&&!N&&C||g>b&&C,P=!1;const I=Array.isArray(M)?M:[M];let H=I.reduce(i,{});A===!1&&(H={});const{prevResolvedValues:q={}}=w,se={...q,...H},$=Z=>{O=!0,f.has(Z)&&(P=!0,f.delete(Z)),w.needsAnimating[Z]=!0};for(const Z in se){const ne=H[Z],ie=q[Z];if(v.hasOwnProperty(Z))continue;let D=!1;$0(ne)&&$0(ie)?D=!OU(ne,ie):D=ne!==ie,D?ne!==void 0?$(Z):f.add(Z):ne!==void 0&&f.has(Z)?$(Z):w.protectedKeys[Z]=!0}w.prevProp=M,w.prevResolvedValues=H,w.isActive&&(v={...v,...H}),r&&t.blockInitialAnimation&&(O=!1),O&&(!N||P)&&m.push(...I.map(Z=>({animation:Z,options:{type:_,...l}})))}if(f.size){const g={};f.forEach(_=>{const w=t.getBaseTarget(_);w!==void 0&&(g[_]=w)}),m.push({animation:g})}let x=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(m):Promise.resolve()}function o(l,c,h){var p;if(n[l].isActive===c)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(f=>{var v;return(v=f.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const m=s(h,l);for(const f in n)n[f].protectedKeys={};return m}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function TK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!OU(e,t):!1}function wl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AK(){return{animate:wl(!0),whileInView:wl(),whileHover:wl(),whileTap:wl(),whileDrag:wl(),whileFocus:wl(),exit:wl()}}class CK extends Zo{constructor(e){super(e),e.animationState||(e.animationState=EK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Fv(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let PK=0;class RK extends Zo{constructor(){super(...arguments),this.id=PK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LK={animation:{Feature:CK},exit:{Feature:RK}},UP=(t,e)=>Math.abs(t-e);function NK(t,e){const n=UP(t.x,e.x),r=UP(t.y,e.y);return Math.sqrt(n**2+r**2)}class p4{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Lx(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=NK(p.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:v}=p,{timestamp:b}=Sr;this.history.push({...v,timestamp:b});const{onStart:x,onMove:g}=this.handlers;m||(x&&x(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Rx(m,this.transformPagePoint),sn.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:f,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Lx(p.type==="pointercancel"?this.lastMoveEventInfo:Rx(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(p,x),v&&v(p,x)},!RU(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=jv(e),o=Rx(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=Sr;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Lx(o,this.history)),this.removeListeners=Ro(ws(this.contextWindow,"pointermove",this.handlePointerMove),ws(this.contextWindow,"pointerup",this.handlePointerUp),ws(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ls(this.updatePoint)}}function Rx(t,e){return e?{point:e(t.point)}:t}function zP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lx({point:t},e){return{point:t,delta:zP(t,f4(e)),offset:zP(t,kK(e)),velocity:IK(e,.1)}}function kK(t){return t[0]}function f4(t){return t[t.length-1]}function IK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=f4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Zl(e)));)n--;if(!r)return{x:0,y:0};const a=_s(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ai(t){return t.max-t.min}function Hw(t,e=0,n=.01){return Math.abs(t-e)<=n}function FP(t,e,n,r=.5){t.origin=r,t.originPoint=xn(e.min,e.max,t.origin),t.scale=Ai(n)/Ai(e),(Hw(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=xn(n.min,n.max,t.origin)-t.originPoint,(Hw(t.translate)||isNaN(t.translate))&&(t.translate=0)}function jh(t,e,n,r){FP(t.x,e.x,n.x,r?r.originX:void 0),FP(t.y,e.y,n.y,r?r.originY:void 0)}function BP(t,e,n){t.min=n.min+e.min,t.max=t.min+Ai(e)}function OK(t,e,n){BP(t.x,e.x,n.x),BP(t.y,e.y,n.y)}function $P(t,e,n){t.min=e.min-n.min,t.max=t.min+Ai(e)}function Vh(t,e,n){$P(t.x,e.x,n.x),$P(t.y,e.y,n.y)}function DK(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xn(n,t,r.max):Math.min(t,n)),t}function jP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function UK(t,{top:e,left:n,bottom:r,right:i}){return{x:jP(t.x,n,i),y:jP(t.y,e,r)}}function VP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zK(t,e){return{x:VP(t.x,e.x),y:VP(t.y,e.y)}}function FK(t,e){let n=.5;const r=Ai(t),i=Ai(e);return i>r?n=zp(e.min,e.max-r,t.min):r>i&&(n=zp(t.min,t.max-i,e.min)),Bo(0,1,n)}function BK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ww=.35;function $K(t=Ww){return t===!1?t=0:t===!0&&(t=Ww),{x:HP(t,"left","right"),y:HP(t,"top","bottom")}}function HP(t,e,n){return{min:WP(t,e),max:WP(t,n)}}function WP(t,e){return typeof t=="number"?t:t[e]||0}const GP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cu=()=>({x:GP(),y:GP()}),qP=()=>({min:0,max:0}),Bn=()=>({x:qP(),y:qP()});function Bi(t){return[t("x"),t("y")]}function m4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function jK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function VK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Nx(t){return t===void 0||t===1}function Gw({scale:t,scaleX:e,scaleY:n}){return!Nx(t)||!Nx(e)||!Nx(n)}function Al(t){return Gw(t)||g4(t)||t.z||t.rotate||t.rotateX||t.rotateY}function g4(t){return XP(t.x)||XP(t.y)}function XP(t){return t&&t!=="0%"}function q0(t,e,n){const r=t-n,i=e*r;return n+i}function YP(t,e,n,r,i){return i!==void 0&&(t=q0(t,i,r)),q0(t,n,r)+e}function qw(t,e=0,n=1,r,i){t.min=YP(t.min,e,n,r,i),t.max=YP(t.max,e,n,r,i)}function v4(t,{x:e,y:n}){qw(t.x,e.translate,e.scale,e.originPoint),qw(t.y,n.translate,n.scale,n.originPoint)}function HK(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Pu(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,v4(t,s)),r&&Al(a.latestValues)&&Pu(t,a.latestValues))}e.x=ZP(e.x),e.y=ZP(e.y)}function ZP(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function co(t,e){t.min=t.min+e,t.max=t.max+e}function QP(t,e,[n,r,i]){const a=e[i]!==void 0?e[i]:.5,s=xn(t.min,t.max,a);qw(t,e[n],e[r],s,e.scale)}const WK=["x","scaleX","originX"],GK=["y","scaleY","originY"];function Pu(t,e){QP(t.x,e,WK),QP(t.y,e,GK)}function y4(t,e){return m4(VK(t.getBoundingClientRect(),e))}function qK(t,e,n){const r=y4(t,n),{scroll:i}=e;return i&&(co(r.x,i.offset.x),co(r.y,i.offset.y)),r}const x4=({current:t})=>t?t.ownerDocument.defaultView:null,XK=new WeakMap;class YK{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jv(h,"page").point)},a=(h,p)=>{const{drag:m,dragPropagation:f,onDragStart:v}=this.getProps();if(m&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=NU(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bi(x=>{let g=this.getAxisMotionValue(x).get()||0;if($a.test(g)){const{projection:_}=this.visualElement;if(_&&_.layout){const w=_.layout.layoutBox[x];w&&(g=Ai(w)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&sn.update(()=>v(h,p),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},s=(h,p)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:v,onDrag:b}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:x}=p;if(f&&this.currentDirection===null){this.currentDirection=ZK(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,x),this.updateAxis("y",p.point,x),this.visualElement.render(),b&&b(h,p)},o=(h,p)=>this.stop(h,p),l=()=>Bi(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new p4(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:x4(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&sn.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Tg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=DK(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Tu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=UK(i.layoutBox,n):this.constraints=!1,this.elastic=$K(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bi(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=BK(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Tu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=qK(r,i.root,this.visualElement.getTransformPagePoint());let s=zK(i.layout.layoutBox,a);if(n){const o=n(jK(s));this.hasMutatedConstraints=!!o,o&&(s=m4(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Bi(h=>{if(!Tg(h,n,this.currentDirection))return;let p=l&&l[h]||{};s&&(p={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(zM(e,r,0,n))}stopAnimation(){Bi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bi(n=>{const{drag:r}=this.getProps();if(!Tg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-xn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Tu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bi(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=FK({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bi(s=>{if(!Tg(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(xn(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;XK.set(this.visualElement,this);const e=this.visualElement.current,n=ws(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Tu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ys(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Bi(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=l[h].translate,p.set(p.get()+l[h].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=Ww,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Tg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ZK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QK extends Zo{constructor(e){super(e),this.removeGroupControls=kn,this.removeListeners=kn,this.controls=new YK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const JP=t=>(e,n)=>{t&&sn.update(()=>t(e,n))};class JK extends Zo{constructor(){super(...arguments),this.removePointerDownListener=kn}onPointerDown(e){this.session=new p4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:x4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:JP(e),onStart:JP(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&sn.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=ws(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function KK(){const t=L.useContext(Uv);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=L.useId();return L.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Kg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xt.test(t))t=parseFloat(t);else return t;const n=KP(t,e.target.x),r=KP(t,e.target.y);return`${n}% ${r}%`}},eee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=$o.parse(t);if(i.length>5)return r;const a=$o.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const c=xn(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class tee extends We.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;cQ(nee),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Kg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||sn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function b4(t){const[e,n]=KK(),r=L.useContext(EM);return We.createElement(tee,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(mU),isPresent:e,safeToRemove:n})}const nee={borderRadius:{...mh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mh,borderTopRightRadius:mh,borderBottomLeftRadius:mh,borderBottomRightRadius:mh,boxShadow:eee},w4=["TopLeft","TopRight","BottomLeft","BottomRight"],ree=w4.length,e3=t=>typeof t=="string"?parseFloat(t):t,t3=t=>typeof t=="number"||xt.test(t);function iee(t,e,n,r,i,a){i?(t.opacity=xn(0,n.opacity!==void 0?n.opacity:1,aee(r)),t.opacityExit=xn(e.opacity!==void 0?e.opacity:1,0,see(r))):a&&(t.opacity=xn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<ree;s++){const o=`border${w4[s]}Radius`;let l=n3(e,o),c=n3(n,o);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||t3(l)===t3(c)?(t[o]=Math.max(xn(e3(l),e3(c),r),0),($a.test(c)||$a.test(l))&&(t[o]+="%")):t[o]=c)}(e.rotate||n.rotate)&&(t.rotate=xn(e.rotate||0,n.rotate||0,r))}function n3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aee=_4(0,.5,HU),see=_4(.5,.95,kn);function _4(t,e,n){return r=>r<t?0:r>e?1:n(zp(t,e,r))}function r3(t,e){t.min=e.min,t.max=e.max}function Fi(t,e){r3(t.x,e.x),r3(t.y,e.y)}function i3(t,e,n,r,i){return t-=e,t=q0(t,1/n,r),i!==void 0&&(t=q0(t,1/i,r)),t}function oee(t,e=0,n=1,r=.5,i,a=t,s=t){if($a.test(e)&&(e=parseFloat(e),e=xn(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=xn(a.min,a.max,r);t===a&&(o-=e),t.min=i3(t.min,e,n,o,i),t.max=i3(t.max,e,n,o,i)}function a3(t,e,[n,r,i],a,s){oee(t,e[n],e[r],e[i],e.scale,a,s)}const lee=["x","scaleX","originX"],cee=["y","scaleY","originY"];function s3(t,e,n,r){a3(t.x,e,lee,n?n.x:void 0,r?r.x:void 0),a3(t.y,e,cee,n?n.y:void 0,r?r.y:void 0)}function o3(t){return t.translate===0&&t.scale===1}function S4(t){return o3(t.x)&&o3(t.y)}function uee(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function M4(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function l3(t){return Ai(t.x)/Ai(t.y)}class dee{constructor(){this.members=[]}add(e){FM(this.members,e),e.scheduleRender()}remove(e){if(BM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function c3(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const s=t.x.scale*e.x,o=t.y.scale*e.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const hee=(t,e)=>t.depth-e.depth;class pee{constructor(){this.children=[],this.isDirty=!1}add(e){FM(this.children,e),this.isDirty=!0}remove(e){BM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hee),this.isDirty=!1,this.children.forEach(e)}}function fee(t,e){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Ls(r),t(a-e))};return sn.read(r,!0),()=>Ls(r)}function mee(t){window.MotionDebug&&window.MotionDebug.record(t)}function gee(t){return t instanceof SVGElement&&t.tagName!=="svg"}function vee(t,e,n){const r=ci(t)?t:nd(t);return r.start(zM("",r,e,n)),r.animation}const u3=["","X","Y","Z"],yee={visibility:"hidden"},d3=1e3;let xee=0;const Cl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function E4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},s=e==null?void 0:e()){this.id=xee++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cl.totalNodes=Cl.resolvedTargetDeltas=Cl.recalculatedProjection=0,this.nodes.forEach(_ee),this.nodes.forEach(Aee),this.nodes.forEach(Cee),this.nodes.forEach(See),mee(Cl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new pee)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new $M),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const o=this.eventHandlers.get(a);o&&o.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gee(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(l||o)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=fee(p,250),Kg.hasAnimatedSinceResize&&(Kg.hasAnimatedSinceResize=!1,this.nodes.forEach(p3))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||kee,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=c.getProps(),g=!this.targetLayout||!M4(this.targetLayout,f)||m,_=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const w={...UM(v,"layout"),onPlay:b,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else p||p3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pee),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:s,layout:o}=this.options;if(s===void 0&&!o)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(h3);return}this.isUpdating||this.nodes.forEach(Eee),this.isUpdating=!1,this.nodes.forEach(Tee),this.nodes.forEach(bee),this.nodes.forEach(wee),this.clearAllSnapshots();const a=performance.now();Sr.delta=Bo(0,1e3/60,a-Sr.timestamp),Sr.timestamp=a,Sr.isProcessing=!0,_x.update.process(Sr),_x.preRender.process(Sr),_x.render.process(Sr),Sr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Mee),this.sharedNodes.forEach(Ree)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!S4(this.projectionDelta),o=this.getTransformTemplate(),l=o?o(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;a&&(s||Al(this.latestValues)||c)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let o=this.removeElementScroll(s);return a&&(o=this.removeTransform(o)),Iee(o),{animationId:this.root.animationId,measuredBox:s,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Bn();const s=a.measureViewportBox(),{scroll:o}=this.root;return o&&(co(s.x,o.offset.x),co(s.y,o.offset.y)),s}removeElementScroll(a){const s=Bn();Fi(s,a);for(let o=0;o<this.path.length;o++){const l=this.path[o],{scroll:c,options:h}=l;if(l!==this.root&&c&&h.layoutScroll){if(c.isRoot){Fi(s,a);const{scroll:p}=this.root;p&&(co(s.x,-p.offset.x),co(s.y,-p.offset.y))}co(s.x,c.offset.x),co(s.y,c.offset.y)}}return s}applyTransform(a,s=!1){const o=Bn();Fi(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Pu(o,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Al(c.latestValues)&&Pu(o,c.latestValues)}return Al(this.latestValues)&&Pu(o,this.latestValues),o}removeTransform(a){const s=Bn();Fi(s,a);for(let o=0;o<this.path.length;o++){const l=this.path[o];if(!l.instance||!Al(l.latestValues))continue;Gw(l.latestValues)&&l.updateSnapshot();const c=Bn(),h=l.measurePageBox();Fi(c,h),s3(s,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Al(this.latestValues)&&s3(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var s;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=Sr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bn(),this.relativeTargetOrigin=Bn(),Vh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Bn(),this.targetWithTransforms=Bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fi(this.target,this.layout.layoutBox),v4(this.target,this.targetDelta)):Fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bn(),this.relativeTargetOrigin=Bn(),Vh(this.relativeTargetOrigin,this.target,p.target),Fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gw(this.parent.latestValues)||g4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Sr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Fi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;HK(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:f}=s;if(!f){this.projectionTransform&&(this.projectionDelta=Cu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Cu(),this.projectionDeltaWithTransform=Cu());const v=this.projectionTransform;jh(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=c3(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f)),Cl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,s=!1){const o=this.snapshot,l=o?o.latestValues:{},c={...this.latestValues},h=Cu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const p=Bn(),m=o?o.source:void 0,f=this.layout?this.layout.source:void 0,v=m!==f,b=this.getStack(),x=!b||b.members.length<=1,g=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(Nee));this.animationProgress=0;let _;this.mixTargetDelta=w=>{const M=w/1e3;f3(h.x,a.x,M),f3(h.y,a.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lee(this.relativeTarget,this.relativeTargetOrigin,p,M),_&&uee(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Bn()),Fi(_,this.relativeTarget)),v&&(this.animationValues=c,iee(c,l,this.latestValues,M,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sn.update(()=>{Kg.hasAnimatedSinceResize=!0,this.currentAnimation=vee(0,d3,{...a,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:o,layout:l,latestValues:c}=a;if(!(!s||!o||!l)){if(this!==a&&this.layout&&l&&T4(this.options.animationType,this.layout.layoutBox,l.layoutBox)){o=this.target||Bn();const h=Ai(this.layout.layoutBox.x);o.x.min=a.target.x.min,o.x.max=o.x.min+h;const p=Ai(this.layout.layoutBox.y);o.y.min=a.target.y.min,o.y.max=o.y.min+p}Fi(s,o),Pu(s,c),jh(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new dee),this.sharedNodes.get(a).add(s);const o=s.options.initialPromotionConfig;s.promote({transition:o?o.transition:void 0,preserveFollowOpacity:o&&o.shouldPreserveFollowOpacity?o.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:o}={}){const l=this.getStack();l&&l.promote(this,o),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:o}=a;if((o.rotate||o.rotateX||o.rotateY||o.rotateZ)&&(s=!0),!s)return;const l={};for(let c=0;c<u3.length;c++){const h="rotate"+u3[c];o[h]&&(l[h]=o[h],a.setStaticValue(h,0))}a.render();for(const c in l)a.setStaticValue(c,l[c]);a.scheduleRender()}getProjectionStyles(a){var s,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yee;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Jg(a==null?void 0:a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Jg(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Al(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=c3(this.projectionDeltaWithTransform,this.treeScale,p),c&&(l.transform=c(p,l.transform));const{x:m,y:f}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${f.origin*100}% 0`,h.animationValues?l.opacity=h===this?(o=(s=p.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in F0){if(p[v]===void 0)continue;const{correct:b,applyTo:x}=F0[v],g=l.transform==="none"?p[v]:b(p[v],h);if(x){const _=x.length;for(let w=0;w<_;w++)l[x[w]]=g}else l[v]=g}return this.options.layoutId&&(l.pointerEvents=h===this?Jg(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(h3),this.root.sharedNodes.clear()}}}function bee(t){t.updateLayout()}function wee(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?Bi(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],f=Ai(m);m.min=r[p].min,m.max=m.min+f}):T4(a,n.layoutBox,r)&&Bi(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],f=Ai(r[p]);m.max=m.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+f)});const o=Cu();jh(o,r,n.layoutBox);const l=Cu();s?jh(l,t.applyTransform(i,!0),n.measuredBox):jh(l,r,n.layoutBox);const c=!S4(o);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:f}=p;if(m&&f){const v=Bn();Vh(v,n.layoutBox,m.layoutBox);const b=Bn();Vh(b,r,f.layoutBox),M4(v,b)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function _ee(t){Cl.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function See(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Mee(t){t.clearSnapshot()}function h3(t){t.clearMeasurements()}function Eee(t){t.isLayoutDirty=!1}function Tee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function p3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Aee(t){t.resolveTargetDelta()}function Cee(t){t.calcProjection()}function Pee(t){t.resetRotation()}function Ree(t){t.removeLeadSnapshot()}function f3(t,e,n){t.translate=xn(e.translate,0,n),t.scale=xn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function m3(t,e,n,r){t.min=xn(e.min,n.min,r),t.max=xn(e.max,n.max,r)}function Lee(t,e,n,r){m3(t.x,e.x,n.x,r),m3(t.y,e.y,n.y,r)}function Nee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kee={duration:.45,ease:[.4,0,.1,1]},g3=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),v3=g3("applewebkit/")&&!g3("chrome/")?Math.round:kn;function y3(t){t.min=v3(t.min),t.max=v3(t.max)}function Iee(t){y3(t.x),y3(t.y)}function T4(t,e,n){return t==="position"||t==="preserve-aspect"&&!Hw(l3(e),l3(n),.2)}const Oee=E4({attachResizeListener:(t,e)=>ys(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kx={current:void 0},A4=E4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kx.current){const t=new Oee({});t.mount(window),t.setOptions({layoutScroll:!0}),kx.current=t}return kx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Dee={pan:{Feature:JK},drag:{Feature:QK,ProjectionNode:A4,MeasureLayout:b4}},Uee=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zee(t){const e=Uee.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Xw(t,e,n=1){const[r,i]=zee(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return c4(s)?parseFloat(s):s}else return Uw(i)?Xw(i,e,n+1):i}function Fee(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const a=i.get();if(!Uw(a))return;const s=Xw(a,r);s&&i.set(s)});for(const i in e){const a=e[i];if(!Uw(a))continue;const s=Xw(a,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:e,transitionEnd:n}}const Bee=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),C4=t=>Bee.has(t),$ee=t=>Object.keys(t).some(C4),x3=t=>t===gc||t===xt,b3=(t,e)=>parseFloat(t.split(", ")[e]),w3=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return b3(i[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?b3(a[1],t):0}},jee=new Set(["x","y","z"]),Vee=of.filter(t=>!jee.has(t));function Hee(t){const e=[];return Vee.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const rd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:w3(4,13),y:w3(5,14)};rd.translateX=rd.x;rd.translateY=rd.y;const Wee=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{o[c]=rd[c](r,a)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(o[c]),t[c]=rd[c](l,a)}),t},Gee=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(C4);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],p=fh(h);const m=e[l];let f;if($0(m)){const v=m.length,b=m[0]===null?1:0;h=m[b],p=fh(h);for(let x=b;x<v&&m[x]!==null;x++)f?j0(fh(m[x])===f):f=fh(m[x])}else f=fh(m);if(p!==f)if(x3(p)&&x3(f)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof m=="string"?e[l]=parseFloat(m):Array.isArray(m)&&f===xt&&(e[l]=m.map(parseFloat))}else p!=null&&p.transform&&f!=null&&f.transform&&(h===0||m===0)?h===0?c.set(f.transform(h)):e[l]=p.transform(m):(s||(a=Hee(t),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(m))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Wee(e,t,o);return a.length&&a.forEach(([h,p])=>{t.getValue(h).set(p)}),t.render(),zv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function qee(t,e,n,r){return $ee(e)?Gee(t,e,n,r):{target:e,transitionEnd:r}}const Xee=(t,e,n,r)=>{const i=Fee(t,e,r);return e=i.target,r=i.transitionEnd,qee(t,e,n,r)},Yw={current:null},P4={current:!1};function Yee(){if(P4.current=!0,!!zv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yw.current=t.matches;t.addListener(e),e()}else Yw.current=!1}function Zee(t,e,n){const{willChange:r}=e;for(const i in e){const a=e[i],s=n[i];if(ci(a))t.addValue(i,a),G0(r)&&r.add(i);else if(ci(s))t.addValue(i,nd(a,{owner:t})),G0(r)&&r.remove(i);else if(s!==a)if(t.hasValue(i)){const o=t.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=t.getStaticValue(i);t.addValue(i,nd(o!==void 0?o:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const _3=new WeakMap,R4=Object.keys(Up),Qee=R4.length,S3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Jee=MM.length;class Kee{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sn.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Bv(n),this.isVariantNode=fU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const p in h){const m=h[p];o[p]!==void 0&&ci(m)&&(m.set(o[p],!1),G0(c)&&c.add(p))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,_3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),P4.current||Yee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_3.delete(this.current),this.projection&&this.projection.unmount(),Ls(this.notifyUpdate),Ls(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=mc.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&sn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,a){let s,o;for(let l=0;l<Qee;l++){const c=R4[l],{isEnabled:h,Feature:p,ProjectionNode:m,MeasureLayout:f}=Up[c];m&&(s=m),h(n)&&(!this.features[c]&&p&&(this.features[c]=new p(this)),f&&(o=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:p,layoutScroll:m,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||p&&Tu(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:m,layoutRoot:f})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<S3.length;r++){const i=S3[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Zee(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Jee;r++){const i=MM[r],a=this.props[i];(Dp(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=nd(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=NM(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ci(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $M),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class L4 extends Kee{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},a){let s=gK(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){fK(this,r,s);const o=Xee(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:e,transitionEnd:n,...r}}}function ete(t){return window.getComputedStyle(t)}class tte extends L4{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(mc.has(n)){const r=DM(n);return r&&r.default||0}else{const r=ete(e),i=(yU(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return y4(e,n)}build(e,n,r,i){AM(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return LM(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ci(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){MU(e,n,r,i)}}class nte extends L4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mc.has(n)){const r=DM(n);return r&&r.default||0}return n=EU.has(n)?n:_M(n),e.getAttribute(n)}measureInstanceViewportBox(){return Bn()}scrapeMotionValuesFromProps(e,n){return AU(e,n)}build(e,n,r,i){PM(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){TU(e,n,r,i)}mount(e){this.isSVGTag=RM(e.tagName),super.mount(e)}}const rte=(t,e)=>TM(t)?new nte(e,{enableHardwareAcceleration:!1}):new tte(e,{enableHardwareAcceleration:!0}),ite={layout:{ProjectionNode:A4,MeasureLayout:b4}},ate={...LK,...JQ,...Dee,...ite},Gi=oQ((t,e)=>FQ(t,e,ate,rte));function N4(){const t=L.useRef(!1);return wM(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function ste(){const t=N4(),[e,n]=L.useState(0),r=L.useCallback(()=>{t.current&&n(e+1)},[e]);return[L.useCallback(()=>sn.postRender(r),[r]),e]}class ote extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function lte({children:t,isPresent:e}){const n=L.useId(),r=L.useRef(null),i=L.useRef({width:0,height:0,top:0,left:0});return L.useInsertionEffect(()=>{const{width:a,height:s,top:o,left:l}=i.current;if(e||!r.current||!a||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${s}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),L.createElement(ote,{isPresent:e,childRef:r,sizeRef:i},L.cloneElement(t,{ref:r}))}const Ix=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=CU(cte),l=L.useId(),c=L.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:h=>{o.set(h,!0);for(const p of o.values())if(!p)return;r&&r()},register:h=>(o.set(h,!1),()=>o.delete(h))}),a?void 0:[n]);return L.useMemo(()=>{o.forEach((h,p)=>o.set(p,!1))},[n]),L.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(t=L.createElement(lte,{isPresent:n},t)),L.createElement(Uv.Provider,{value:c},t)};function cte(){return new Map}function ute(t){return L.useEffect(()=>()=>t(),[])}const Pl=t=>t.key||"";function dte(t,e){t.forEach(n=>{const r=Pl(n);e.set(r,n)})}function hte(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const pte=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:s="sync"})=>{const o=L.useContext(EM).forceRender||ste()[0],l=N4(),c=hte(t);let h=c;const p=L.useRef(new Map).current,m=L.useRef(h),f=L.useRef(new Map).current,v=L.useRef(!0);if(wM(()=>{v.current=!1,dte(c,f),m.current=h}),ute(()=>{v.current=!0,f.clear(),p.clear()}),v.current)return L.createElement(L.Fragment,null,h.map(_=>L.createElement(Ix,{key:Pl(_),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:s},_)));h=[...h];const b=m.current.map(Pl),x=c.map(Pl),g=b.length;for(let _=0;_<g;_++){const w=b[_];x.indexOf(w)===-1&&!p.has(w)&&p.set(w,void 0)}return s==="wait"&&p.size&&(h=[]),p.forEach((_,w)=>{if(x.indexOf(w)!==-1)return;const M=f.get(w);if(!M)return;const C=b.indexOf(w);let A=_;if(!A){const N=()=>{p.delete(w);const O=Array.from(f.keys()).filter(P=>!x.includes(P));if(O.forEach(P=>f.delete(P)),m.current=c.filter(P=>{const I=Pl(P);return I===w||O.includes(I)}),!p.size){if(l.current===!1)return;o(),r&&r()}};A=L.createElement(Ix,{key:Pl(M),isPresent:!1,onExitComplete:N,custom:e,presenceAffectsLayout:a,mode:s},M),p.set(w,A)}h.splice(C,0,A)}),h=h.map(_=>{const w=_.key;return p.has(w)?_:L.createElement(Ix,{key:Pl(_),isPresent:!0,presenceAffectsLayout:a,mode:s},_)}),L.createElement(L.Fragment,null,p.size?h:h.map(_=>L.cloneElement(_)))},fte=[{id:"linguistic-bridges",name:"Seamless Linguistic Bridges",subtitle:"Interpretation & Translation Services",description:"Elite multilingual teams delivering international-standard interpretation and translation across English, French, Arabic, Portuguese, Kiswahili, and Spanish. Backed by decades of service with the United Nations, African Union, and regional economic communities, we ensure accuracy, cultural intelligence, and diplomatic precision in every engagement.",expanded:"Engage with interpreters who understand policy nuance, negotiation dynamics, and protocol. We build linguistic corridors that protect intent and accelerate alignment across ministries, boardrooms, and multilateral corridors.",accentFrom:"#0ea5e9",accentTo:"#22d3ee"},{id:"narrative-architects",name:"Narrative Architects",subtitle:"Writing, Publishing & Professional Profiling",description:"From books and business studies to high-impact resumes and thought leadership content, our expert writers and editors transform ideas into authoritative narratives. This service elevates individuals and institutions by shaping clarity, credibility, and long-term influence.",expanded:"Editorial teams pair research discipline with executive storytelling. Expect structured messaging frameworks, publication-ready manuscripts, and profiles that travel confidently across global audiences.",accentFrom:"#a855f7",accentTo:"#f97316"},{id:"digital-visionaries",name:"Digital Visionaries",subtitle:"Web Design & Digital Presence",description:"Highly qualified web designers craft digital platforms that reflect authority, trust, and scalability. We design not just websitesbut strategic digital assets that communicate value, convert audiences, and endure in competitive markets.",expanded:"Every build is anchored in brand governance, content strategy, and conversion architecture. We choreograph motion, narrative, and proof points so your digital front door signals institutional caliber from the first pixel.",accentFrom:"#38bdf8",accentTo:"#0ea5e9"},{id:"fiscal-guardians",name:"Fiscal Guardians",subtitle:"Accounting & Auditing Services",description:"Certified accountants and auditors deliver rigorous financial oversight, compliance assurance, and strategic insight. Beyond numbers, we provide clarityhelping organizations optimize performance, mitigate risk, and plan confidently.",expanded:"Our teams implement disciplined controls, transparent reporting, and board-ready dashboards. Expect advisory that balances fiduciary responsibility with pragmatic guidance across complex jurisdictions.",accentFrom:"#22d3ee",accentTo:"#38ef7d"},{id:"diplomatic-catalysts",name:"Diplomatic Catalysts",subtitle:"African Business Facilitation",description:"Direct access to specialized African diplomats enables seamless initiation of business studies, government engagement, and market entry across the continent. This service transforms regulatory complexity into navigable opportunity.",expanded:"We align investors, policymakers, and local partners with discretion and pace. From initial approach to implementation, we compress timelines and de-risk expansion through trusted diplomatic channels.",accentFrom:"#f59e0b",accentTo:"#f97316"},{id:"holistic-innovators",name:"Holistic Innovators",subtitle:"Sector Experts & Advisory Services",description:"A multidisciplinary network of experts in agribusiness, infrastructure, architecture, MIS, HR advisory, and more. Ideal for organizations seeking integrated solutions grounded in regional expertise and execution excellence.",expanded:"We curate bespoke squads that combine technical mastery with contextual intelligence. The result: initiatives that are viable, fundable, and sustainably delivered across African markets.",accentFrom:"#7dd3fc",accentTo:"#22d3ee"},{id:"continental-commerce",name:"Gateway to Continental Commerce",subtitle:"Export & Import Facilitation Across Africa",description:"End-to-end trade facilitation services supporting exports and imports across Africa. Leveraging regulatory mastery, logistics networks, and cross-border experience, we streamline transactions and unlock sustainable trade pathways at competitive value.",expanded:"We orchestrate documentation, compliance, and corridor partners so goods move with fewer delays and greater visibility. Our teams protect margin, timelines, and reputation through disciplined execution.",accentFrom:"#22c55e",accentTo:"#0ea5e9"}],mte="bg-[radial-gradient(circle_at_20%_20%,rgba(34,211,238,0.08),transparent_35%),radial-gradient(circle_at_80%_0%,rgba(148,163,184,0.12),transparent_32%),linear-gradient(140deg,#030712,#050b17,#03060f)]",gte=()=>{const[t,e]=L.useState(null),n=L.useMemo(()=>fte,[]);return T.jsxs("section",{className:`relative text-white py-20 md:py-24 overflow-hidden ${mte}`,children:[T.jsxs("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":!0,children:[T.jsx("div",{className:"absolute left-1/2 top-12 -translate-x-1/2 w-[620px] h-[620px] bg-cyan-500/10 blur-3xl rounded-full"}),T.jsx("div",{className:"absolute -left-10 bottom-0 w-80 h-80 bg-sky-300/10 blur-3xl rounded-full"})]}),T.jsxs("div",{className:"relative container mx-auto px-6 md:px-10",children:[T.jsxs(Gi.div,{className:"max-w-4xl space-y-4 mb-12",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.65},children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-cyan-100/70",children:"Curated engagements"}),T.jsx("h2",{className:"text-3xl md:text-5xl font-semibold leading-tight text-white",children:"Services I Can Assist You With"}),T.jsx("p",{className:"text-lg md:text-xl text-slate-200/85 max-w-3xl",children:"Strategic, multi-disciplinary support designed to accelerate global ambitions across Africa and beyond."})]}),T.jsx("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8",children:n.map((r,i)=>{const a=t===r.id;return T.jsxs(Gi.button,{type:"button","aria-expanded":a,onClick:()=>e(a?null:r.id),className:"group relative w-full overflow-hidden rounded-2xl border border-white/10 bg-white/5 backdrop-blur-lg p-6 text-left shadow-xl transition duration-500",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.35},whileHover:{y:-10},transition:{duration:.55,delay:i*.12,ease:[.4,0,.2,1]},children:[T.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{boxShadow:"0 0 0 1px rgba(255,255,255,0.04), 0 25px 80px rgba(34,211,238,0.08)"},"aria-hidden":!0}),T.jsxs("div",{className:"flex items-start gap-4 md:gap-5 relative",children:[T.jsx("span",{className:"inline-flex h-12 w-12 items-center justify-center rounded-full border border-white/10 bg-white/10 shadow-inner shadow-black/40",style:{background:`linear-gradient(145deg, ${r.accentFrom}22, ${r.accentTo}33)`},children:T.jsxs(Gi.svg,{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white/90",initial:{rotate:0},whileHover:{rotate:6},transition:{type:"spring",stiffness:160,damping:18},children:[T.jsx("path",{d:"M4 8.5C4 6.015 6.015 4 8.5 4h7c2.485 0 4.5 2.015 4.5 4.5v7c0 2.485-2.015 4.5-4.5 4.5h-7C6.015 20 4 17.985 4 15.5v-7Z",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M9 10.5c0-.828.895-1.5 2-1.5h2c1.105 0 2 .672 2 1.5 0 .829-.895 1.5-2 1.5h-2c-1.105 0-2 .671-2 1.5 0 .828.895 1.5 2 1.5h2c1.105 0 2-.672 2-1.5",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("circle",{cx:"9.25",cy:"7.75",r:"0.75",fill:"currentColor"}),T.jsx("circle",{cx:"14.75",cy:"16.25",r:"0.75",fill:"currentColor"})]})}),T.jsxs("div",{className:"flex-1 space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-between gap-3",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-cyan-50/70",children:r.subtitle}),T.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-white",children:r.name})]}),T.jsx("span",{className:"text-sm font-medium text-cyan-100/80 transition group-hover:text-cyan-100",children:"Discuss this service "})]}),T.jsx("p",{className:"text-base text-slate-100/80 leading-relaxed",children:r.description})]})]}),T.jsx(pte,{children:a&&T.jsxs(Gi.div,{initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:18},exit:{opacity:0,height:0,marginTop:0},transition:{duration:.35,ease:[.4,0,.2,1]},className:"rounded-xl border border-white/10 bg-white/5 px-5 py-4",children:[T.jsx("p",{className:"text-sm md:text-base text-slate-100/85 leading-relaxed",children:r.expanded}),T.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[T.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-medium text-cyan-100",children:[T.jsx("span",{className:"inline-block h-1.5 w-10 rounded-full",style:{background:`linear-gradient(90deg, ${r.accentFrom}, ${r.accentTo})`}}),"Deeper overview"]}),T.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-semibold text-white",children:["Request consultation",T.jsx("span",{"aria-hidden":!0,children:""})]})]})]})})]},r.id)})}),T.jsxs("div",{className:"mt-12 md:mt-14 flex flex-col md:flex-row md:items-center md:justify-between gap-4 rounded-2xl border border-white/10 bg-white/5 px-6 py-5 backdrop-blur-md",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.18em] text-cyan-50/70",children:"Ready to explore"}),T.jsx("p",{className:"text-lg md:text-xl text-white",children:"Ready to explore how these services can support your objectives?"}),T.jsx("p",{className:"text-slate-200/80",children:"Lets begin a strategic conversation "})]}),T.jsxs("div",{className:"inline-flex items-center gap-3 rounded-full border border-cyan-200/40 bg-white/5 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-cyan-500/10",children:[T.jsx("span",{className:"h-2 w-2 rounded-full bg-gradient-to-r from-cyan-300 to-sky-400 animate-pulse","aria-hidden":!0}),T.jsx("span",{children:"Schedule a consultation"}),T.jsx("span",{"aria-hidden":!0,className:"text-cyan-100",children:""})]})]})]})]})},gh={id:"bridging-africa",title:{en:"Bridging Africas Horizons: From Insight to Impact",fr:"Relier les horizons africains : de l'analyse  l'impact",ar:"  :    ",es:"Bridging Africas Horizons: From Insight to Impact"},symbol:"An abstract bridge / horizon / convergence icon representing access, continuity, and connection.",thesis:{en:"Turning continental complexity into decisive action through institutional fluency and trusted networks.",fr:"Transformer la complexit continentale en action dcisive grce  la matrise institutionnelle et  des rseaux de confiance.",ar:"           .",es:"Convertir la complejidad continental en accin decisiva mediante la fluidez institucional y redes de confianza."},narrative:{en:["Africa is not merely a continent  it is a convergence of 55 sovereign voices, aligned toward a shared future under Agenda 2063: The Africa We Want.","For more than fifteen years, I operated at the very center of this vision as a professional within the African Union Commission (AUC) in Addis Ababa  the executive engine that unites member states in pursuit of peace, integration, and prosperity.","During this tenure, I worked within the inner architecture of continental decision-making: facilitating high-level engagements among heads of state, collaborating across directorates on trade, economic development, peace and security, and infrastructure, and contributing to landmark initiatives such as the African Continental Free Trade Area (AfCFTA).","This experience provided more than institutional knowledge  it delivered operational fluency in Africas regulatory environments, governmental protocols, and evolving market realities. More importantly, it forged enduring relationships with senior stakeholders across ministries, regional economic communities, and private-sector leadership throughout the continent.","Today, this legacy functions not as a credential, but as a strategic bridge.","Supported by a trusted network of former AUC colleagues and continent-wide professional alliances, I help organizations move faster, clearer, and with confidence. Whether your objective is market intelligence, policy navigation, government engagement, research, business facilitation, or export strategy, complexity is converted into clarity  and delay into momentum.","In an environment where time is the true currency of opportunity, insight earned inside Africas institutional core ensures your ambitions are not merely viable  they are visionary.","Africa opens fastest to those who understand how it moves.","Let us turn continental potential into your tangible success Reach out todayAfrica's doors open swiftest with the right key."],fr:["L'Afrique n'est pas seulement un continent  c'est la convergence de 55 voix souveraines, alignes vers un avenir commun sous l'Agenda 2063 : L'Afrique que nous voulons.","Pendant plus de quinze ans, j'ai travaill au cur mme de cette vision en tant que professionnel au sein de la Commission de l'Union africaine (CUA)  Addis-Abeba  le moteur excutif qui fdre les tats membres dans la qute de la paix, de l'intgration et de la prosprit.","Au cours de ce mandat, j'ai volu au sein de l'architecture interne de la dcision continentale : facilitation des changes de haut niveau entre chefs d'tat, collaboration interdirections sur le commerce, le dveloppement conomique, la paix et la scurit, les infrastructures, et contribution  des initiatives phares comme la Zone de libre-change continentale africaine (ZLECAf).","Cette exprience m'a apport bien plus qu'une connaissance institutionnelle  elle m'a donn une matrise oprationnelle des environnements rglementaires africains, des protocoles gouvernementaux et des ralits de march en volution. Plus encore, elle a forg des relations durables avec des parties prenantes de haut niveau dans les ministres, les communauts conomiques rgionales et les dirigeants du secteur priv  travers le continent.","Aujourd'hui, cet hritage n'est pas un simple titre, c'est un pont stratgique.","Appuy par un rseau de confiance d'anciens collgues de la CUA et d'alliances professionnelles  l'chelle du continent, j'aide les organisations  avancer plus vite, plus clairement et avec assurance. Qu'il s'agisse d'intelligence de march, de navigation politique, d'engagement gouvernemental, de recherche, de facilitation des affaires ou de stratgie d'exportation, la complexit se transforme en clart  et les retards en lan.","Dans un environnement o le temps est la vritable monnaie de l'opportunit, les insights acquis au cur institutionnel de l'Afrique garantissent que vos ambitions ne sont pas seulement viables  elles sont visionnaires.","L'Afrique s'ouvre plus vite  ceux qui comprennent sa dynamique.","Transformons le potentiel du continent en succs concret pour vous. Contactez-moi ds aujourd'hui  les portes de l'Afrique s'ouvrent plus vite avec la bonne cl."],ar:["       55          2063:   .","                              .","         :                             (AfCFTA).","                     .                   .","         .","                     .                            .","                       .","       .","       .           ."],es:["frica no es simplemente un continente: es la convergencia de 55 voces soberanas, alineadas hacia un futuro compartido bajo la Agenda 2063: El frica que queremos.","Durante ms de quince aos trabaj en el centro de esta visin como profesional en la Comisin de la Unin Africana (AUC) en Addis Abeba: el motor ejecutivo que une a los estados miembros en la bsqueda de paz, integracin y prosperidad.","Durante ese periodo trabaj en la arquitectura interna de la toma de decisiones continental: facilitando encuentros de alto nivel entre jefes de Estado, colaborando entre direcciones en comercio, desarrollo econmico, paz y seguridad e infraestructura, y contribuyendo a iniciativas emblemticas como la Zona de Libre Comercio Continental Africana (AfCFTA).","Esta experiencia aport ms que conocimiento institucional: proporcion fluidez operativa en los entornos regulatorios africanos, protocolos gubernamentales y realidades de mercado en evolucin. Ms importante an, forj relaciones duraderas con altos responsables en ministerios, comunidades econmicas regionales y liderazgos del sector privado en todo el continente.","Hoy, ese legado funciona no como un ttulo, sino como un puente estratgico.","Apoyado por una red de confianza de ex colegas de la AUC y alianzas profesionales en todo el continente, ayudo a las organizaciones a avanzar ms rpido, con mayor claridad y confianza. Ya sea para inteligencia de mercado, navegacin de polticas, compromiso gubernamental, investigacin, facilitacin de negocios o estrategia de exportacin, la complejidad se convierte en claridad y la demora en impulso.","En un entorno donde el tiempo es la verdadera moneda de la oportunidad, la visin adquirida desde el ncleo institucional africano asegura que tus ambiciones no solo sean viables: sean visionarias.","frica se abre ms rpido para quienes entienden cmo se mueve.","Convirtamos el potencial continental en tu xito tangible. Contctame hoy: las puertas de frica se abren ms rpido con la llave adecuada."]}},vte={en:"Belief System",fr:"Systme de convictions",ar:" ",es:"Sistema de creencias"},Ag=[.4,0,.2,1],yte=()=>{const{language:t}=Yo(),[e,n]=L.useState(0),r=L.useRef([]),i=L.useRef(0),a=L.useRef(0),s=vte[t],o={id:gh.id,title:gh.title[t],symbol:gh.symbol,thesis:gh.thesis[t],narrative:gh.narrative[t]};return L.useEffect(()=>{r.current=[],i.current=0,n(0)},[t]),L.useEffect(()=>{const l=requestAnimationFrame(()=>{window.dispatchEvent(new Event("scroll"))});return()=>cancelAnimationFrame(l)},[t,o.narrative.length]),L.useEffect(()=>{const l=()=>{const p=window.innerHeight/2,m=p-window.innerHeight*.22,f=p+window.innerHeight*.22;let v=i.current,b=Number.POSITIVE_INFINITY,x=-1;if(r.current.forEach((g,_)=>{if(!g)return;const w=g.getBoundingClientRect(),M=w.top+w.height/2,C=Math.abs(M-p);M>=m&&M<=f&&(x===-1||C<b)&&(x=_,b=C),C<b&&(v=_,b=C)}),x!==-1&&(v=x),v!==i.current){const g=r.current[i.current];let _=Number.POSITIVE_INFINITY;if(g){const N=g.getBoundingClientRect();_=Math.abs(N.top+N.height/2-p)}const w=60,M=performance.now(),C=M-a.current>180,A=b+w<_;(x!==-1||C&&A)&&(i.current=v,a.current=M,n(v))}};let c=!1;const h=()=>{c||(c=!0,requestAnimationFrame(()=>{l(),c=!1}))};return l(),window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",h),()=>{window.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[]),T.jsxs("section",{className:"relative overflow-hidden bg-[#050816] text-white py-24 md:py-32",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#071128] via-[#050c1c] to-[#020510]","aria-hidden":!0}),T.jsx("div",{className:"absolute inset-0 opacity-65","aria-hidden":!0,style:{backgroundImage:"radial-gradient(circle at 22% 18%, rgba(103,232,249,0.14), transparent 38%), radial-gradient(circle at 78% 64%, rgba(251,191,36,0.1), transparent 36%)"}}),T.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.05)_1px,transparent_1px)] bg-[size:140px_140px] opacity-30","aria-hidden":!0}),T.jsxs("div",{className:"relative container mx-auto px-6 md:px-10",children:[T.jsx("header",{className:"flex flex-col gap-6 mb-16",children:T.jsxs("div",{className:"space-y-3 max-w-4xl",children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.22em] text-cyan-100/70",children:s}),T.jsx("h2",{className:"text-3xl md:text-4xl font-semibold text-white md:text-[2.6rem] leading-tight",children:o.title}),T.jsx("p",{className:"text-slate-200/90 text-xl leading-relaxed md:text-[1.25rem]",children:o.thesis})]})}),T.jsx("div",{className:"relative flex flex-col gap-8",children:o.narrative.map((l,c)=>{const h=c===e;return T.jsxs(Gi.article,{"data-index":c,ref:p=>{r.current[c]=p},initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.35},animate:{opacity:h?1:.5,scale:h?1:.987,filter:h?"saturate(1)":"saturate(0.9)"},transition:{duration:.8,ease:Ag},className:"relative overflow-hidden rounded-[28px] border border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_28px_120px_rgba(0,0,0,0.36)]",style:{willChange:"transform, opacity"},children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/8 via-transparent to-white/4","aria-hidden":!0}),T.jsx(Gi.div,{className:"absolute inset-0",animate:{opacity:h?.5:.2,background:h?"radial-gradient(circle at 58% 22%, rgba(103,232,249,0.2), transparent 45%), radial-gradient(circle at 32% 82%, rgba(251,191,36,0.16), transparent 38%)":"radial-gradient(circle at 50% 24%, rgba(103,232,249,0.1), transparent 40%)"},transition:{duration:.9,ease:Ag},"aria-hidden":!0}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-white/5 opacity-60","aria-hidden":!0}),T.jsx("div",{className:"absolute left-0 top-0 h-full w-[3px] bg-gradient-to-b from-cyan-300/0 via-cyan-200/50 to-amber-200/0","aria-hidden":!0}),T.jsx("div",{className:"relative z-10 flex h-full flex-col justify-center px-6 py-12 sm:px-9 md:px-14",children:T.jsxs("div",{className:"relative",style:{overflow:"hidden",maxHeight:h?"none":"10.5rem"},children:[T.jsx(Gi.p,{initial:{opacity:0,y:24},animate:{opacity:h?1:.7,y:h?0:6,lineHeight:h?"2":"1.6"},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.35},transition:{duration:.8,ease:Ag},className:"text-[1.25rem] md:text-[1.6rem] text-slate-50",style:{willChange:"transform, opacity"},children:l}),T.jsx(Gi.div,{className:"pointer-events-none absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-white/10 to-transparent",animate:{opacity:h?0:.85},transition:{duration:.6,ease:Ag}})]})})]},`${o.id}-${c}`)})})]})]})},xte=[{title:{en:"Advisory",fr:"Conseil",ar:"",es:"Asesora"},body:{en:"Executive counsel for negotiations and decision rooms where language and alignment decide outcomes.",fr:"Conseil excutif pour les ngociations et les salles de dcision o la langue et l'alignement dterminent les rsultats.",ar:"         .",es:"Asesoramiento ejecutivo para negociaciones y salas de decisin donde el lenguaje y la alineacin definen el resultado."}},{title:{en:"Intelligence",fr:"Intelligence",ar:" ",es:"Inteligencia"},body:{en:"Institutional insight that translates complexity into actionable pathways across regions and mandates.",fr:"Intelligence institutionnelle qui transforme la complexit en pistes actionnables entre rgions et mandats.",ar:"         .",es:"Perspectiva institucional que convierte la complejidad en rutas accionables entre regiones y mandatos."}},{title:{en:"Cultural Strategy",fr:"Stratgie culturelle",ar:" ",es:"Estrategia cultural"},body:{en:"Cross-cultural choreography that keeps stakeholders synchronized and reduces risk in multi-market execution.",fr:"Chorgraphie interculturelle qui synchronise les parties prenantes et rduit les risques dans l'excution multi-marchs.",ar:"            .",es:"Coreografa intercultural que mantiene a los stakeholders sincronizados y reduce el riesgo en la ejecucin multinacional."}}],bte={en:{kicker:"Value Proposition",title:"Interactive panels",sub:"Distinct capabilities designed to support leadership, insight, and coordinated action."},fr:{kicker:"Proposition de valeur",title:"Panneaux interactifs",sub:"Des surfaces vitres qui s'inclinent avec intentionchaque panneau ouvrant sur un principe opratoire."},ar:{kicker:" ",title:" ",sub:"        ."},es:{kicker:"Propuesta de valor",title:"Paneles interactivos",sub:"Superficies tipo vidrio que se inclinan con intencincada panel es una puerta a un principio operativo."}},wte=()=>{const{language:t}=Yo(),e=bte[t];return T.jsxs("section",{className:"relative bg-[#0a1022] text-white py-16 md:py-20 overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0d1836] via-[#0b132b] to-[#060915]","aria-hidden":!0}),T.jsxs("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":!0,children:[T.jsx("div",{className:"absolute left-10 top-8 w-72 h-72 rounded-full bg-cyan-400/6 blur-3xl"}),T.jsx("div",{className:"absolute right-10 bottom-0 w-80 h-80 rounded-full bg-amber-200/6 blur-3xl"})]}),T.jsxs("div",{className:"relative container mx-auto px-6 md:px-10",children:[T.jsxs(Gi.div,{className:"max-w-3xl space-y-3 mb-10",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.35},transition:{duration:.6},children:[T.jsx("p",{className:"uppercase tracking-[0.25em] text-sm text-cyan-200/70",children:e.kicker}),T.jsx("h2",{className:"text-3xl md:text-4xl font-semibold text-white",children:e.title}),T.jsx("p",{className:"text-slate-200/80 max-w-2xl",children:e.sub})]}),T.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:xte.map((n,r)=>T.jsxs(Gi.div,{className:"group relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 shadow-lg shadow-cyan-500/10 transition-transform duration-500 hover:-translate-y-2 hover:shadow-cyan-400/20",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.3},transition:{duration:.55,delay:r*.08},children:[T.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{background:"linear-gradient(135deg, rgba(124,193,255,0.12), rgba(91,230,255,0.06))"}}),T.jsxs("div",{className:"relative z-10 space-y-3",children:[T.jsx("h3",{className:"text-xl font-semibold text-white",children:n.title[t]}),T.jsx("p",{className:"text-slate-200/80 text-sm md:text-base leading-relaxed",children:n.body[t]}),T.jsx("div",{className:"w-10 h-[1px] bg-gradient-to-r from-cyan-300/80 to-transparent"})]})]},n.title.en))})]})]})},_te={en:{kicker:"Consultation",title:"Engage in Strategic Consultation",body:"A focused, decision-level engagement designed for leaders navigating cross-regional stakes. One call to align intent, language, and execution.",primary:"Begin the conversation",secondary:"Review strategic work"},fr:{kicker:"Consultation",title:"Engager une consultation stratgique",body:"Un change cibl au niveau dcisionnel pour les dirigeants avec des enjeux interrgionaux. Un appel pour aligner intention, langage et excution.",primary:"Commencer la conversation",secondary:"Voir les travaux stratgiques"},ar:{kicker:"",title:"  ",body:"            .      .",primary:" ",secondary:"  "},es:{kicker:"Consulta",title:"Participa en una consulta estratgica",body:"Un compromiso focalizado a nivel decisorio diseado para lderes que navegan asuntos interregionales. Una llamada para alinear intencin, lenguaje y ejecucin.",primary:"Iniciar la conversacin",secondary:"Revisar trabajos estratgicos"}},Ste=()=>{const{language:t}=Yo(),e=_te[t];return T.jsxs("section",{id:"consultation",className:"relative bg-[#050814] text-white py-18 md:py-20 overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#081025] via-[#050814] to-[#04060d]","aria-hidden":!0}),T.jsxs("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":!0,children:[T.jsx("div",{className:"absolute -left-16 top-0 w-72 h-72 rounded-full bg-cyan-400/12 blur-3xl"}),T.jsx("div",{className:"absolute right-0 bottom-0 w-96 h-96 rounded-full bg-emerald-200/10 blur-3xl"}),T.jsx("div",{className:"absolute inset-0",style:{boxShadow:"inset 0 0 120px rgba(0,0,0,0.55)"}})]}),T.jsx("div",{className:"relative container mx-auto px-6 md:px-10",children:T.jsxs(Gi.div,{className:"max-w-4xl mx-auto text-center space-y-5",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.35},transition:{duration:.6},children:[T.jsx("p",{className:"uppercase tracking-[0.25em] text-sm text-cyan-200/70",children:e.kicker}),T.jsx("h2",{className:"text-3xl md:text-4xl font-semibold text-white leading-tight",children:e.title}),T.jsx("p",{className:"text-slate-200/80 max-w-2xl mx-auto",children:e.body}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-3 pt-2",children:[T.jsxs("a",{href:"mailto:shawqialwaily@outlook.com?subject=Strategic%20Consultation",className:"group inline-flex items-center px-6 py-3 rounded-md bg-white text-[#0b132b] font-medium shadow-lg shadow-cyan-400/15 transition-transform duration-300 hover:-translate-y-1",children:[e.primary,T.jsx("span",{className:"ml-2 inline-block transition-transform duration-300 group-hover:translate-x-1",children:""})]}),T.jsx("a",{href:"/work",className:"inline-flex items-center px-6 py-3 rounded-md border border-white/20 text-white/85 backdrop-blur-sm transition-transform duration-300 hover:-translate-y-1",children:e.secondary})]})]})})]})},Zw={name:"Shawqi AlWaily",image:"/portrait.jpg",socialLinks:{twitter:"https://twitter.com",linkedin:"https://linkedin.com",youtube:"https://youtube.com",instagram:"https://instagram.com"}},Qw=[{id:"book-1",slug:"the-visionary-mind",title:{en:"From Failure to Success",fr:"De la Guerre par Procuration  la Paix par Procuration",ar:"     ",es:"Del fracaso al xito"},description:{en:"This book is more than an analysis; it's a movement. Africas tomorrow is being decided by todays leadership choices. Africas transformation hinges on leaders who wield power as architects, not captives; crafting progress through service, not control. True change demands parties that transcend power struggle to become genuine agents of collective will, rooted in moral courage and the peoples trust. Yet their path winds through economic pressures, cultural tides, and institutional legacies. The balance is delicate: systems must empower leaders, while leaders must fortify systems. Beyond policies, Africa needs governance with soul; where power is exercised with principle, vision, and unshakable commitment to uplift. The future belongs to those who lead not just with strategy, but with conscience.",fr:"Une analyse gopolitique complte des dynamiques du Moyen-Orient avec un focus critique sur l'Arabie Saoudite et les mirats Arabes Unis - Un examen critique du pouvoir rgional, de l'volution stratgique et de l'architecture des conflits contemporains Shawqi Alwaily 30 octobre 2025",ar:"                -            30  2025",es:"Este libro es ms que un anlisis; es un movimiento. El maana de frica se decide por las decisiones de liderazgo de hoy. La transformacin del continente depende de lderes que ejerzan el poder como arquitectos y no como cautivos; que articulen el progreso mediante el servicio, no el control. El verdadero cambio exige fuerzas polticas que trasciendan la lucha por el poder y se conviertan en agentes genuinos de la voluntad colectiva, arraigados en el coraje moral y la confianza del pueblo. Su camino atraviesa presiones econmicas, corrientes culturales y legados institucionales. El equilibrio es delicado: los sistemas deben empoderar a los lderes, y los lderes deben fortalecer los sistemas. Ms all de las polticas, frica necesita gobernanza con alma; donde el poder se ejerza con principio, visin y un compromiso inquebrantable con la elevacin colectiva. El futuro pertenece a quienes lideran no solo con estrategia, sino con conciencia."},excerpt:{en:"",fr:"",ar:"",es:""},cover:"/book-cover-1.jpg",amazonUrl:"https://www.amazon.com/dp/B0FW5CCX6W",year:2023},{id:"book-2",slug:"leading-through-chaos",title:{en:"   ",fr:"   ",ar:"   ",es:"Hasta que llegue la hora"},description:{en:`Introduction: The Crucible of Leadership

Chaos is not the enemy of leadershipit is its proving ground. Throughout history, the greatest leaders have not emerged from periods of stability and comfort, but from the crucible of crisis and uncertainty. It is in these moments that true character is revealed and authentic leadership is forged.

This book is not a manual for avoiding chaos. Such a manual cannot exist, for chaos is an inevitable companion of progress. Instead, this is a guide to embracing chaos as a catalyst for transformation.`,fr:`Introduction: Le Creuset du Leadership

Le chaos n'est pas l'ennemi du leadershipc'est son terrain d'preuve. Tout au long de l'histoire, les plus grands leaders n'ont pas merg de priodes de stabilit et de confort, mais du creuset de la crise et de l'incertitude. C'est dans ces moments que le vrai caractre est rvl et que le leadership authentique est forg.

Ce livre n'est pas un manuel pour viter le chaos. Un tel manuel ne peut pas exister, car le chaos est un compagnon invitable du progrs. C'est plutt un guide pour embrasser le chaos comme catalyseur de transformation.`,ar:`                               .                                .             

       .`,es:`Introduccin: La forja del liderazgo

El caos no es enemigo del liderazgo; es su campo de prueba. A lo largo de la historia, los grandes lderes no han emergido de perodos de estabilidad y comodidad, sino de la forja de la crisis y la incertidumbre. En estos momentos se revela el carcter verdadero y se forja el liderazgo autntico.

Este libro no es un manual para evitar el caos. Tal manual no puede existir, porque el caos es un compaero inevitable del progreso. Ms bien, es una gua para abrazar el caos como catalizador de la transformacin.`},excerpt:{en:`Introduction: The Crucible of Leadership

Chaos is not the enemy of leadershipit is its proving ground. Throughout history, the greatest leaders have not emerged from periods of stability and comfort, but from the crucible of crisis and uncertainty. It is in these moments that true character is revealed and authentic leadership is forged.

This book is not a manual for avoiding chaos. Such a manual cannot exist, for chaos is an inevitable companion of progress. Instead, this is a guide to embracing chaos as a catalyst for transformation.`,fr:`Introduction: Le Creuset du Leadership

Le chaos n'est pas l'ennemi du leadershipc'est son terrain d'preuve. Tout au long de l'histoire, les plus grands leaders n'ont pas merg de priodes de stabilit et de confort, mais du creuset de la crise et de l'incertitude. C'est dans ces moments que le vrai caractre est rvl et que le leadership authentique est forg.

Ce livre n'est pas un manuel pour viter le chaos. Un tel manuel ne peut pas exister, car le chaos est un compagnon invitable du progrs. C'est plutt un guide pour embrasser le chaos comme catalyseur de transformation.`,ar:`:  

     .                .         .

     .            .       .`},cover:"/book-cover-2.jpg",amazonUrl:"https://www.amazon.com/dp/B0FVM4K7N2",year:2021},{id:"book-3",slug:"the-art-of-influence",title:{en:"EXAMINING DETERMINISTIC NARRATIVES OF AFRICAN DEVELOPMENT",fr:"EXAMEN DES RCITS DTERMINISTES DU DVELOPPEMENT AFRICAIN",ar:"    ",es:"EXAMEN DE LAS NARRATIVAS DETERMINISTAS DEL DESARROLLO AFRICANO"},description:{en:"The analysis provides intensive examination of Ethiopia's multifaceted challenges including the devastating Tigray War (2020-2022) that caused an estimated 385,000-600,000 deaths, rising poverty rates projected to reach 43% by 2025 (up from 33% in 2016), debt default and restructuring, and ongoing ethnic conflicts.",fr:"L'analyse fournit un examen approfondi des dfis multiples de l'thiopie y compris la guerre dvastatrice du Tigr (2020-2022) qui a caus environ 385 000  600 000 morts, des taux de pauvret en hausse projets  43% d'ici 2025 (contre 33% en 2016), le dfaut de paiement et la restructuration de la dette, et les conflits ethniques en cours.",ar:"              (2020-2022)       385,000-600,000          43%  2025 (  33%  2016)         .",es:"El anlisis ofrece un examen profundo de los desafos multifacticos de Etiopa, incluida la devastadora guerra de Tigray (2020-2022) que caus entre 385.000 y 600.000 muertes, el aumento de las tasas de pobreza proyectadas hasta el 43% para 2025 (desde el 33% en 2016), el impago y la reestructuracin de la deuda, y los conflictos tnicos en curso."},excerpt:{en:`Preface: Beyond Manipulation

Influence is perhaps the most misunderstood aspect of leadership. In popular culture, influence is often conflated with manipulationthe cynical art of bending others to one's will through deception or coercion. But true influence operates on an entirely different plane.

Authentic influence is not about controlling others; it is about inspiring them. It is not about imposing your vision; it is about helping others discover their own vision and aligning it with a greater purpose.`,fr:`Prface: Au-del de la Manipulation

L'influence est peut-tre l'aspect le plus mal compris du leadership. Dans la culture populaire, l'influence est souvent confondue avec la manipulationl'art cynique de plier les autres  sa volont par la tromperie ou la coercition. Mais la vritable influence opre sur un plan entirement diffrent.

L'influence authentique ne consiste pas  contrler les autres; il s'agit de les inspirer. Il ne s'agit pas d'imposer votre vision; il s'agit d'aider les autres  dcouvrir leur propre vision et  l'aligner sur un objectif plus grand.`,ar:`:   

        .                  .        .

         .                .`,es:`Prefacio: Ms all de la manipulacin

La influencia es quizs el aspecto ms malentendido del liderazgo. En la cultura popular, la influencia a menudo se confunde con la manipulacin: el arte cnico de someter a otros a la propia voluntad mediante el engao o la coercin. Pero la verdadera influencia opera en un plano totalmente distinto.

La influencia autntica no consiste en controlar a los dems; consiste en inspirarlos. No se trata de imponer tu visin; se trata de ayudar a otros a descubrir su propia visin y alinearla con un propsito mayor.`},cover:"/book-cover-3.jpg",amazonUrl:"https://www.amazon.com",year:2019},{id:"book-4",slug:"foundations-of-excellence",title:{en:"The Mask of Civility",fr:"Le Masque de la Civilit",ar:" ",es:"La mscara de la civilidad"},description:{en:"The Mask of Civility: A Philosophical Inquiry into Human Nature, Self-Reliance, and the Architecture of National Greatness Shawqi Alwaily October 1st, 2025",fr:"Le Masque de la Civilit: Une enqute philosophique sur la nature humaine, l'autosuffisance et l'architecture de la grandeur nationale Shawqi Alwaily 1er octobre 2025",ar:" :              1  2025",es:"La mscara de la civilidad: Una investigacin filosfica sobre la naturaleza humana, la autosuficiencia y la arquitectura de la grandeza nacional. Shawqi Alwaily 1 de octubre de 2025"},excerpt:{en:`Chapter 1: The Bedrock of Greatness

Every enduring organization, every lasting legacy, every monument to human achievement stands upon a foundation. This foundation is not built of stone or steel, but of principlesthe immutable truths that guide decision-making, shape culture, and determine destiny.

In studying organizations that have thrived for decades or even centuries, I have discovered a remarkable pattern: their success is not attributable to any single innovation or strategy, but to the unwavering commitment to a set of foundational principles.`,fr:`Chapitre 1: Le Socle de la Grandeur

Chaque organisation durable, chaque hritage durable, chaque monument  l'accomplissement humain repose sur une fondation. Cette fondation n'est pas faite de pierre ou d'acier, mais de principesles vrits immuables qui guident la prise de dcision, faonnent la culture et dterminent le destin.

En tudiant les organisations qui ont prospr pendant des dcennies voire des sicles, j'ai dcouvert un schma remarquable: leur succs n'est pas attribuable  une seule innovation ou stratgie, mais  l'engagement inbranlable envers un ensemble de principes fondamentaux.`,ar:` :  

            .                    .

           :                 .`,es:`Captulo 1: La Base de la Grandeza

Cada organizacin perdurable, cada legado duradero, cada monumento al logro humano se sostiene sobre una base. Esta base no est construida de piedra o acero, sino de principioslas verdades inmutables que guan la toma de decisiones, moldean la cultura y determinan el destino.

Al estudiar organizaciones que han prosperado durante dcadas o incluso siglos, he descubierto un patrn notable: su xito no se atribuye a ninguna innovacin o estrategia nica, sino al compromiso inquebrantable con un conjunto de principios fundamentales.`},cover:"/book-cover-4.jpg",amazonUrl:"https://www.amazon.com",year:2017}],sc=()=>{const{t,isRTL:e}=Yo(),n=()=>{window.location.href="mailto:kindehenok@gmail.com",setTimeout(()=>{window.open("https://www.linkedin.com/in/henok-kinde-648b9021b/","_blank")},1e3)},r=[{icon:iD,url:"http://x.com/shawky39851988",label:"X"},{icon:rD,url:"https://www.linkedin.com/in/shawqi-alwaily-886744111/",label:"LinkedIn"},{icon:nD,url:"https://www.facebook.com/shawki.mohammed.1",label:"Facebook"}],i=new Date().getFullYear();return T.jsxs("footer",{className:"relative overflow-hidden bg-[#050816] text-white",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0b1530] via-[#080f24] to-[#04060d]","aria-hidden":!0}),T.jsxs("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":!0,children:[T.jsx("div",{className:"absolute -left-24 top-0 w-72 h-72 rounded-full bg-cyan-400/12 blur-3xl"}),T.jsx("div",{className:"absolute right-0 bottom-0 w-96 h-96 rounded-full bg-emerald-200/10 blur-3xl"}),T.jsx("div",{className:"absolute inset-0",style:{boxShadow:"inset 0 0 120px rgba(0,0,0,0.45)"}})]}),T.jsx("div",{className:"relative max-w-6xl mx-auto px-6 md:px-10 pt-16 pb-12 z-10"}),T.jsx("div",{className:"relative z-10 border-t border-white/10 bg-white/5",children:T.jsx("div",{className:"max-w-6xl mx-auto px-6 md:px-10 py-10",children:T.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[T.jsx("h3",{className:"font-playfair text-2xl md:text-3xl font-bold text-white",children:Zw.name}),T.jsx("div",{className:"flex gap-4",children:r.map(a=>T.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all duration-300 hover:shadow-glow","aria-label":a.label,children:T.jsx(a.icon,{className:"w-4 h-4"})},a.label))}),T.jsxs("p",{className:"text-slate-300/80 text-sm flex items-center gap-2",children:[T.jsxs("span",{children:[" ",i," ",Zw.name,"."]}),T.jsx("span",{children:t("footer.rights")})]}),T.jsxs("p",{children:["Designed & developed by |"," ",T.jsx("a",{href:"#",onClick:a=>{a.preventDefault(),n()},className:"cursor-pointer underline",children:"Henok Demelash"})]})]})})})]})},Mte=L.lazy(()=>zL(()=>S5(()=>import("./HeroSection-DVICUbL1-CLcOvqsj.js"),__vite__mapDeps([0,1])),_O([0,1,2]))),Ete=L.lazy(()=>zL(()=>Promise.resolve().then(()=>Nte),void 0)),Tte=()=>{const t=fc();return L.useEffect(()=>{if(t.hash){const e=document.querySelector(t.hash);e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},100)}},[t]),T.jsxs("div",{className:"relative min-h-screen bg-background",children:[T.jsx(ac,{}),T.jsxs("main",{children:[T.jsx(L.Suspense,{fallback:T.jsx("div",{className:"min-h-[50vh] bg-[#050816]"}),children:T.jsx(Mte,{})}),T.jsx(gte,{}),T.jsx(yte,{}),T.jsx(wte,{}),T.jsx(L.Suspense,{fallback:T.jsx("div",{className:"min-h-[60vh] bg-[#070d1e]"}),children:T.jsx(Ete,{})}),T.jsx(Ste,{})]}),T.jsx(sc,{})]})},Ate=eD("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-light shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-accent text-accent-foreground hover:bg-accent-dark font-medium rounded-full shadow-sm hover:shadow-glow transition-all duration-300",premium:"bg-gradient-to-r from-accent to-accent-dark text-accent-foreground font-medium rounded-full shadow-md hover:shadow-glow transition-all duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-14 px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Jw=L.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const s=r?AG:"button";return T.jsx(s,{className:Mr(Ate({variant:e,size:n,className:t})),ref:a,...i})});Jw.displayName="Button";const Cte=()=>{const{slug:t}=sU(),e=sf(),{t:n,language:r,isRTL:i}=Yo(),[a,s]=L.useState(!1),o=Qw.find(l=>l.slug===t);return L.useEffect(()=>{window.scrollTo(0,0);const l=setTimeout(()=>s(!0),100);return()=>clearTimeout(l)},[t]),o?T.jsxs("div",{className:"min-h-screen bg-[#050816] text-white",children:[T.jsx(ac,{}),T.jsx("main",{className:"relative pt-24 overflow-hidden",children:T.jsxs("section",{className:"relative py-16 md:py-24 overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0b1530] via-[#060b17] to-[#04060d]","aria-hidden":!0}),T.jsxs("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":!0,children:[T.jsx("div",{className:"absolute -left-24 top-10 w-72 h-72 rounded-full bg-cyan-400/12 blur-3xl"}),T.jsx("div",{className:"absolute right-0 bottom-0 w-96 h-96 rounded-full bg-emerald-200/10 blur-3xl"})]}),T.jsxs("div",{className:"relative container mx-auto px-4 md:px-8",children:[T.jsxs(Ov,{to:"/#books",className:`inline-flex items-center gap-2 text-cyan-200 hover:text-white transition-colors mb-8 ${i?"flex-row-reverse":""}`,children:[i?T.jsx(_9,{className:"w-5 h-5"}):T.jsx(sM,{className:"w-5 h-5"}),T.jsx("span",{className:"font-medium",children:n("books.backToBooks")})]}),T.jsxs("div",{className:`grid lg:grid-cols-3 gap-8 lg:gap-12 items-start ${i?"lg:grid-flow-dense":""}`,children:[T.jsx("div",{className:`flex justify-center ${a?"animate-slide-in-left":"opacity-0"} lg:col-span-1`,children:T.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-white/10 bg-white/5 backdrop-blur-md shadow-lg shadow-cyan-500/20 p-3",children:[T.jsx("img",{src:o.cover,alt:o.title.en,className:"w-64 md:w-72 lg:w-full h-auto object-cover rounded-lg shadow-book"}),T.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:"inset 0 0 80px rgba(0,0,0,0.45)"}})]})}),T.jsx("div",{className:"hidden lg:flex items-center justify-center",children:T.jsx("div",{className:"h-56 w-px bg-white/20"})}),T.jsxs("div",{className:`space-y-6 lg:col-span-1 ${a?"animate-slide-in-right":"opacity-0"}`,style:{animationDelay:"0.2s"},children:[T.jsxs("div",{children:[T.jsx("h2",{className:"font-playfair text-3xl md:text-4xl font-bold text-white",children:o.title[r]}),T.jsx("p",{className:"text-slate-200/80 mt-2",children:o.year})]}),T.jsx("div",{children:T.jsx("p",{className:"text-slate-200 text-lg leading-relaxed",children:o.description[r]})}),o.amazonUrl&&T.jsx("div",{className:"pt-2",children:T.jsx("a",{href:o.amazonUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex",children:T.jsx(Jw,{variant:"default",className:"shadow-lg shadow-cyan-500/15 hover:shadow-cyan-500/25",children:i?"  ":"Buy on Amazon"})})})]})]})]})]})}),T.jsx(sc,{})]}):T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"text-4xl font-playfair font-bold text-foreground mb-4",children:"Book Not Found"}),T.jsx(Jw,{onClick:()=>e("/"),children:n("books.backToBooks")})]})})},Pte=()=>T.jsxs("div",{className:"min-h-screen bg-[#050816] text-white",children:[T.jsx(ac,{}),T.jsxs("main",{className:"relative pt-28 pb-20 overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0b1530] via-[#060b17] to-[#04060d]","aria-hidden":!0}),T.jsxs("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":!0,children:[T.jsx("div",{className:"absolute -left-24 top-10 w-72 h-72 rounded-full bg-cyan-400/12 blur-3xl"}),T.jsx("div",{className:"absolute right-0 bottom-0 w-96 h-96 rounded-full bg-emerald-200/10 blur-3xl"})]}),T.jsx("div",{className:"relative container mx-auto px-4 md:px-8",children:T.jsxs("div",{className:"max-w-6xl mx-auto",children:[T.jsxs("header",{className:"mb-10 text-center md:text-left rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 md:p-8 shadow-lg shadow-cyan-500/10",children:[T.jsx("p",{className:"uppercase tracking-[0.3em] text-xs md:text-sm text-cyan-200/70",children:"Biography"}),T.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-white leading-tight",children:"SHAWQI AL-WAILY"}),T.jsx("h2",{className:"mt-3 text-xl md:text-2xl font-semibold text-cyan-100",children:"The Diplomatic Bridge Builder"}),T.jsx("p",{className:"mt-4 text-lg md:text-xl italic text-slate-200/85 max-w-3xl",children:"Architect of Continental Communication and Strategic Partnerships"}),T.jsx("blockquote",{className:"mt-4 text-cyan-200/90 italic border-l-4 border-cyan-300/40 pl-4",children:'"Three Decades of Transforming Words into Geopolitical Reality"'})]}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-start",children:[T.jsxs("section",{className:"md:col-span-2 space-y-16",children:[T.jsxs("section",{className:"space-y-6 animate-fade-up rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 md:p-8 shadow-lg shadow-cyan-500/10",children:[T.jsxs("div",{className:"space-y-3",children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-cyan-200/80",children:"Identity"}),T.jsx("h2",{className:"font-playfair text-3xl md:text-4xl lg:text-5xl text-white leading-tight",children:"Calm authority across continents"}),T.jsx("div",{className:"h-px w-14 bg-cyan-300/70"})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-lg text-slate-200 leading-relaxed",children:[T.jsx("p",{children:"I orchestrate the linguistic infrastructure that lets fifty-five African nations speak with one voice. Born in Egypt (1972) and operating from Addis Ababa, I serve as Head of the Translation Division at the African Union Commission, bridging billion-dollar projects and diplomatic summits with precision."}),T.jsx("p",{children:"Every negotiation, treaty, and policy conversation travels through language. I turn that language into strategic leverage for governments, investors, and cross-continental partners."})]})]}),T.jsx("div",{className:"h-px w-full bg-slate-200/70"}),T.jsxs("section",{className:"space-y-6 animate-fade-up rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 md:p-8 shadow-lg shadow-cyan-500/10",style:{animationDelay:"0.05s"},children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-cyan-200/80",children:"Strategic Advantage"}),T.jsx("h3",{className:"font-playfair text-3xl md:text-4xl text-white",children:"Language as business intelligence"}),T.jsx("p",{className:"text-slate-200 text-lg md:text-xl max-w-3xl",children:"Twenty-nine years in translation leadership prove language is a competitive advantage. I manage strategic communication across six official languages, leveraging every linguistic asset for geopolitical impact."})]}),T.jsx("div",{className:"grid sm:grid-cols-2 xl:grid-cols-3 gap-4",children:[{title:"Native Arabic",desc:"Anchors Middle Eastern networks."},{title:"Diplomatic English",desc:"Opens global markets."},{title:"French",desc:"Unlocks Francophone Africa's $2.4T economy."},{title:"Spanish & Amharic",desc:"Operational access across regions."},{title:"Strategic Oversight",desc:"Coordinates Portuguese, Swahili, and every language that matters."},{title:"Executive Precision",desc:"Policy-ready communication for heads of state and investors."}].map((t,e)=>T.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-4 flex flex-col gap-2 transition-transform duration-300 hover:-translate-y-1 hover:shadow-lg hover:shadow-cyan-500/20",style:{animationDelay:`${.05*e}s`},children:[T.jsx("h4",{className:"text-base font-semibold text-white",children:t.title}),T.jsx("p",{className:"text-sm text-slate-200 leading-relaxed",children:t.desc})]},t.title))})]}),T.jsx("div",{className:"h-px w-full bg-slate-200/70"}),T.jsxs("section",{className:"space-y-6 animate-fade-up rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 md:p-8 shadow-lg shadow-cyan-500/10",style:{animationDelay:"0.1s"},children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-cyan-200/80",children:"African Union Leadership"}),T.jsx("h3",{className:"font-playfair text-3xl md:text-4xl text-white",children:"Fourteen years inside the decision engine"}),T.jsx("p",{className:"text-slate-200 text-lg md:text-xl max-w-3xl",children:"Since 2011, the African Union Commission has been my arenaevery treaty, summit, and policy document moves through my team."})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[T.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-5 shadow-lg shadow-cyan-500/15",children:[T.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Strategic Ascent"}),T.jsxs("ul",{className:"space-y-2 text-slate-200 leading-relaxed",children:[T.jsx("li",{children:"Progression from Arabic Reviser to Head of Translation Division (2025)."}),T.jsx("li",{children:"Scope: 50,000+ pages annually; six linguistic units led."}),T.jsx("li",{children:"Representation: High-level conferences across Africa."})]})]}),T.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-5 shadow-lg shadow-cyan-500/15",children:[T.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Value Proposition"}),T.jsxs("ul",{className:"space-y-2 text-slate-200 leading-relaxed",children:[T.jsx("li",{children:"Insider access: every treaty and trade agreement crosses my desk."}),T.jsx("li",{children:"Network intelligence: real-time insight into African political dynamics."}),T.jsx("li",{children:"Operational mastery: logistics for presidential summits and peacekeeping."})]})]})]})]}),T.jsx("div",{className:"h-px w-full bg-slate-200/70"}),T.jsxs("section",{className:"space-y-6 animate-fade-up rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 md:p-8 shadow-lg shadow-cyan-500/10",style:{animationDelay:"0.15s"},children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-cyan-200/80",children:"Regional Nexus"}),T.jsx("h3",{className:"font-playfair text-3xl md:text-4xl text-white",children:"EgyptAfricaMiddle East bridge"}),T.jsx("p",{className:"text-slate-200 text-lg md:text-xl max-w-3xl",children:"My birthplace is my credentialgrounded in Egypt, fluent in African realities, and fluent in Middle Eastern capital flows."})]}),T.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:[{title:"Cross-Regional Intelligence",desc:"Arab League and AU intersections decoded."},{title:"Investment Pathways",desc:"Gulf capital flows into African infrastructure."},{title:"Cultural Navigation",desc:"Operate across African, Middle Eastern, and global business cultures."}].map(t=>T.jsxs("div",{className:"p-5 rounded-xl bg-white/5 border border-white/10 shadow-lg shadow-cyan-500/15",children:[T.jsx("h4",{className:"text-lg font-semibold text-white",children:t.title}),T.jsx("p",{className:"text-slate-200 mt-2 leading-relaxed",children:t.desc})]},t.title))})]}),T.jsx("div",{className:"h-px w-full bg-slate-200/70"}),T.jsxs("section",{className:"space-y-6 animate-fade-up rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 md:p-8 shadow-lg shadow-cyan-500/10",style:{animationDelay:"0.2s"},children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-cyan-200/80",children:"Thought Leadership"}),T.jsx("h3",{className:"font-playfair text-3xl md:text-4xl text-white",children:"Selected works"}),T.jsx("p",{className:"text-slate-200 text-lg",children:"Nine published works across regional expertise, business strategy, and cultural depth."})]}),T.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{title:"Regional Expertise",items:["Egypt Beyond the Maze","From Failure to Success"]},{title:"Business Strategy",items:["The Investor","The Loyalty Constraint"]},{title:"Technical Resources",items:["Glossary of AU, EU and UN Acronyms","Avoiding Mistakes in English"]},{title:"Cultural Depth",items:["Liberal Thoughts","Summary of Archaeology","Al-Lisht Seizing the Two Lands"]}].map(t=>T.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 p-5 shadow-lg shadow-cyan-500/15 flex flex-col gap-2",children:[T.jsx("h4",{className:"text-lg font-semibold text-white",children:t.title}),T.jsx("ul",{className:"space-y-1 text-slate-200 leading-relaxed list-disc list-inside",children:t.items.map(e=>T.jsx("li",{children:e},e))})]},t.title))})]}),T.jsx("div",{className:"h-px w-full bg-slate-200/70"}),T.jsxs("section",{className:"space-y-6 animate-fade-up rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 md:p-8 shadow-lg shadow-cyan-500/10",style:{animationDelay:"0.25s"},children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-cyan-200/80",children:"Network Assets"}),T.jsx("h3",{className:"font-playfair text-3xl md:text-4xl text-white",children:"Access that accelerates decisions"})]}),T.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:[{title:"African Union Ecosystem",desc:"Direct relationships with translation teams across 55 member states."},{title:"Middle Eastern Connections",desc:"Egyptian diplomatic networks and Arab League relationships."},{title:"Global Institutional Links",desc:"UN and EU partnerships for rapid coordination."}].map(t=>T.jsxs("div",{className:"p-5 rounded-xl bg-white/5 border border-white/10 shadow-lg shadow-cyan-500/15",children:[T.jsx("h4",{className:"text-lg font-semibold text-white",children:t.title}),T.jsx("p",{className:"text-slate-200 mt-2 leading-relaxed",children:t.desc})]},t.title))})]}),T.jsx("div",{className:"h-px w-full bg-slate-200/70"}),T.jsxs("section",{className:"space-y-6 animate-fade-up rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 md:p-8 shadow-lg shadow-cyan-500/10",style:{animationDelay:"0.3s"},children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-cyan-200/80",children:"Core Competencies"}),T.jsx("h3",{className:"font-playfair text-3xl md:text-4xl text-white",children:"Built for business development"})]}),T.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:[{title:"Operational",items:["Team leadership across multilingual groups","Budget management & optimization","Delivery under diplomatic pressure"]},{title:"Strategic",items:["Regional analysis of political economy","Risk assessment in cross-cultural negotiations","Opportunity recognition"]},{title:"Communication",items:["Communication mastery","Executive presentations to senior leadership","Cross-cultural facilitation"]}].map(t=>T.jsxs("div",{className:"p-5 rounded-xl bg-white/5 border border-white/10 shadow-lg shadow-cyan-500/15 flex flex-col gap-2",children:[T.jsx("h4",{className:"text-lg font-semibold text-white",children:t.title}),T.jsx("ul",{className:"space-y-1 text-slate-200 leading-relaxed list-disc list-inside",children:t.items.map(e=>T.jsx("li",{children:e},e))})]},t.title))})]}),T.jsx("div",{className:"h-px w-full bg-slate-200/70"}),T.jsxs("section",{className:"space-y-6 animate-fade-up rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 md:p-8 shadow-lg shadow-cyan-500/10",style:{animationDelay:"0.35s"},children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-cyan-200/80",children:"Business Case"}),T.jsx("h3",{className:"font-playfair text-3xl md:text-4xl text-white",children:"Why partner with Shawqi Al-Waily"})]}),T.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:[{title:"Companies entering Africa",bullets:["Navigate complex regulatory environments.","Understand cultural nuances that make or break deals.","Access decision-maker networks through AU connections."]},{title:"Investors seeking intelligence",bullets:["Real-time insights into policy developments.","Understand how regional politics impact business.","Mitigate risk with deep political awareness."]},{title:"Cross-continental partnerships",bullets:["Bridge African, Middle Eastern, and global stakeholders.","Cultural translation beyond language.","Long-term partnership sustainability."]}].map(t=>T.jsxs("div",{className:"p-5 rounded-xl bg-white/5 border border-white/10 shadow-lg shadow-cyan-500/15 flex flex-col gap-3",children:[T.jsx("h4",{className:"text-lg font-semibold text-white",children:t.title}),T.jsx("ul",{className:"space-y-1 text-slate-200 leading-relaxed list-disc list-inside",children:t.bullets.map(e=>T.jsx("li",{children:e},e))})]},t.title))})]}),T.jsx("div",{className:"h-px w-full bg-slate-200/70"}),T.jsxs("section",{className:"space-y-6 animate-fade-up rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 md:p-8 shadow-lg shadow-cyan-500/10",style:{animationDelay:"0.4s"},children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.25em] text-cyan-200/80",children:"Personal Foundation"}),T.jsx("h3",{className:"font-playfair text-3xl md:text-4xl text-white",children:"Values that anchor the work"})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-slate-200 leading-relaxed",children:[T.jsx("p",{children:"Married with four children who understand that their father's work shapes how continents communicate. When Africa speaks with clarity, opportunities multiply."}),T.jsxs("p",{children:[T.jsx("strong",{children:"Core Values:"})," Institutional excellence, cultural bridge-building, strategic precision, long-term thinking."]})]}),T.jsxs("div",{className:"space-y-4 p-5 rounded-xl bg-white/5 border border-white/10 shadow-lg shadow-cyan-500/15",children:[T.jsx("h4",{className:"text-lg font-semibold text-white",children:"The mission forward"}),T.jsx("p",{className:"text-slate-200 leading-relaxed",children:"Continental integration through communication: every major opportunity begins with a conversation. Whether you are a multinational corporation, an investor, a government entity, or building cross-cultural teams, my expertise delivers results."}),T.jsxs("div",{className:"text-sm text-slate-200 space-y-1",children:[T.jsx("p",{className:"font-semibold text-white",children:"SHAWQI AL-WAILY"}),T.jsx("p",{children:"Head of Translation Division, African Union Commission  Author  Cultural Bridge-Builder  Strategic Partner"}),T.jsx("p",{children:"29 years transforming language into opportunity; 14 years at the center of African decision-making; 3 decades building the networks that shape continental futures."})]}),T.jsx("div",{children:T.jsx("a",{href:"/",className:"inline-flex items-center gap-2 text-cyan-200 hover:text-white transition-colors text-sm",children:T.jsx("span",{children:" Back to Home"})})})]})]})]}),T.jsx("aside",{className:"md:col-span-1",children:T.jsxs("div",{className:"sticky top-28 space-y-6",children:[T.jsxs("div",{className:"relative w-full rounded-2xl overflow-hidden shadow-lg shadow-cyan-500/20 border border-white/10 bg-white/5 backdrop-blur-md",children:[T.jsx("img",{src:"/images/your-new-image.png",alt:Zw.name,className:"w-full h-auto object-cover"}),T.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:"inset 0 0 80px rgba(0,0,0,0.45)"}})]}),T.jsxs("div",{className:"p-5 rounded-xl bg-white/5 border border-white/10 shadow-lg shadow-cyan-500/15",children:[T.jsx("p",{className:"text-sm text-slate-200 leading-relaxed",children:"Ready to explore how strategic communication can unlock your next opportunity?"}),T.jsxs("a",{href:"mailto:shawqialwaily@outlook.com",className:"mt-3 inline-flex items-center gap-2 text-cyan-200 hover:text-white transition-colors",children:[T.jsx("span",{children:"Let's connect for strategic consultation"}),T.jsx("span",{className:"inline-block",children:""})]})]})]})})]})]})})]}),T.jsx(sc,{})]}),Rte={en:{kicker:"Book",tagline:"Works positioned as strategic instrumentseach crafted to translate insight into action."},fr:{kicker:"Livre",tagline:"Des ouvrages conus comme des instruments stratgiqueschacun pour convertir l'analyse en action."},ar:{kicker:"",tagline:"         ."},es:{kicker:"Book",tagline:"Works positioned as strategic instrumentseach crafted to translate insight into action."}},Lte=({cover:t,hovered:e})=>{const n=L.useRef(null),r=QS(t);return _v((i,a)=>{if(!n.current)return;const s=e?.45:.12,o=e?.35:0;n.current.rotation.y=P0.lerp(n.current.rotation.y,s,a*3),n.current.position.y=P0.lerp(n.current.position.y,o,a*3)}),T.jsx(oG,{speed:e?1:.4,floatIntensity:.4,rotationIntensity:.2,children:T.jsxs("mesh",{ref:n,castShadow:!0,receiveShadow:!0,children:[T.jsx("boxGeometry",{args:[1.8,2.6,.2]}),T.jsx("meshStandardMaterial",{map:r,roughness:.35,metalness:.25})]})})},M3=({cover:t,title:e,kicker:n,featured:r,link:i,delay:a})=>{const[s,o]=L.useState(!1);return T.jsxs(Ov,{to:i,className:`group relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md shadow-lg shadow-cyan-500/10 transition-transform duration-500 hover:-translate-y-2 ${r?"md:col-span-2":""}`,style:{animation:"fade-up 0.8s ease-out forwards",animationDelay:`${a}s`,opacity:0},children:[T.jsxs("div",{className:"relative h-64 md:h-80",children:[T.jsxs(N7,{className:"absolute inset-0",camera:{position:[0,0,4.5],fov:30},onPointerEnter:()=>o(!0),onPointerLeave:()=>o(!1),children:[T.jsx("color",{attach:"background",args:["#0a1224"]}),T.jsx("ambientLight",{intensity:.45}),T.jsx("directionalLight",{intensity:1.2,position:[1.5,2,3],color:"#b8e9ff"}),T.jsxs(L.Suspense,{fallback:T.jsx(j7,{center:!0,className:"text-white/60 text-sm",children:"Loading"}),children:[T.jsx(Lte,{cover:t,hovered:s}),T.jsx(pG,{preset:"city"})]})]}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0b1530]/70 via-transparent to-[#0b1530]/50"})]}),T.jsxs("div",{className:"relative p-6 flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-cyan-200/70",children:n}),T.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white leading-tight",children:e})]}),T.jsx("span",{className:"text-cyan-200/80 transition-transform duration-300 group-hover:translate-x-1",children:""})]}),T.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none",style:{boxShadow:"inset 0 0 80px rgba(140,255,232,0.18)"}})]})},k4=()=>{const{t,language:e}=Yo(),n=L.useRef(null),[r,i]=L.useState(!1),a=Rte[e];L.useEffect(()=>{const l=new IntersectionObserver(([c])=>i(c.isIntersecting),{threshold:.2});return n.current&&l.observe(n.current),()=>l.disconnect()},[]);const s=Qw[0],o=Qw.slice(1,3);return T.jsxs("section",{id:"books",ref:n,className:"relative bg-[#070d1e] text-white py-24 md:py-28 overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0c1530] via-[#091025] to-[#04070f]","aria-hidden":!0}),T.jsxs("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":!0,children:[T.jsx("div",{className:"absolute -left-32 -top-32 w-80 h-80 rounded-full bg-cyan-400/10 blur-3xl"}),T.jsx("div",{className:"absolute right-0 bottom-0 w-96 h-96 rounded-full bg-emerald-300/10 blur-3xl"})]}),T.jsxs("div",{className:"relative container mx-auto px-6 md:px-10",children:[T.jsxs(Gi.div,{className:"max-w-3xl",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.35},transition:{duration:.6},children:[T.jsx("p",{className:"uppercase tracking-[0.25em] text-sm text-cyan-200/70",children:t("books.subtitle")}),T.jsx("h2",{className:"text-3xl md:text-5xl font-semibold text-white mt-3",children:t("books.title")}),T.jsx("p",{className:"text-slate-200/80 mt-3 max-w-2xl",children:a.tagline})]}),T.jsxs("div",{className:`mt-12 grid md:grid-cols-3 gap-6 ${r?"":"opacity-0"}`,style:{animation:r?"fade-up 0.8s ease-out forwards":void 0},children:[s&&T.jsx(M3,{cover:s.cover,title:s.title[e],kicker:a.kicker,featured:!0,link:`/books/${s.slug}`,delay:.15},s.id),o.map((l,c)=>T.jsx(M3,{cover:l.cover,title:l.title[e],kicker:a.kicker,link:`/books/${l.slug}`,delay:.25+c*.1},l.id))]})]})]})},Nte=Object.freeze(Object.defineProperty({__proto__:null,default:k4},Symbol.toStringTag,{value:"Module"})),kte=()=>T.jsxs("div",{className:"min-h-screen bg-background",children:[T.jsx(ac,{}),T.jsx("main",{className:"pt-24",children:T.jsx(k4,{})}),T.jsx(sc,{})]}),Ite=[{id:"h1",title:"Future of Work Research",category:"Research",summary:"A summary of research and advisory projects on the future of work."},{id:"h2",title:"Leadership & Strategy",category:"Articles",summary:"Insights on leadership in complex and rapidly changing environments."},{id:"h3",title:"Global Advisory Projects",category:"Work",summary:"Selected advisory engagements with governments and institutions."}],Ote=()=>{const[t]=L.useState(Ite),e=sf();return T.jsxs("div",{className:"min-h-screen bg-[#050816] text-white",children:[T.jsx(ac,{}),T.jsxs("main",{className:"relative pt-24 pb-16 overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0b1530] via-[#060b17] to-[#04060d]","aria-hidden":!0}),T.jsxs("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":!0,children:[T.jsx("div",{className:"absolute -left-24 top-10 w-72 h-72 rounded-full bg-cyan-400/12 blur-3xl"}),T.jsx("div",{className:"absolute right-0 bottom-0 w-96 h-96 rounded-full bg-emerald-200/10 blur-3xl"})]}),T.jsxs("div",{className:"relative container mx-auto px-4 md:px-8",children:[T.jsxs("div",{className:"text-center mb-12",children:[T.jsx("div",{className:"flex justify-start mb-4",children:T.jsxs("button",{onClick:()=>e(-1),className:"inline-flex items-center gap-2 text-cyan-200 hover:text-white transition-colors",children:[T.jsx(sM,{className:"w-4 h-4"}),T.jsx("span",{children:"Back"})]})}),T.jsx("p",{className:"uppercase tracking-[0.3em] text-xs md:text-sm text-cyan-200/70",children:"Work"}),T.jsx("h1",{className:"font-playfair text-4xl font-bold text-white",children:"Highlights & Articles"}),T.jsx("p",{className:"text-slate-200 mt-4 max-w-2xl mx-auto",children:"Selected work and articles with full reads and expanded context."})]}),T.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(n=>T.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 shadow-lg shadow-cyan-500/15 transition-transform duration-500 hover:-translate-y-2 hover:shadow-cyan-500/25",children:[T.jsx("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500",style:{background:"linear-gradient(135deg, rgba(124,193,255,0.12), rgba(91,230,255,0.06))"}}),T.jsxs("div",{className:"relative space-y-3",children:[T.jsx("h3",{className:"font-semibold text-lg text-white",children:n.title}),T.jsx("p",{className:"text-sm text-cyan-200/80",children:n.category}),T.jsx("p",{className:"text-slate-200 leading-relaxed line-clamp-3",children:n.summary}),T.jsx("div",{children:T.jsxs(Ov,{to:`/work/${n.id}`,className:"inline-flex items-center gap-2 text-cyan-200 hover:text-white font-medium transition-colors",children:[T.jsx("span",{children:"Read More"}),T.jsx("span",{className:"inline-block",children:""})]})})]})]},n.id))})]})]}),T.jsx(sc,{})]})},Dte=()=>{const{id:t}=sU(),e=sf(),n={h1:{title:"Future of Work Research",body:"Full article content on Future of Work research, advisory projects, and key findings. This is the expanded page for the highlight."},h2:{title:"Leadership & Strategy",body:"Expanded article on leadership patterns, decision frameworks, and case studies."},h3:{title:"Global Advisory Projects",body:"Detailed descriptions of advisory engagements, outcomes, and contact points."}}[t];return n?T.jsxs("div",{className:"min-h-screen bg-[#050816] text-white",children:[T.jsx(ac,{}),T.jsxs("main",{className:"relative pt-24 pb-16 overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0b1530] via-[#060b17] to-[#04060d]","aria-hidden":!0}),T.jsxs("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":!0,children:[T.jsx("div",{className:"absolute -left-24 top-10 w-72 h-72 rounded-full bg-cyan-400/12 blur-3xl"}),T.jsx("div",{className:"absolute right-0 bottom-0 w-96 h-96 rounded-full bg-emerald-200/10 blur-3xl"})]}),T.jsxs("div",{className:"relative container mx-auto px-4 md:px-8",children:[T.jsx("div",{className:"mb-6",children:T.jsxs(Ov,{to:"/work",className:"inline-flex items-center gap-2 text-cyan-200 hover:text-white transition-colors",children:[T.jsx(sM,{className:"w-4 h-4"}),"Back to Highlights"]})}),T.jsxs("article",{className:"max-w-3xl rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md p-6 md:p-8 shadow-lg shadow-cyan-500/15",children:[T.jsx("h1",{className:"font-playfair text-3xl text-white mb-4",children:n.title}),T.jsx("p",{className:"text-slate-200 leading-relaxed",children:n.body})]})]})]}),T.jsx(sc,{})]}):T.jsxs("div",{className:"min-h-screen bg-[#050816] text-white",children:[T.jsx(ac,{}),T.jsxs("main",{className:"relative pt-24 flex items-center justify-center overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0b1530] via-[#060b17] to-[#04060d]","aria-hidden":!0}),T.jsxs("div",{className:"relative text-center p-6 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-md shadow-lg shadow-cyan-500/15",children:[T.jsx("h2",{className:"text-2xl font-semibold",children:"Article not found"}),T.jsx("button",{onClick:()=>e(-1),className:"mt-4 inline-flex items-center gap-2 text-cyan-200 hover:text-white transition-colors",children:T.jsx("span",{children:"Go back"})})]})]}),T.jsx(sc,{})]})},Ute=()=>{const t=fc();return L.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),T.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),T.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),T.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},zte=new qY,Fte=()=>T.jsx(YY,{client:zte,children:T.jsx(ZZ,{children:T.jsxs(SY,{children:[T.jsx(sq,{}),T.jsx(zq,{}),T.jsx(WZ,{children:T.jsxs(zZ,{children:[T.jsx(io,{path:"/",element:T.jsx(Tte,{})}),T.jsx(io,{path:"/biography",element:T.jsx(Pte,{})}),T.jsx(io,{path:"/books",element:T.jsx(kte,{})}),T.jsx(io,{path:"/books/:slug",element:T.jsx(Cte,{})}),T.jsx(io,{path:"/work",element:T.jsx(Ote,{})}),T.jsx(io,{path:"/work/:id",element:T.jsx(Dte,{})}),T.jsx(io,{path:"*",element:T.jsx(Ute,{})})]})})]})})});X_(document.getElementById("root")).render(T.jsx(Fte,{}));export{_v as D,Yo as N,oG as S,L as U,Gi as k,T as u,N7 as y};
